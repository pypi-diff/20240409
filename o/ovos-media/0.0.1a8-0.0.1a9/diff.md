# Comparing `tmp/ovos_media-0.0.1a8-py3-none-any.whl.zip` & `tmp/ovos_media-0.0.1a9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,21 @@
-Zip file size: 32097 bytes, number of entries: 19
--rw-r--r--  2.0 unx      545 b- defN 24-Jan-27 11:00 ovos_media/__init__.py
--rw-r--r--  2.0 unx     1389 b- defN 24-Jan-27 11:00 ovos_media/__main__.py
--rw-r--r--  2.0 unx    10069 b- defN 24-Jan-27 11:00 ovos_media/gui.py
--rw-r--r--  2.0 unx    30577 b- defN 24-Jan-27 11:00 ovos_media/mpris.py
--rw-r--r--  2.0 unx    44721 b- defN 24-Jan-27 11:00 ovos_media/player.py
--rw-r--r--  2.0 unx     3289 b- defN 24-Jan-27 11:00 ovos_media/service.py
--rw-r--r--  2.0 unx     1260 b- defN 24-Jan-27 11:00 ovos_media/utils.py
--rw-r--r--  2.0 unx      114 b- defN 24-Jan-27 11:00 ovos_media/version.py
--rw-r--r--  2.0 unx      167 b- defN 24-Jan-27 11:00 ovos_media/media_backends/__init__.py
--rw-r--r--  2.0 unx      713 b- defN 24-Jan-27 11:00 ovos_media/media_backends/audio.py
--rw-r--r--  2.0 unx    16279 b- defN 24-Jan-27 11:00 ovos_media/media_backends/base.py
--rw-r--r--  2.0 unx      688 b- defN 24-Jan-27 11:00 ovos_media/media_backends/video.py
--rw-r--r--  2.0 unx      674 b- defN 24-Jan-27 11:00 ovos_media/media_backends/web.py
--rw-r--r--  2.0 unx    10867 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/LICENSE.md
--rw-r--r--  2.0 unx      859 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/WHEEL
--rw-r--r--  2.0 unx       57 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       11 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1584 b- defN 24-Jan-27 11:00 ovos_media-0.0.1a8.dist-info/RECORD
-19 files, 123955 bytes uncompressed, 29505 bytes compressed:  76.2%
+Zip file size: 32201 bytes, number of entries: 19
+-rw-r--r--  2.0 unx      545 b- defN 24-Jan-27 12:59 ovos_media/__init__.py
+-rw-r--r--  2.0 unx     1389 b- defN 24-Jan-27 12:59 ovos_media/__main__.py
+-rw-r--r--  2.0 unx    10305 b- defN 24-Jan-27 12:59 ovos_media/gui.py
+-rw-r--r--  2.0 unx    30577 b- defN 24-Jan-27 12:59 ovos_media/mpris.py
+-rw-r--r--  2.0 unx    44903 b- defN 24-Jan-27 12:59 ovos_media/player.py
+-rw-r--r--  2.0 unx     3289 b- defN 24-Jan-27 12:59 ovos_media/service.py
+-rw-r--r--  2.0 unx     1260 b- defN 24-Jan-27 12:59 ovos_media/utils.py
+-rw-r--r--  2.0 unx      114 b- defN 24-Jan-27 12:59 ovos_media/version.py
+-rw-r--r--  2.0 unx      167 b- defN 24-Jan-27 12:59 ovos_media/media_backends/__init__.py
+-rw-r--r--  2.0 unx      713 b- defN 24-Jan-27 12:59 ovos_media/media_backends/audio.py
+-rw-r--r--  2.0 unx    16279 b- defN 24-Jan-27 12:59 ovos_media/media_backends/base.py
+-rw-r--r--  2.0 unx      688 b- defN 24-Jan-27 12:59 ovos_media/media_backends/video.py
+-rw-r--r--  2.0 unx      674 b- defN 24-Jan-27 12:59 ovos_media/media_backends/web.py
+-rw-r--r--  2.0 unx    10867 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx      859 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/WHEEL
+-rw-r--r--  2.0 unx       57 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       11 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1584 b- defN 24-Jan-27 12:59 ovos_media-0.0.1a9.dist-info/RECORD
+19 files, 124373 bytes uncompressed, 29609 bytes compressed:  76.2%
```

## zipnote {}

```diff
@@ -33,26 +33,26 @@
 
 Filename: ovos_media/media_backends/video.py
 Comment: 
 
 Filename: ovos_media/media_backends/web.py
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/LICENSE.md
+Filename: ovos_media-0.0.1a9.dist-info/LICENSE.md
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/METADATA
+Filename: ovos_media-0.0.1a9.dist-info/METADATA
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/WHEEL
+Filename: ovos_media-0.0.1a9.dist-info/WHEEL
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/entry_points.txt
+Filename: ovos_media-0.0.1a9.dist-info/entry_points.txt
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/top_level.txt
+Filename: ovos_media-0.0.1a9.dist-info/top_level.txt
 Comment: 
 
-Filename: ovos_media-0.0.1a8.dist-info/RECORD
+Filename: ovos_media-0.0.1a9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## ovos_media/gui.py

```diff
@@ -55,15 +55,17 @@
         self["skillCards"] = skills_cards
 
     def update_seekbar_capabilities(self):
         self["canResume"] = self.player.state == PlayerState.PAUSED
         self["canPause"] = self.player.state == PlayerState.PLAYING
         self["canPrev"] = self.player.can_prev
         self["canNext"] = self.player.can_next
-        self["isLike"] = self.player.now_playing.original_uri in self.player.media.liked_songs and\
+        self["isLike"] = self.player.now_playing.original_uri in self.player.media.liked_songs and \
+                         self.player.now_playing.playback != PlaybackType.MPRIS
+        self["isMusic"] = self.player.now_playing.media_type == MediaType.MUSIC and \
                          self.player.now_playing.playback != PlaybackType.MPRIS
 
         if self.player.loop_state == LoopState.NONE:
             self["loopStatus"] = "None"
         elif self.player.loop_state == LoopState.REPEAT_TRACK:
             self["loopStatus"] = "RepeatTrack"
         elif self.player.loop_state == LoopState.REPEAT:
@@ -163,17 +165,18 @@
         self.send_event("ocp.gui.show.suggestion.view.playlist")
 
     def render_disambiguation(self, timeout=None):
         self.render_pages(timeout, index=2)
         self.send_event("ocp.gui.show.suggestion.view.disambiguation")
 
     def render_playback_error(self):
+        self["image"] = join(dirname(__file__), "qt5/images/fail.svg")
         self.display_notification("Sorry, An error occurred while playing media")
         self["footer_text"] = "Sorry, An error occurred while playing media"
-        self.remove_search_spinner()
+        self.render_pages(index=1)
 
     def render_search_spinner(self, persist_home=False):
         self.display_notification("Searching...Your query is being processed")
         self["footer_text"] = "Querying Skills\n\n"
         self.send_event("ocp.gui.show.busy.overlay")
 
     def remove_search_spinner(self):
```

## ovos_media/player.py

```diff
@@ -177,16 +177,18 @@
             video = False
         meta = self.stream_xtract.extract_stream(uri, video)
         # update media entry with new data
         if meta:
             LOG.info(f"OCP plugins metadata: {meta}")
             self.update(meta, newonly=True)
             self.original_uri = uri
-        elif not any((uri.startswith(s) for s in ["http", "file", "/"])):
-            LOG.info(f"OCP WARNING: plugins returned no metadata for uri {uri}")
+
+        # validate extracted uri
+        if not any((self.uri.startswith(s) for s in ["http", "file", "/"])):
+            raise ValueError(f"invalid stream: {uri}")
 
     # bus api
     def handle_external_play(self, message):
         """
         Handle 'ovos.common_play.play' Messages. Update the metadata with new
         data received unconditionally, otherwise previous song keys might
         bleed into the new track
@@ -555,16 +557,18 @@
         xtract = load_stream_extractors()  # @lru_cache, its a lazy loaded singleton
         self.bus.emit(message.response({"SEI": xtract.supported_seis}))
 
     def on_invalid_stream(self):
         """
         Handle media playback errors. Show an error and play the next track.
         """
+        self.bus.emit(Message("mycroft.audio.play_sound", {"uri": "snd/error.mp3"}))
         self.gui.manage_display(OCPGUIState.PLAYBACK_ERROR)
         LOG.warning(f"Failed to play: {self.now_playing}")
+        time.sleep(1.5)  # let the user process that playback failed before moving on
         self.play_next()
 
     # media controls
     def play_media(self, track: Union[dict, MediaEntry],
                    disambiguation: List[Union[dict, MediaEntry]] = None,
                    playlist: List[Union[dict, MediaEntry]] = None):
         """
```

## ovos_media/version.py

```diff
@@ -1,6 +1,6 @@
 # START_VERSION_BLOCK
 VERSION_MAJOR = 0
 VERSION_MINOR = 0
 VERSION_BUILD = 1
-VERSION_ALPHA = 8
+VERSION_ALPHA = 9
 # END_VERSION_BLOCK
```

## Comparing `ovos_media-0.0.1a8.dist-info/LICENSE.md` & `ovos_media-0.0.1a9.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `ovos_media-0.0.1a8.dist-info/METADATA` & `ovos_media-0.0.1a9.dist-info/METADATA`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ovos-media
-Version: 0.0.1a8
+Version: 0.0.1a9
 Summary: ovos-core audio daemon client
 Home-page: https://github.com/OpenVoiceOS/ovos-media
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Development Status :: 4 - Beta
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
```

## Comparing `ovos_media-0.0.1a8.dist-info/RECORD` & `ovos_media-0.0.1a9.dist-info/RECORD`

 * *Files 21% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 ovos_media/__init__.py,sha256=pIglvJvKmfXdNQx64OWxgLC0OjKwpQa5zhjn5aG2t64,545
 ovos_media/__main__.py,sha256=CY3WAxpxFHbrSaV6afTSlyRne1WAKvRj5PGJd2Jpkeo,1389
-ovos_media/gui.py,sha256=NMLPt8Bw3cWjRkYv4JracqTtwHE2hTMI2pVtLJf5aCE,10069
+ovos_media/gui.py,sha256=lDILXCRQEw-sxiuxekrgVx7SB_eerpH5aCmixypGbH0,10305
 ovos_media/mpris.py,sha256=gz1DsKeXsb55HzL5KrvRoreY111nhTR09boIJ3eXSWA,30577
-ovos_media/player.py,sha256=ZhGzL8UPbcVONSaB-nZINK-RVN7crExAKHxh_5yK9Xk,44721
+ovos_media/player.py,sha256=K1RlGzVUe4v6GZHLYZORNvKBwdCwXuBCLHfg68tqVC4,44903
 ovos_media/service.py,sha256=K4Ae12glMoe1zqgMTBcKQvhuwChqDDSqtQs0cmaNjQQ,3289
 ovos_media/utils.py,sha256=mYgY9ejt7OD3qcZLwVtegzJTUE82q9mU4EHSN88wAdo,1260
-ovos_media/version.py,sha256=6kvJLuwDUzqExq7Mbfq5xyhxZP8CEBY8cKEV3YQbaB0,114
+ovos_media/version.py,sha256=86YhezTKmw2nZLmwcBjZbQs1evMJHhywRewNftxgn30,114
 ovos_media/media_backends/__init__.py,sha256=RT2msUfkxesxL1yEbFMdp5QfsHiWeLw3THh7H7z9vww,167
 ovos_media/media_backends/audio.py,sha256=zie2D755RoA1a2g7r-0UXZUxA_wwEa_Geb4-1EsPPJ0,713
 ovos_media/media_backends/base.py,sha256=N2PWOBe-0GpWzXA5oXkd65NJgmSLirjELJ3gUyJ6r9E,16279
 ovos_media/media_backends/video.py,sha256=jo0zXpgcphi3Lmy0mr9cR-0On40dfekUToTJn02K8vA,688
 ovos_media/media_backends/web.py,sha256=n-zOJJYohKnFpRzazee3ZyKTph5BxZrJINrH-RyayvY,674
-ovos_media-0.0.1a8.dist-info/LICENSE.md,sha256=bgJeE7gnPRqTJq1DMpXUnpsSktPSeP5tLg7mRYn5DpU,10867
-ovos_media-0.0.1a8.dist-info/METADATA,sha256=WHHhLSHZW2AuXwVKd4wMA9rn0bLSA3YQ-GcyTliymZA,859
-ovos_media-0.0.1a8.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-ovos_media-0.0.1a8.dist-info/entry_points.txt,sha256=C2Sni3YftrbnYeiOu7zQTnoNlj7GdONPoPagNVXdYDo,57
-ovos_media-0.0.1a8.dist-info/top_level.txt,sha256=mmfPr0IDR-5A1ei0Y6S_gYneNW0Kb7KqnAbig0bid5g,11
-ovos_media-0.0.1a8.dist-info/RECORD,,
+ovos_media-0.0.1a9.dist-info/LICENSE.md,sha256=bgJeE7gnPRqTJq1DMpXUnpsSktPSeP5tLg7mRYn5DpU,10867
+ovos_media-0.0.1a9.dist-info/METADATA,sha256=B1meWQiH1StI4CKgUQTHicEcEGNPQ8kF_eXZioIap24,859
+ovos_media-0.0.1a9.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
+ovos_media-0.0.1a9.dist-info/entry_points.txt,sha256=C2Sni3YftrbnYeiOu7zQTnoNlj7GdONPoPagNVXdYDo,57
+ovos_media-0.0.1a9.dist-info/top_level.txt,sha256=mmfPr0IDR-5A1ei0Y6S_gYneNW0Kb7KqnAbig0bid5g,11
+ovos_media-0.0.1a9.dist-info/RECORD,,
```

