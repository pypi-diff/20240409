# Comparing `tmp/Starlette-WTF-0.4.3rc1.tar.gz` & `tmp/Starlette-WTF-0.4.4rc1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "Starlette-WTF-0.4.3rc1.tar", last modified: Thu Jun 17 09:04:51 2021, max compression
+gzip compressed data, was "Starlette-WTF-0.4.4rc1.tar", last modified: Tue Apr  9 06:22:30 2024, max compression
```

## Comparing `Starlette-WTF-0.4.3rc1.tar` & `Starlette-WTF-0.4.4rc1.tar`

### file list

```diff
@@ -1,17 +1,24 @@
-drwxr-xr-x   0 andres     (501) staff       (20)        0 2021-06-17 09:04:51.917289 Starlette-WTF-0.4.3rc1/
--rw-r--r--   0 andres     (501) staff       (20)    18219 2021-06-17 09:04:51.917706 Starlette-WTF-0.4.3rc1/PKG-INFO
--rw-r--r--   0 andres     (501) staff       (20)    14001 2021-06-16 21:02:28.000000 Starlette-WTF-0.4.3rc1/README.md
-drwxr-xr-x   0 andres     (501) staff       (20)        0 2021-06-17 09:04:51.912997 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/
--rw-r--r--   0 andres     (501) staff       (20)    18219 2021-06-17 09:04:51.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/PKG-INFO
--rw-r--r--   0 andres     (501) staff       (20)      340 2021-06-17 09:04:51.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/SOURCES.txt
--rw-r--r--   0 andres     (501) staff       (20)        1 2021-06-17 09:04:51.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/dependency_links.txt
--rw-r--r--   0 andres     (501) staff       (20)        1 2021-05-04 07:47:34.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/not-zip-safe
--rw-r--r--   0 andres     (501) staff       (20)       79 2021-06-17 09:04:51.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/requires.txt
--rw-r--r--   0 andres     (501) staff       (20)       14 2021-06-17 09:04:51.000000 Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/top_level.txt
--rw-r--r--   0 andres     (501) staff       (20)       79 2021-06-17 09:04:51.918389 Starlette-WTF-0.4.3rc1/setup.cfg
--rw-r--r--   0 andres     (501) staff       (20)     1215 2021-06-17 09:04:35.000000 Starlette-WTF-0.4.3rc1/setup.py
-drwxr-xr-x   0 andres     (501) staff       (20)        0 2021-06-17 09:04:51.916377 Starlette-WTF-0.4.3rc1/starlette_wtf/
--rw-r--r--   0 andres     (501) staff       (20)      293 2021-05-04 07:31:30.000000 Starlette-WTF-0.4.3rc1/starlette_wtf/__init__.py
--rw-r--r--   0 andres     (501) staff       (20)     8952 2021-06-16 21:42:06.000000 Starlette-WTF-0.4.3rc1/starlette_wtf/csrf.py
--rw-r--r--   0 andres     (501) staff       (20)     6349 2021-05-04 07:31:30.000000 Starlette-WTF-0.4.3rc1/starlette_wtf/form.py
--rw-r--r--   0 andres     (501) staff       (20)     5445 2021-05-04 07:31:30.000000 Starlette-WTF-0.4.3rc1/starlette_wtf/util.py
+drwxr-xr-x   0 andres     (501) staff       (20)        0 2024-04-09 06:22:30.451796 Starlette-WTF-0.4.4rc1/
+-rw-r--r--   0 andres     (501) staff       (20)     1079 2024-04-08 07:42:57.000000 Starlette-WTF-0.4.4rc1/LICENSE.txt
+-rw-r--r--   0 andres     (501) staff       (20)    15024 2024-04-09 06:22:30.451439 Starlette-WTF-0.4.4rc1/PKG-INFO
+-rw-r--r--   0 andres     (501) staff       (20)    14016 2024-04-08 10:13:11.000000 Starlette-WTF-0.4.4rc1/README.md
+drwxr-xr-x   0 andres     (501) staff       (20)        0 2024-04-09 06:22:30.449977 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/
+-rw-r--r--   0 andres     (501) staff       (20)    15024 2024-04-09 06:22:30.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/PKG-INFO
+-rw-r--r--   0 andres     (501) staff       (20)      470 2024-04-09 06:22:30.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/SOURCES.txt
+-rw-r--r--   0 andres     (501) staff       (20)        1 2024-04-09 06:22:30.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/dependency_links.txt
+-rw-r--r--   0 andres     (501) staff       (20)        1 2024-04-08 07:43:57.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/not-zip-safe
+-rw-r--r--   0 andres     (501) staff       (20)       85 2024-04-09 06:22:30.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/requires.txt
+-rw-r--r--   0 andres     (501) staff       (20)       14 2024-04-09 06:22:30.000000 Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/top_level.txt
+-rw-r--r--   0 andres     (501) staff       (20)       79 2024-04-09 06:22:30.452557 Starlette-WTF-0.4.4rc1/setup.cfg
+-rw-r--r--   0 andres     (501) staff       (20)     1283 2024-04-09 06:22:23.000000 Starlette-WTF-0.4.4rc1/setup.py
+drwxr-xr-x   0 andres     (501) staff       (20)        0 2024-04-09 06:22:30.447037 Starlette-WTF-0.4.4rc1/starlette_wtf/
+-rw-r--r--   0 andres     (501) staff       (20)      293 2024-04-08 07:42:57.000000 Starlette-WTF-0.4.4rc1/starlette_wtf/__init__.py
+-rw-r--r--   0 andres     (501) staff       (20)     8952 2024-04-08 07:42:57.000000 Starlette-WTF-0.4.4rc1/starlette_wtf/csrf.py
+-rw-r--r--   0 andres     (501) staff       (20)     6349 2024-04-08 07:42:57.000000 Starlette-WTF-0.4.4rc1/starlette_wtf/form.py
+-rw-r--r--   0 andres     (501) staff       (20)     5445 2024-04-08 07:42:57.000000 Starlette-WTF-0.4.4rc1/starlette_wtf/util.py
+drwxr-xr-x   0 andres     (501) staff       (20)        0 2024-04-09 06:22:30.449439 Starlette-WTF-0.4.4rc1/tests/
+-rw-r--r--   0 andres     (501) staff       (20)     2971 2024-04-08 10:33:23.000000 Starlette-WTF-0.4.4rc1/tests/test_asyncvalidators.py
+-rw-r--r--   0 andres     (501) staff       (20)    16461 2024-04-08 10:33:23.000000 Starlette-WTF-0.4.4rc1/tests/test_csrf.py
+-rw-r--r--   0 andres     (501) staff       (20)     1492 2024-04-08 10:33:23.000000 Starlette-WTF-0.4.4rc1/tests/test_customvalidators.py
+-rw-r--r--   0 andres     (501) staff       (20)     4679 2024-04-09 05:36:31.000000 Starlette-WTF-0.4.4rc1/tests/test_form.py
+-rw-r--r--   0 andres     (501) staff       (20)     5134 2024-04-08 10:33:23.000000 Starlette-WTF-0.4.4rc1/tests/test_util.py
```

### Comparing `Starlette-WTF-0.4.3rc1/PKG-INFO` & `Starlette-WTF-0.4.4rc1/PKG-INFO`

 * *Files 20% similar despite different names*

```diff
@@ -1,1139 +1,939 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 5374 6172  : 2.1.Name: Star
 00000020: 6c65 7474 652d 5754 460a 5665 7273 696f  lette-WTF.Versio
-00000030: 6e3a 2030 2e34 2e33 7263 310a 5375 6d6d  n: 0.4.3rc1.Summ
+00000030: 6e3a 2030 2e34 2e34 7263 310a 5375 6d6d  n: 0.4.4rc1.Summ
 00000040: 6172 793a 2053 696d 706c 6520 696e 7465  ary: Simple inte
 00000050: 6772 6174 696f 6e20 6f66 2053 7461 726c  gration of Starl
 00000060: 6574 7465 2061 6e64 2057 5446 6f72 6d73  ette and WTForms
 00000070: 2e0a 486f 6d65 2d70 6167 653a 2068 7474  ..Home-page: htt
 00000080: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
 00000090: 6d75 6963 7373 2f73 7461 726c 6574 7465  muicss/starlette
 000000a0: 2d77 7466 0a41 7574 686f 723a 2041 6e64  -wtf.Author: And
 000000b0: 7265 7320 4d6f 7265 790a 4c69 6365 6e73  res Morey.Licens
-000000c0: 653a 204d 4954 0a44 6573 6372 6970 7469  e: MIT.Descripti
-000000d0: 6f6e 3a20 2320 5374 6172 6c65 7474 652d  on: # Starlette-
-000000e0: 5754 460a 2020 2020 2020 2020 0a20 2020  WTF.        .   
-000000f0: 2020 2020 2053 7461 726c 6574 7465 2d57       Starlette-W
-00000100: 5446 2069 7320 6120 7369 6d70 6c65 2074  TF is a simple t
-00000110: 6f6f 6c20 666f 7220 696e 7465 6772 6174  ool for integrat
-00000120: 696e 6720 5b53 7461 726c 6574 7465 5d28  ing [Starlette](
-00000130: 6874 7470 733a 2f2f 7777 772e 7374 6172  https://www.star
-00000140: 6c65 7474 652e 696f 2f29 2061 6e64 205b  lette.io/) and [
-00000150: 5754 466f 726d 735d 2868 7474 7073 3a2f  WTForms](https:/
-00000160: 2f77 7466 6f72 6d73 2e72 6561 6474 6865  /wtforms.readthe
-00000170: 646f 6373 2e69 6f2f 656e 2f73 7461 626c  docs.io/en/stabl
-00000180: 652f 292e 2049 7420 6973 206d 6f64 656c  e/). It is model
-00000190: 6564 206f 6e20 7468 6520 6578 6365 6c6c  ed on the excell
-000001a0: 656e 7420 5b46 6c61 736b 2d57 5446 5d28  ent [Flask-WTF](
-000001b0: 6874 7470 733a 2f2f 666c 6173 6b2d 7774  https://flask-wt
-000001c0: 662e 7265 6164 7468 6564 6f63 732e 696f  f.readthedocs.io
-000001d0: 2920 6c69 6272 6172 792e 0a20 2020 2020  ) library..     
-000001e0: 2020 200a 2020 2020 2020 2020 2323 2054     .        ## T
-000001f0: 6162 6c65 206f 6620 436f 6e74 656e 7473  able of Contents
-00000200: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000210: 2020 2d20 5b49 6e73 7461 6c6c 6174 696f    - [Installatio
-00000220: 6e5d 2823 696e 7374 616c 6c61 7469 6f6e  n](#installation
-00000230: 290a 2020 2020 2020 2020 2d20 5b51 7569  ).        - [Qui
-00000240: 636b 7374 6172 745d 2823 7175 6963 6b73  ckstart](#quicks
-00000250: 7461 7274 290a 2020 2020 2020 2020 2d20  tart).        - 
-00000260: 5b43 7265 6174 696e 6720 466f 726d 735d  [Creating Forms]
-00000270: 2823 6372 6561 7469 6e67 2d66 6f72 6d73  (#creating-forms
-00000280: 290a 2020 2020 2020 2020 2020 2a20 5b54  ).          * [T
-00000290: 6865 2053 7461 726c 6574 7465 466f 726d  he StarletteForm
-000002a0: 2043 6c61 7373 5d28 2374 6865 2d73 7461   Class](#the-sta
-000002b0: 726c 6574 7465 666f 726d 2d63 6c61 7373  rletteform-class
-000002c0: 290a 2020 2020 2020 2020 2020 2a20 5b56  ).          * [V
-000002d0: 616c 6964 6174 696f 6e5d 2823 7661 6c69  alidation](#vali
-000002e0: 6461 7469 6f6e 290a 2020 2020 2020 2020  dation).        
-000002f0: 2020 2a20 5b41 7379 6e63 2043 7573 746f    * [Async Custo
-00000300: 6d20 5661 6c69 6461 746f 7273 5d28 2361  m Validators](#a
-00000310: 7379 6e63 2d63 7573 746f 6d2d 7661 6c69  sync-custom-vali
-00000320: 6461 746f 7273 290a 2020 2020 2020 2020  dators).        
-00000330: 2d20 5b43 5352 4620 5072 6f74 6563 7469  - [CSRF Protecti
-00000340: 6f6e 5d28 2363 7372 662d 7072 6f74 6563  on](#csrf-protec
-00000350: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-00000360: 2a20 5b53 6574 7570 5d28 2373 6574 7570  * [Setup](#setup
-00000370: 290a 2020 2020 2020 2020 2020 2a20 5b50  ).          * [P
-00000380: 726f 7465 6374 2056 6965 7773 5d28 2370  rotect Views](#p
-00000390: 726f 7465 6374 2d76 6965 7773 290a 2020  rotect-views).  
-000003a0: 2020 2020 2020 2020 2a20 5b48 544d 4c20          * [HTML 
-000003b0: 466f 726d 735d 2823 6874 6d6c 2d66 6f72  Forms](#html-for
-000003c0: 6d73 290a 2020 2020 2020 2020 2020 2a20  ms).          * 
-000003d0: 5b4a 6176 6153 6372 6970 7420 5265 7175  [JavaScript Requ
-000003e0: 6573 7473 5d28 236a 6176 6173 6372 6970  ests](#javascrip
-000003f0: 742d 7265 7175 6573 7473 290a 2020 2020  t-requests).    
-00000400: 2020 2020 2020 2a20 5b44 6973 6162 6c65        * [Disable
-00000410: 2069 6e20 556e 6974 2054 6573 7473 5d28   in Unit Tests](
-00000420: 2364 6973 6162 6c65 2d69 6e2d 756e 6974  #disable-in-unit
-00000430: 2d74 6573 7473 290a 2020 2020 2020 2020  -tests).        
-00000440: 2020 2a20 5b43 6f6e 6669 6775 7261 7469    * [Configurati
-00000450: 6f6e 5d28 2363 6f6e 6669 6775 7261 7469  on](#configurati
-00000460: 6f6e 290a 2020 2020 2020 2020 2d20 5b44  on).        - [D
-00000470: 6576 656c 6f70 6d65 6e74 5d28 2364 6576  evelopment](#dev
-00000480: 656c 6f70 6d65 6e74 290a 2020 2020 2020  elopment).      
-00000490: 2020 2020 2a20 5b47 6574 2074 6865 2063      * [Get the c
-000004a0: 6f64 655d 2823 6765 742d 7468 652d 636f  ode](#get-the-co
-000004b0: 6465 290a 2020 2020 2020 2020 2020 2a20  de).          * 
-000004c0: 5b52 756e 2075 6e69 7420 7465 7374 735d  [Run unit tests]
-000004d0: 2823 7275 6e2d 756e 6974 2d74 6573 7473  (#run-unit-tests
-000004e0: 290a 2020 2020 2020 2020 0a20 2020 2020  ).        .     
-000004f0: 2020 2023 2320 496e 7374 616c 6c61 7469     ## Installati
-00000500: 6f6e 0a20 2020 2020 2020 200a 2020 2020  on.        .    
-00000510: 2020 2020 496e 7374 616c 6c69 6e67 2053      Installing S
-00000520: 7461 726c 6574 7465 2d57 5446 2069 7320  tarlette-WTF is 
-00000530: 7369 6d70 6c65 2077 6974 6820 5b70 6970  simple with [pip
-00000540: 5d28 6874 7470 733a 2f2f 7069 702e 7079  ](https://pip.py
-00000550: 7061 2e69 6f2f 656e 2f73 7461 626c 652f  pa.io/en/stable/
-00000560: 293a 0a20 2020 2020 2020 200a 2020 2020  ):.        .    
-00000570: 2020 2020 6060 6062 6173 680a 2020 2020      ```bash.    
-00000580: 2020 2020 2420 7069 7020 696e 7374 616c      $ pip instal
-00000590: 6c20 7374 6172 6c65 7474 652d 7774 660a  l starlette-wtf.
-000005a0: 2020 2020 2020 2020 6060 600a 2020 2020          ```.    
-000005b0: 2020 2020 0a20 2020 2020 2020 2023 2320      .        ## 
-000005c0: 5175 6963 6b73 7461 7274 0a20 2020 2020  Quickstart.     
-000005d0: 2020 200a 2020 2020 2020 2020 5468 6520     .        The 
-000005e0: 666f 6c6c 6f77 696e 6720 636f 6465 2069  following code i
-000005f0: 6d70 6c65 6d65 6e74 7320 6120 7369 6d70  mplements a simp
-00000600: 6c65 2066 6f72 6d20 6861 6e64 6c65 7220  le form handler 
-00000610: 7769 7468 2043 5352 4620 7072 6f74 6563  with CSRF protec
-00000620: 7469 6f6e 2e20 5468 6520 666f 726d 2068  tion. The form h
-00000630: 6173 2061 2072 6571 7569 7265 6420 7374  as a required st
-00000640: 7269 6e67 2066 6965 6c64 2061 6e64 2076  ring field and v
-00000650: 616c 6964 6174 696f 6e20 6572 726f 7273  alidation errors
-00000660: 2061 7265 2068 616e 646c 6564 2062 7920   are handled by 
-00000670: 7468 6520 6874 6d6c 2074 656d 706c 6174  the html templat
-00000680: 652e 204e 6f74 6520 7468 6174 2043 5352  e. Note that CSR
-00000690: 4620 7072 6f74 6563 7469 6f6e 2072 6571  F protection req
-000006a0: 7569 7265 7320 6053 6573 7369 6f6e 4d69  uires `SessionMi
-000006b0: 6464 6c65 7761 7265 602c 2060 4353 5246  ddleware`, `CSRF
-000006c0: 5072 6f74 6563 744d 6964 646c 6577 6172  ProtectMiddlewar
-000006d0: 6560 2c20 6040 6373 7266 5f70 726f 7465  e`, `@csrf_prote
-000006e0: 6374 6020 616e 6420 7468 6520 6063 7372  ct` and the `csr
-000006f0: 665f 746f 6b65 6e60 2066 6965 6c64 2074  f_token` field t
-00000700: 6f20 6265 2061 6464 6564 2074 6f20 7468  o be added to th
-00000710: 6520 4854 4d4c 2066 6f72 6d2e 0a20 2020  e HTML form..   
-00000720: 2020 2020 200a 2020 2020 2020 2020 4669       .        Fi
-00000730: 7273 742c 2069 6e73 7461 6c6c 2074 6865  rst, install the
-00000740: 2064 6570 656e 6465 6e63 6965 7320 666f   dependencies fo
-00000750: 7220 7468 6973 2071 7569 636b 7374 6172  r this quickstar
-00000760: 743a 0a20 2020 2020 2020 200a 2020 2020  t:.        .    
-00000770: 2020 2020 6060 6062 6173 680a 2020 2020      ```bash.    
-00000780: 2020 2020 2420 7069 7020 696e 7374 616c      $ pip instal
-00000790: 6c20 7374 6172 6c65 7474 6520 7374 6172  l starlette star
-000007a0: 6c65 7474 652d 7774 6620 6a69 6e6a 6132  lette-wtf jinja2
-000007b0: 2075 7669 636f 726e 200a 2020 2020 2020   uvicorn .      
-000007c0: 2020 6060 600a 2020 2020 2020 2020 0a20    ```.        . 
-000007d0: 2020 2020 2020 204e 6578 742c 2063 7265         Next, cre
-000007e0: 6174 6520 6120 5079 7468 6f6e 2066 696c  ate a Python fil
-000007f0: 6520 2861 7070 2e70 7929 2077 6974 6820  e (app.py) with 
-00000800: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
-00000810: 6465 3a0a 2020 2020 2020 2020 0a20 2020  de:.        .   
-00000820: 2020 2020 2060 6060 7079 7468 6f6e 0a20       ```python. 
-00000830: 2020 2020 2020 2066 726f 6d20 6a69 6e6a         from jinj
-00000840: 6132 2069 6d70 6f72 7420 5465 6d70 6c61  a2 import Templa
-00000850: 7465 0a20 2020 2020 2020 2066 726f 6d20  te.        from 
-00000860: 7374 6172 6c65 7474 652e 6170 706c 6963  starlette.applic
-00000870: 6174 696f 6e73 2069 6d70 6f72 7420 5374  ations import St
-00000880: 6172 6c65 7474 650a 2020 2020 2020 2020  arlette.        
-00000890: 6672 6f6d 2073 7461 726c 6574 7465 2e6d  from starlette.m
-000008a0: 6964 646c 6577 6172 6520 696d 706f 7274  iddleware import
-000008b0: 204d 6964 646c 6577 6172 650a 2020 2020   Middleware.    
-000008c0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-000008d0: 7465 2e6d 6964 646c 6577 6172 652e 7365  te.middleware.se
-000008e0: 7373 696f 6e73 2069 6d70 6f72 7420 5365  ssions import Se
-000008f0: 7373 696f 6e4d 6964 646c 6577 6172 650a  ssionMiddleware.
-00000900: 2020 2020 2020 2020 6672 6f6d 2073 7461          from sta
-00000910: 726c 6574 7465 2e72 6573 706f 6e73 6573  rlette.responses
-00000920: 2069 6d70 6f72 7420 506c 6169 6e54 6578   import PlainTex
-00000930: 7452 6573 706f 6e73 652c 2048 544d 4c52  tResponse, HTMLR
-00000940: 6573 706f 6e73 650a 2020 2020 2020 2020  esponse.        
-00000950: 6672 6f6d 2073 7461 726c 6574 7465 5f77  from starlette_w
-00000960: 7466 2069 6d70 6f72 7420 5374 6172 6c65  tf import Starle
-00000970: 7474 6546 6f72 6d2c 2043 5352 4650 726f  tteForm, CSRFPro
-00000980: 7465 6374 4d69 6464 6c65 7761 7265 2c20  tectMiddleware, 
-00000990: 6373 7266 5f70 726f 7465 6374 0a20 2020  csrf_protect.   
-000009a0: 2020 2020 2066 726f 6d20 7774 666f 726d       from wtform
-000009b0: 7320 696d 706f 7274 2053 7472 696e 6746  s import StringF
-000009c0: 6965 6c64 0a20 2020 2020 2020 2066 726f  ield.        fro
-000009d0: 6d20 7774 666f 726d 732e 7661 6c69 6461  m wtforms.valida
-000009e0: 746f 7273 0969 6d70 6f72 7420 4461 7461  tors.import Data
-000009f0: 5265 7175 6972 6564 0a20 2020 2020 2020  Required.       
-00000a00: 200a 2020 2020 2020 2020 0a20 2020 2020   .        .     
-00000a10: 2020 2063 6c61 7373 204d 7946 6f72 6d28     class MyForm(
-00000a20: 5374 6172 6c65 7474 6546 6f72 6d29 3a0a  StarletteForm):.
-00000a30: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00000a40: 203d 2053 7472 696e 6746 6965 6c64 2827   = StringField('
-00000a50: 6e61 6d65 272c 2076 616c 6964 6174 6f72  name', validator
-00000a60: 733d 5b44 6174 6152 6571 7569 7265 6428  s=[DataRequired(
-00000a70: 295d 290a 2020 2020 2020 2020 0a20 2020  )]).        .   
-00000a80: 2020 2020 200a 2020 2020 2020 2020 7465       .        te
-00000a90: 6d70 6c61 7465 203d 2054 656d 706c 6174  mplate = Templat
-00000aa0: 6528 2727 270a 2020 2020 2020 2020 3c68  e('''.        <h
-00000ab0: 746d 6c3e 0a20 2020 2020 2020 2020 203c  tml>.          <
-00000ac0: 626f 6479 3e0a 2020 2020 2020 2020 2020  body>.          
-00000ad0: 2020 3c66 6f72 6d20 6d65 7468 6f64 3d22    <form method="
-00000ae0: 706f 7374 2220 6e6f 7661 6c69 6461 7465  post" novalidate
-00000af0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00000b00: 7b7b 2066 6f72 6d2e 6373 7266 5f74 6f6b  {{ form.csrf_tok
-00000b10: 656e 207d 7d0a 2020 2020 2020 2020 2020  en }}.          
-00000b20: 2020 2020 3c64 6976 3e0a 2020 2020 2020      <div>.      
-00000b30: 2020 2020 2020 2020 2020 7b7b 2066 6f72            {{ for
-00000b40: 6d2e 6e61 6d65 2870 6c61 6365 686f 6c64  m.name(placehold
-00000b50: 6572 3d27 4e61 6d65 2729 207d 7d0a 2020  er='Name') }}.  
-00000b60: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
-00000b70: 2069 6620 666f 726d 2e6e 616d 652e 6572   if form.name.er
-00000b80: 726f 7273 202d 257d 0a20 2020 2020 2020  rors -%}.       
-00000b90: 2020 2020 2020 2020 203c 7370 616e 3e7b           <span>{
-00000ba0: 7b20 666f 726d 2e6e 616d 652e 6572 726f  { form.name.erro
-00000bb0: 7273 5b30 5d20 7d7d 3c2f 7370 616e 3e0a  rs[0] }}</span>.
-00000bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000bd0: 7b25 2d20 656e 6469 6620 257d 0a20 2020  {%- endif %}.   
-00000be0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
-00000bf0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00000c00: 3c62 7574 746f 6e20 7479 7065 3d22 7375  <button type="su
-00000c10: 626d 6974 223e 5375 626d 6974 3c2f 6275  bmit">Submit</bu
-00000c20: 7474 6f6e 3e0a 2020 2020 2020 2020 2020  tton>.          
-00000c30: 2020 3c2f 666f 726d 3e0a 2020 2020 2020    </form>.      
-00000c40: 2020 2020 3c2f 626f 6479 3e0a 2020 2020      </body>.    
-00000c50: 2020 2020 3c2f 6874 6d6c 3e0a 2020 2020      </html>.    
-00000c60: 2020 2020 2727 2729 0a20 2020 2020 2020      ''').       
-00000c70: 200a 2020 2020 2020 2020 0a20 2020 2020   .        .     
-00000c80: 2020 2061 7070 203d 2053 7461 726c 6574     app = Starlet
-00000c90: 7465 286d 6964 646c 6577 6172 653d 5b0a  te(middleware=[.
-00000ca0: 2020 2020 2020 2020 2020 2020 4d69 6464              Midd
-00000cb0: 6c65 7761 7265 2853 6573 7369 6f6e 4d69  leware(SessionMi
-00000cc0: 6464 6c65 7761 7265 2c20 7365 6372 6574  ddleware, secret
-00000cd0: 5f6b 6579 3d27 2a2a 2a52 4550 4c41 4345  _key='***REPLACE
-00000ce0: 4d45 312a 2a2a 2729 2c0a 2020 2020 2020  ME1***'),.      
-00000cf0: 2020 2020 2020 4d69 6464 6c65 7761 7265        Middleware
-00000d00: 2843 5352 4650 726f 7465 6374 4d69 6464  (CSRFProtectMidd
-00000d10: 6c65 7761 7265 2c20 6373 7266 5f73 6563  leware, csrf_sec
-00000d20: 7265 743d 272a 2a2a 5245 504c 4143 454d  ret='***REPLACEM
-00000d30: 4532 2a2a 2a27 290a 2020 2020 2020 2020  E2***').        
-00000d40: 5d29 0a20 2020 2020 2020 200a 2020 2020  ]).        .    
-00000d50: 2020 2020 0a20 2020 2020 2020 2040 6170      .        @ap
-00000d60: 702e 726f 7574 6528 272f 272c 206d 6574  p.route('/', met
-00000d70: 686f 6473 3d5b 2747 4554 272c 2027 504f  hods=['GET', 'PO
-00000d80: 5354 275d 290a 2020 2020 2020 2020 4063  ST']).        @c
-00000d90: 7372 665f 7072 6f74 6563 740a 2020 2020  srf_protect.    
-00000da0: 2020 2020 6173 796e 6320 6465 6620 696e      async def in
-00000db0: 6465 7828 7265 7175 6573 7429 3a0a 2020  dex(request):.  
-00000dc0: 2020 2020 2020 2020 2020 2222 2247 4554            """GET
-00000dd0: 7c50 4f53 5420 2f3a 2066 6f72 6d20 6861  |POST /: form ha
-00000de0: 6e64 6c65 720a 2020 2020 2020 2020 2020  ndler.          
-00000df0: 2020 2222 220a 2020 2020 2020 2020 2020    """.          
-00000e00: 2020 666f 726d 203d 2061 7761 6974 204d    form = await M
-00000e10: 7946 6f72 6d2e 6672 6f6d 5f66 6f72 6d64  yForm.from_formd
-00000e20: 6174 6128 7265 7175 6573 7429 0a20 2020  ata(request).   
-00000e30: 2020 2020 2020 2020 200a 2020 2020 2020           .      
-00000e40: 2020 2020 2020 6966 2061 7761 6974 2066        if await f
-00000e50: 6f72 6d2e 7661 6c69 6461 7465 5f6f 6e5f  orm.validate_on_
-00000e60: 7375 626d 6974 2829 3a0a 2020 2020 2020  submit():.      
-00000e70: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00000e80: 2050 6c61 696e 5465 7874 5265 7370 6f6e   PlainTextRespon
-00000e90: 7365 2827 5355 4343 4553 5327 290a 2020  se('SUCCESS').  
-00000ea0: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-00000eb0: 2020 2068 746d 6c20 3d20 7465 6d70 6c61     html = templa
-00000ec0: 7465 2e72 656e 6465 7228 666f 726d 3d66  te.render(form=f
-00000ed0: 6f72 6d29 0a20 2020 2020 2020 2020 2020  orm).           
-00000ee0: 2072 6574 7572 6e20 4854 4d4c 5265 7370   return HTMLResp
-00000ef0: 6f6e 7365 2868 746d 6c29 0a20 2020 2020  onse(html).     
-00000f00: 2020 2060 6060 0a20 2020 2020 2020 2020     ```.         
-00000f10: 2020 200a 2020 2020 2020 2020 4669 6e61     .        Fina
-00000f20: 6c6c 792c 2072 756e 2074 6865 2061 7070  lly, run the app
-00000f30: 2075 7369 6e67 2074 6865 2066 6f6c 6c6f   using the follo
-00000f40: 7769 6e67 2063 6f6d 6d61 6e64 3a0a 2020  wing command:.  
-00000f50: 2020 2020 2020 2020 2020 0a20 2020 2020            .     
-00000f60: 2020 2060 6060 6261 7368 0a20 2020 2020     ```bash.     
-00000f70: 2020 2024 2075 7669 636f 726e 2061 7070     $ uvicorn app
-00000f80: 3a61 7070 0a20 2020 2020 2020 2060 6060  :app.        ```
-00000f90: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000fa0: 2020 2323 2043 7265 6174 696e 6720 466f    ## Creating Fo
-00000fb0: 726d 730a 2020 2020 2020 2020 0a20 2020  rms.        .   
-00000fc0: 2020 2020 2023 2323 2054 6865 2053 7461       ### The Sta
-00000fd0: 726c 6574 7465 466f 726d 2043 6c61 7373  rletteForm Class
-00000fe0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000ff0: 2020 5374 6172 6c65 7474 652d 5754 4620    Starlette-WTF 
-00001000: 7072 6f76 6964 6573 2061 2066 6f72 6d20  provides a form 
-00001010: 636c 6173 7320 7468 6174 206d 616b 6573  class that makes
-00001020: 2069 7420 6561 7379 2074 6f20 6164 6420   it easy to add 
-00001030: 666f 726d 2076 616c 6964 6174 696f 6e20  form validation 
-00001040: 616e 6420 4353 5246 2070 726f 7465 6374  and CSRF protect
-00001050: 696f 6e20 746f 2053 7461 726c 6574 7465  ion to Starlette
-00001060: 2061 7070 732e 2054 6f20 6d61 6b65 2061   apps. To make a
-00001070: 2066 6f72 6d2c 2073 7562 636c 6173 7320   form, subclass 
-00001080: 7468 6520 6053 7461 726c 6574 7465 466f  the `StarletteFo
-00001090: 726d 6020 636c 6173 7320 616e 6420 7573  rm` class and us
-000010a0: 6520 5b57 5446 6f72 6d73 5d28 6874 7470  e [WTForms](http
-000010b0: 733a 2f2f 7774 666f 726d 732e 7265 6164  s://wtforms.read
-000010c0: 7468 6564 6f63 732e 696f 2f29 2066 6965  thedocs.io/) fie
-000010d0: 6c64 732c 2076 616c 6964 6174 6f72 7320  lds, validators 
-000010e0: 616e 6420 7769 6467 6574 7320 746f 2064  and widgets to d
-000010f0: 6566 696e 6520 7468 6520 696e 7075 7473  efine the inputs
-00001100: 2e20 5468 6520 6053 7461 726c 6574 7465  . The `Starlette
-00001110: 466f 726d 6020 636c 6173 7320 696e 6865  Form` class inhe
-00001120: 7269 7473 2066 726f 6d20 7468 6520 5754  rits from the WT
-00001130: 466f 726d 7320 6046 6f72 6d60 2063 6c61  Forms `Form` cla
-00001140: 7373 2073 6f20 796f 7520 6361 6e20 7573  ss so you can us
-00001150: 6520 5754 466f 726d 7320 6665 6174 7572  e WTForms featur
-00001160: 6573 2061 6e64 206d 6574 686f 6473 2074  es and methods t
-00001170: 6f20 6164 6420 6d6f 7265 2061 6476 616e  o add more advan
-00001180: 6365 6420 6675 6e63 7469 6f6e 616c 6974  ced functionalit
-00001190: 7920 746f 2079 6f75 7220 6170 703a 0a20  y to your app:. 
-000011a0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-000011b0: 6060 6070 7974 686f 6e0a 2020 2020 2020  ```python.      
-000011c0: 2020 6672 6f6d 2073 7461 726c 6574 7465    from starlette
-000011d0: 5f77 7466 2069 6d70 6f72 7420 5374 6172  _wtf import Star
-000011e0: 6c65 7474 6546 6f72 6d0a 2020 2020 2020  letteForm.      
-000011f0: 2020 6672 6f6d 2077 7466 6f72 6d73 2069    from wtforms i
-00001200: 6d70 6f72 7420 5465 7874 4669 656c 642c  mport TextField,
-00001210: 2050 6173 7377 6f72 6446 6965 6c64 0a20   PasswordField. 
-00001220: 2020 2020 2020 2066 726f 6d20 7774 666f         from wtfo
-00001230: 726d 732e 7661 6c69 6461 746f 7273 2069  rms.validators i
-00001240: 6d70 6f72 7420 4461 7461 5265 7175 6972  mport DataRequir
-00001250: 6564 2c20 456d 6169 6c2c 2045 7175 616c  ed, Email, Equal
-00001260: 546f 0a20 2020 2020 2020 2066 726f 6d20  To.        from 
-00001270: 7774 666f 726d 732e 7769 6467 6574 7320  wtforms.widgets 
-00001280: 696d 706f 7274 2050 6173 7377 6f72 6449  import PasswordI
-00001290: 6e70 7574 0a20 2020 2020 2020 200a 2020  nput.        .  
-000012a0: 2020 2020 2020 0a20 2020 2020 2020 2063        .        c
-000012b0: 6c61 7373 2043 7265 6174 6541 6363 6f75  lass CreateAccou
-000012c0: 6e74 466f 726d 2853 7461 726c 6574 7465  ntForm(Starlette
-000012d0: 466f 726d 293a 0a20 2020 2020 2020 2020  Form):.         
-000012e0: 2020 2065 6d61 696c 203d 2054 6578 7446     email = TextF
-000012f0: 6965 6c64 280a 2020 2020 2020 2020 2020  ield(.          
-00001300: 2020 2020 2020 2745 6d61 696c 2061 6464        'Email add
-00001310: 7265 7373 272c 0a20 2020 2020 2020 2020  ress',.         
-00001320: 2020 2020 2020 2076 616c 6964 6174 6f72         validator
-00001330: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-00001340: 2020 2020 2020 2020 4461 7461 5265 7175          DataRequ
-00001350: 6972 6564 2827 506c 6561 7365 2065 6e74  ired('Please ent
-00001360: 6572 2079 6f75 7220 656d 6169 6c20 6164  er your email ad
-00001370: 6472 6573 7327 292c 0a20 2020 2020 2020  dress'),.       
-00001380: 2020 2020 2020 2020 2020 2020 2045 6d61               Ema
-00001390: 696c 2829 0a20 2020 2020 2020 2020 2020  il().           
-000013a0: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
-000013b0: 2020 2029 0a20 2020 2020 2020 200a 2020     ).        .  
-000013c0: 2020 2020 2020 2020 2020 7061 7373 776f            passwo
-000013d0: 7264 203d 2050 6173 7377 6f72 6446 6965  rd = PasswordFie
-000013e0: 6c64 280a 2020 2020 2020 2020 2020 2020  ld(.            
-000013f0: 2020 2020 2750 6173 7377 6f72 6427 2c0a      'Password',.
-00001400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001410: 7769 6467 6574 3d50 6173 7377 6f72 6449  widget=PasswordI
-00001420: 6e70 7574 2868 6964 655f 7661 6c75 653d  nput(hide_value=
-00001430: 4661 6c73 6529 2c0a 2020 2020 2020 2020  False),.        
-00001440: 2020 2020 2020 2020 7661 6c69 6461 746f          validato
-00001450: 7273 3d5b 0a20 2020 2020 2020 2020 2020  rs=[.           
-00001460: 2020 2020 2020 2020 2044 6174 6152 6571           DataReq
-00001470: 7569 7265 6428 2750 6c65 6173 6520 656e  uired('Please en
-00001480: 7465 7220 796f 7572 2070 6173 7377 6f72  ter your passwor
-00001490: 6427 292c 0a20 2020 2020 2020 2020 2020  d'),.           
-000014a0: 2020 2020 2020 2020 2045 7175 616c 546f           EqualTo
-000014b0: 2827 7061 7373 776f 7264 5f63 6f6e 6669  ('password_confi
-000014c0: 726d 272c 206d 6573 7361 6765 3d27 5061  rm', message='Pa
-000014d0: 7373 776f 7264 7320 6d75 7374 206d 6174  sswords must mat
-000014e0: 6368 2729 0a20 2020 2020 2020 2020 2020  ch').           
-000014f0: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
-00001500: 2020 2029 0a20 2020 2020 2020 200a 2020     ).        .  
-00001510: 2020 2020 2020 2020 2020 7061 7373 776f            passwo
-00001520: 7264 5f63 6f6e 6669 726d 203d 2050 6173  rd_confirm = Pas
-00001530: 7377 6f72 6446 6965 6c64 280a 2020 2020  swordField(.    
-00001540: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
-00001550: 6669 726d 2050 6173 7377 6f72 6427 2c0a  firm Password',.
-00001560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001570: 7769 6467 6574 3d50 6173 7377 6f72 6449  widget=PasswordI
-00001580: 6e70 7574 2868 6964 655f 7661 6c75 653d  nput(hide_value=
-00001590: 4661 6c73 6529 2c0a 2020 2020 2020 2020  False),.        
-000015a0: 2020 2020 2020 2020 7661 6c69 6461 746f          validato
-000015b0: 7273 3d5b 0a20 2020 2020 2020 2020 2020  rs=[.           
-000015c0: 2020 2020 2020 2020 2044 6174 6152 6571           DataReq
-000015d0: 7569 7265 6428 2750 6c65 6173 6520 636f  uired('Please co
-000015e0: 6e66 6972 6d20 796f 7572 2070 6173 7377  nfirm your passw
-000015f0: 6f72 6427 290a 2020 2020 2020 2020 2020  ord').          
-00001600: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-00001610: 2020 2020 290a 2020 2020 2020 2020 6060      ).        ``
-00001620: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00001630: 2020 204f 6674 656e 2079 6f75 2077 696c     Often you wil
-00001640: 6c20 7761 6e74 2074 6f20 696e 6974 6961  l want to initia
-00001650: 6c69 7a65 2066 6f72 6d20 6f62 6a65 6374  lize form object
-00001660: 7320 7573 696e 6720 6465 6661 756c 7420  s using default 
-00001670: 7661 6c75 6573 206f 6e20 4745 5420 7265  values on GET re
-00001680: 7175 6573 7473 2061 6e64 2066 726f 6d20  quests and from 
-00001690: 7375 626d 6974 7465 6420 666f 726d 6461  submitted formda
-000016a0: 7461 206f 6e20 504f 5354 2072 6571 7565  ta on POST reque
-000016b0: 7374 732e 2054 6f20 6d61 6b65 2074 6869  sts. To make thi
-000016c0: 7320 6561 7369 6572 2079 6f75 2063 616e  s easier you can
-000016d0: 2075 7365 2074 6865 2060 2e66 726f 6d5f   use the `.from_
-000016e0: 666f 726d 6461 7461 2829 6020 6173 796e  formdata()` asyn
-000016f0: 6320 636c 6173 7320 6d65 7468 6f64 2077  c class method w
-00001700: 6869 6368 2064 6f65 7320 7468 6973 2066  hich does this f
-00001710: 6f72 2079 6f75 2061 7574 6f6d 6174 6963  or you automatic
-00001720: 616c 6c79 3a0a 2020 2020 2020 2020 0a20  ally:.        . 
-00001730: 2020 2020 2020 2060 6060 7079 7468 6f6e         ```python
-00001740: 0a20 2020 2020 2020 2040 6170 702e 726f  .        @app.ro
-00001750: 7574 6528 272f 6372 6561 7465 2d61 6363  ute('/create-acc
-00001760: 6f75 6e74 272c 206d 6574 686f 6473 3d5b  ount', methods=[
-00001770: 2747 4554 272c 2027 504f 5354 275d 290a  'GET', 'POST']).
-00001780: 2020 2020 2020 2020 6173 796e 6320 6465          async de
-00001790: 6620 6372 6561 7465 5f61 6363 6f75 6e74  f create_account
-000017a0: 2872 6571 7565 7374 293a 0a20 2020 2020  (request):.     
-000017b0: 2020 2020 2020 2022 2222 4745 547c 504f         """GET|PO
-000017c0: 5354 202f 6372 6561 7465 2d61 6363 6f75  ST /create-accou
-000017d0: 6e74 3a20 4372 6561 7465 2061 6363 6f75  nt: Create accou
-000017e0: 6e74 2066 6f72 6d20 6861 6e64 6c65 720a  nt form handler.
-000017f0: 2020 2020 2020 2020 2020 2020 2222 220a              """.
-00001800: 2020 2020 2020 2020 2020 2020 666f 726d              form
-00001810: 203d 2061 7761 6974 2043 7265 6174 6541   = await CreateA
-00001820: 6363 6f75 6e74 466f 726d 2e66 726f 6d5f  ccountForm.from_
-00001830: 666f 726d 6461 7461 2872 6571 7565 7374  formdata(request
-00001840: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00001850: 7475 726e 2050 6c61 696e 5465 7874 5265  turn PlainTextRe
-00001860: 7370 6f6e 7365 2829 0a20 2020 2020 2020  sponse().       
-00001870: 2060 6060 0a20 2020 2020 2020 200a 2020   ```.        .  
-00001880: 2020 2020 2020 2323 2320 5661 6c69 6461        ### Valida
-00001890: 7469 6f6e 0a20 2020 2020 2020 200a 2020  tion.        .  
-000018a0: 2020 2020 2020 5468 6520 6053 7461 726c        The `Starl
-000018b0: 6574 7465 466f 726d 6020 636c 6173 7320  etteForm` class 
-000018c0: 6861 7320 6120 7573 6566 756c 2060 2e76  has a useful `.v
-000018d0: 616c 6964 6174 655f 6f6e 5f73 7562 6d69  alidate_on_submi
-000018e0: 7428 2960 206d 6574 686f 6420 7468 6174  t()` method that
-000018f0: 2070 6572 666f 726d 7320 696e 7075 7420   performs input 
-00001900: 7661 6c69 6461 7469 6f6e 2066 6f72 2050  validation for P
-00001910: 4f53 542c 2050 5554 2c20 5041 5443 4820  OST, PUT, PATCH 
-00001920: 616e 6420 4445 4c45 5445 2072 6571 7565  and DELETE reque
-00001930: 7374 7320 616e 6420 7265 7475 726e 7320  sts and returns 
-00001940: 6120 626f 6f6c 6561 6e20 696e 6469 6361  a boolean indica
-00001950: 7469 6e67 2077 6865 7468 6572 206f 7220  ting whether or 
-00001960: 6e6f 7420 7468 6572 6520 7765 7265 2061  not there were a
-00001970: 6e79 2065 7272 6f72 732e 2041 6674 6572  ny errors. After
-00001980: 2076 616c 6964 6174 696f 6e2c 2065 7272   validation, err
-00001990: 6f72 7320 6172 6520 6176 6169 6c61 626c  ors are availabl
-000019a0: 6520 7669 6120 7468 6520 602e 6572 726f  e via the `.erro
-000019b0: 7273 6020 6174 7472 6962 7574 6520 6174  rs` attribute at
-000019c0: 7461 6368 6564 2074 6f20 6561 6368 2069  tached to each i
-000019d0: 6e70 7574 2066 6965 6c64 2069 6e73 7461  nput field insta
-000019e0: 6e63 652e 204e 6f74 6520 7468 6174 2076  nce. Note that v
-000019f0: 616c 6964 6174 696f 6e20 6973 2061 7379  alidation is asy
-00001a00: 6e63 6872 6f6e 6f75 7320 746f 2068 616e  nchronous to han
-00001a10: 646c 6520 6173 796e 6320 6669 656c 6420  dle async field 
-00001a20: 7661 6c69 6461 746f 7273 2028 7365 6520  validators (see 
-00001a30: 6265 6c6f 7729 3a0a 2020 2020 2020 2020  below):.        
-00001a40: 0a20 2020 2020 2020 2060 6060 7079 7468  .        ```pyth
-00001a50: 6f6e 0a20 2020 2020 2020 2066 726f 6d20  on.        from 
-00001a60: 6a69 6e6a 6132 2069 6d70 6f72 7420 5465  jinja2 import Te
-00001a70: 6d70 6c61 7465 0a20 2020 2020 2020 2066  mplate.        f
-00001a80: 726f 6d20 7374 6172 6c65 7474 652e 6170  rom starlette.ap
-00001a90: 706c 6963 6174 696f 6e73 2069 6d70 6f72  plications impor
-00001aa0: 7420 5374 6172 6c65 7474 650a 2020 2020  t Starlette.    
-00001ab0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-00001ac0: 7465 2e72 6573 706f 6e73 6573 2069 6d70  te.responses imp
-00001ad0: 6f72 7420 2850 6c61 696e 5465 7874 5265  ort (PlainTextRe
-00001ae0: 7370 6f6e 7365 2c20 5265 6469 7265 6374  sponse, Redirect
-00001af0: 5265 7370 6f6e 7365 2c0a 2020 2020 2020  Response,.      
-00001b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b20: 2020 2048 544d 4c52 6573 706f 6e73 6529     HTMLResponse)
-00001b30: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00001b40: 2020 0a20 2020 2020 2020 2074 656d 706c    .        templ
-00001b50: 6174 6520 3d20 5465 6d70 6c61 7465 2827  ate = Template('
-00001b60: 2727 0a20 2020 2020 2020 203c 6874 6d6c  ''.        <html
-00001b70: 3e0a 2020 2020 2020 2020 2020 3c62 6f64  >.          <bod
-00001b80: 793e 0a20 2020 2020 2020 2020 2020 203c  y>.            <
-00001b90: 6831 3e43 7265 6174 6520 4163 636f 756e  h1>Create Accoun
-00001ba0: 743c 2f68 313e 0a20 2020 2020 2020 2020  t</h1>.         
-00001bb0: 2020 203c 666f 726d 206d 6574 686f 643d     <form method=
-00001bc0: 2270 6f73 7422 206e 6f76 616c 6964 6174  "post" novalidat
-00001bd0: 653e 0a20 2020 2020 2020 2020 2020 2020  e>.             
-00001be0: 203c 6469 763e 0a20 2020 2020 2020 2020   <div>.         
-00001bf0: 2020 2020 2020 207b 7b20 666f 726d 2e65         {{ form.e
-00001c00: 6d61 696c 2870 6c61 6365 686f 6c64 6572  mail(placeholder
-00001c10: 3d27 456d 6169 6c20 6164 6472 6573 7327  ='Email address'
-00001c20: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c40: 6175 746f 666f 6375 733d 2774 7275 6527  autofocus='true'
-00001c50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c70: 7479 7065 3d27 656d 6169 6c27 2c0a 2020  type='email',.  
-00001c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c90: 2020 2020 2020 2020 2020 2020 7370 656c              spel
-00001ca0: 6c63 6865 636b 3d27 6661 6c73 6527 2920  lcheck='false') 
-00001cb0: 7d7d 0a20 2020 2020 2020 2020 2020 2020  }}.             
-00001cc0: 2020 207b 2520 6966 2066 6f72 6d2e 656d     {% if form.em
-00001cd0: 6169 6c2e 6572 726f 7273 202d 257d 0a20  ail.errors -%}. 
-00001ce0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00001cf0: 7370 616e 3e7b 7b20 666f 726d 2e65 6d61  span>{{ form.ema
-00001d00: 696c 2e65 7272 6f72 735b 305d 207d 7d3c  il.errors[0] }}<
-00001d10: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
-00001d20: 2020 2020 2020 207b 252d 2065 6e64 6966         {%- endif
-00001d30: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
-00001d40: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00001d50: 2020 2020 2020 203c 6469 763e 0a20 2020         <div>.   
-00001d60: 2020 2020 2020 2020 2020 2020 207b 7b20               {{ 
-00001d70: 666f 726d 2e70 6173 7377 6f72 6428 706c  form.password(pl
-00001d80: 6163 6568 6f6c 6465 723d 2250 6173 7377  aceholder="Passw
-00001d90: 6f72 6422 2920 7d7d 0a20 2020 2020 2020  ord") }}.       
-00001da0: 2020 2020 2020 2020 207b 2520 6966 2066           {% if f
-00001db0: 6f72 6d2e 7061 7373 776f 7264 2e65 7272  orm.password.err
-00001dc0: 6f72 7320 2d25 7d0a 2020 2020 2020 2020  ors -%}.        
-00001dd0: 2020 2020 2020 2020 3c73 7061 6e3e 7b7b          <span>{{
-00001de0: 2066 6f72 6d2e 7061 7373 776f 7264 2e65   form.password.e
-00001df0: 7272 6f72 735b 305d 207d 7d3c 2f73 7061  rrors[0] }}</spa
-00001e00: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
-00001e10: 2020 207b 252d 2065 6e64 6966 2025 7d0a     {%- endif %}.
-00001e20: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-00001e30: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00001e40: 2020 203c 6469 763e 0a20 2020 2020 2020     <div>.       
-00001e50: 2020 2020 2020 2020 207b 7b20 666f 726d           {{ form
-00001e60: 2e70 6173 7377 6f72 645f 636f 6e66 6972  .password_confir
-00001e70: 6d28 706c 6163 6568 6f6c 6465 723d 2243  m(placeholder="C
-00001e80: 6f6e 6669 726d 2070 6173 7377 6f72 6422  onfirm password"
-00001e90: 2920 7d7d 0a20 2020 2020 2020 2020 2020  ) }}.           
-00001ea0: 2020 2020 207b 2520 6966 2066 6f72 6d2e       {% if form.
-00001eb0: 7061 7373 776f 7264 5f63 6f6e 6669 726d  password_confirm
-00001ec0: 2e65 7272 6f72 7320 2d25 7d0a 2020 2020  .errors -%}.    
-00001ed0: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00001ee0: 6e3e 7b7b 2066 6f72 6d2e 7061 7373 776f  n>{{ form.passwo
-00001ef0: 7264 5f63 6f6e 6669 726d 2e65 7272 6f72  rd_confirm.error
-00001f00: 735b 305d 207d 7d3c 2f73 7061 6e3e 0a20  s[0] }}</span>. 
-00001f10: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-00001f20: 252d 2065 6e64 6966 2025 7d0a 2020 2020  %- endif %}.    
-00001f30: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-00001f40: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
-00001f50: 6275 7474 6f6e 2074 7970 653d 2273 7562  button type="sub
-00001f60: 6d69 7422 3e43 7265 6174 6520 6163 636f  mit">Create acco
-00001f70: 756e 743c 2f62 7574 746f 6e3e 0a20 2020  unt</button>.   
-00001f80: 2020 2020 2020 2020 203c 2f66 6f72 6d3e           </form>
-00001f90: 0a20 2020 2020 2020 2020 203c 2f62 6f64  .          </bod
-00001fa0: 793e 0a20 2020 2020 2020 203c 2f68 746d  y>.        </htm
-00001fb0: 6c3e 0a20 2020 2020 2020 2027 2727 290a  l>.        ''').
-00001fc0: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00001fd0: 200a 2020 2020 2020 2020 6170 7020 3d20   .        app = 
-00001fe0: 5374 6172 6c65 7474 6528 290a 2020 2020  Starlette().    
-00001ff0: 2020 2020 0a20 2020 2020 2020 200a 2020      .        .  
-00002000: 2020 2020 2020 4061 7070 2e72 6f75 7465        @app.route
-00002010: 2827 2f27 2c20 6d65 7468 6f64 733d 5b27  ('/', methods=['
-00002020: 4745 5427 5d29 0a20 2020 2020 2020 2061  GET']).        a
-00002030: 7379 6e63 2064 6566 2069 6e64 6578 2872  sync def index(r
-00002040: 6571 7565 7374 293a 0a20 2020 2020 2020  equest):.       
-00002050: 2020 2020 2022 2222 4745 5420 2f3a 2052       """GET /: R
-00002060: 6574 7572 6e20 686f 6d65 2070 6167 650a  eturn home page.
-00002070: 2020 2020 2020 2020 2020 2020 2222 220a              """.
-00002080: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00002090: 726e 2050 6c61 696e 5465 7874 5265 7370  rn PlainTextResp
-000020a0: 6f6e 7365 2829 0a20 2020 2020 2020 200a  onse().        .
-000020b0: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-000020c0: 2040 6170 702e 726f 7574 6528 272f 6372   @app.route('/cr
-000020d0: 6561 7465 2d61 6363 6f75 6e74 272c 206d  eate-account', m
-000020e0: 6574 686f 6473 3d5b 2747 4554 272c 2027  ethods=['GET', '
-000020f0: 504f 5354 275d 290a 2020 2020 2020 2020  POST']).        
-00002100: 6173 796e 6320 6465 6620 6372 6561 7465  async def create
-00002110: 5f61 6363 6f75 6e74 2872 6571 7565 7374  _account(request
-00002120: 293a 0a20 2020 2020 2020 2020 2020 2022  ):.            "
-00002130: 2222 4745 547c 504f 5354 202f 6372 6561  ""GET|POST /crea
-00002140: 7465 2d61 6363 6f75 6e74 3a20 4372 6561  te-account: Crea
-00002150: 7465 2061 6363 6f75 6e74 2066 6f72 6d20  te account form 
-00002160: 6861 6e64 6c65 720a 2020 2020 2020 2020  handler.        
-00002170: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00002180: 2020 2020 2320 696e 6974 6961 6c69 7a65      # initialize
-00002190: 2066 6f72 6d0a 2020 2020 2020 2020 2020   form.          
-000021a0: 2020 666f 726d 203d 2061 7761 6974 2043    form = await C
-000021b0: 7265 6174 6541 6363 6f75 6e74 466f 726d  reateAccountForm
-000021c0: 2e66 726f 6d5f 666f 726d 6461 7461 2872  .from_formdata(r
-000021d0: 6571 7565 7374 290a 2020 2020 2020 2020  equest).        
-000021e0: 0a20 2020 2020 2020 2020 2020 2023 2076  .            # v
-000021f0: 616c 6964 6174 6520 666f 726d 0a20 2020  alidate form.   
-00002200: 2020 2020 2020 2020 2069 6620 6177 6169           if awai
-00002210: 7420 666f 726d 2e76 616c 6964 6174 655f  t form.validate_
-00002220: 6f6e 5f73 7562 6d69 7428 293a 0a20 2020  on_submit():.   
-00002230: 2020 2020 2020 2020 2020 2020 2023 2054               # T
-00002240: 4f44 4f3a 2053 6176 6520 6163 636f 756e  ODO: Save accoun
-00002250: 7420 6372 6564 656e 7469 616c 7320 6265  t credentials be
-00002260: 666f 7265 2072 6574 7572 6e69 6e67 2072  fore returning r
-00002270: 6564 6972 6563 7420 7265 7370 6f6e 7365  edirect response
-00002280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002290: 2072 6574 7572 6e20 5265 6469 7265 6374   return Redirect
-000022a0: 5265 7370 6f6e 7365 2875 726c 3d27 2f27  Response(url='/'
-000022b0: 2c20 7374 6174 7573 5f63 6f64 653d 3330  , status_code=30
-000022c0: 3329 0a20 2020 2020 2020 200a 2020 2020  3).        .    
-000022d0: 2020 2020 2020 2020 2320 6765 6e65 7261          # genera
-000022e0: 7465 2068 746d 6c0a 2020 2020 2020 2020  te html.        
-000022f0: 2020 2020 6874 6d6c 203d 2074 656d 706c      html = templ
-00002300: 6174 652e 7265 6e64 6572 2866 6f72 6d3d  ate.render(form=
-00002310: 666f 726d 290a 2020 2020 2020 2020 0a20  form).        . 
-00002320: 2020 2020 2020 2020 2020 2023 2072 6574             # ret
-00002330: 7572 6e20 7265 7370 6f6e 7365 0a20 2020  urn response.   
-00002340: 2020 2020 2020 2020 2073 7461 7475 735f           status_
-00002350: 636f 6465 203d 2034 3232 2069 6620 666f  code = 422 if fo
-00002360: 726d 2e65 7272 6f72 7320 656c 7365 2032  rm.errors else 2
-00002370: 3030 0a20 2020 2020 2020 2020 2020 2072  00.            r
-00002380: 6574 7572 6e20 4854 4d4c 5265 7370 6f6e  eturn HTMLRespon
-00002390: 7365 2868 746d 6c2c 2073 7461 7475 735f  se(html, status_
-000023a0: 636f 6465 3d73 7461 7475 735f 636f 6465  code=status_code
-000023b0: 290a 2020 2020 2020 2020 6060 600a 2020  ).        ```.  
-000023c0: 2020 2020 2020 0a20 2020 2020 2020 2023        .        #
-000023d0: 2323 2041 7379 6e63 2043 7573 746f 6d20  ## Async Custom 
-000023e0: 5661 6c69 6461 746f 7273 0a20 2020 2020  Validators.     
-000023f0: 2020 200a 2020 2020 2020 2020 5468 6520     .        The 
-00002400: 6053 7461 726c 6574 7465 466f 726d 6020  `StarletteForm` 
-00002410: 636c 6173 7320 616c 6c6f 7773 2079 6f75  class allows you
-00002420: 2074 6f20 696d 706c 656d 656e 7420 6173   to implement as
-00002430: 796e 6368 726f 6e6f 7573 205b 5754 466f  ynchronous [WTFo
-00002440: 726d 732d 6c69 6b65 2063 7573 746f 6d20  rms-like custom 
-00002450: 7661 6c69 6461 746f 7273 5d28 6874 7470  validators](http
-00002460: 733a 2f2f 7774 666f 726d 732e 7265 6164  s://wtforms.read
-00002470: 7468 6564 6f63 732e 696f 2f65 6e2f 7374  thedocs.io/en/st
-00002480: 6162 6c65 2f76 616c 6964 6174 6f72 732f  able/validators/
-00002490: 2363 7573 746f 6d2d 7661 6c69 6461 746f  #custom-validato
-000024a0: 7273 2920 6279 2061 6464 696e 6720 6061  rs) by adding `a
-000024b0: 7379 6e63 5f76 616c 6964 6174 655f 7b66  sync_validate_{f
-000024c0: 6965 6c64 6e61 6d65 7d60 206d 6574 686f  ieldname}` metho
-000024d0: 6473 2074 6f20 796f 7572 2066 6f72 6d20  ds to your form 
-000024e0: 636c 6173 7365 733a 0a20 2020 2020 2020  classes:.       
-000024f0: 200a 2020 2020 2020 2020 6060 6070 7974   .        ```pyt
-00002500: 686f 6e0a 2020 2020 2020 2020 6672 6f6d  hon.        from
-00002510: 2073 7461 726c 6574 7465 5f77 7466 2069   starlette_wtf i
-00002520: 6d70 6f72 7420 5374 6172 6c65 7474 6546  mport StarletteF
-00002530: 6f72 6d0a 2020 2020 2020 2020 6672 6f6d  orm.        from
-00002540: 2077 7466 6f72 6d73 2069 6d70 6f72 7420   wtforms import 
-00002550: 5465 7874 4669 656c 642c 2050 6173 7377  TextField, Passw
-00002560: 6f72 6446 6965 6c64 2c20 5661 6c69 6461  ordField, Valida
-00002570: 7469 6f6e 4572 726f 720a 2020 2020 2020  tionError.      
-00002580: 2020 6672 6f6d 2077 7466 6f72 6d73 2e76    from wtforms.v
-00002590: 616c 6964 6174 6f72 7320 696d 706f 7274  alidators import
-000025a0: 2044 6174 6152 6571 7569 7265 642c 2045   DataRequired, E
-000025b0: 6d61 696c 2c20 4571 7561 6c54 6f0a 2020  mail, EqualTo.  
-000025c0: 2020 2020 2020 0a20 2020 2020 2020 200a        .        .
-000025d0: 2020 2020 2020 2020 636c 6173 7320 4372          class Cr
-000025e0: 6561 7465 4163 636f 756e 7446 6f72 6d28  eateAccountForm(
-000025f0: 5374 6172 6c65 7474 6546 6f72 6d29 3a0a  StarletteForm):.
-00002600: 2020 2020 2020 2020 2020 2020 656d 6169              emai
-00002610: 6c20 3d20 5465 7874 4669 656c 6428 0a20  l = TextField(. 
-00002620: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00002630: 456d 6169 6c20 6164 6472 6573 7327 2c0a  Email address',.
-00002640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002650: 7661 6c69 6461 746f 7273 3d5b 0a20 2020  validators=[.   
-00002660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002670: 2044 6174 6152 6571 7569 7265 6428 2750   DataRequired('P
-00002680: 6c65 6173 6520 656e 7465 7220 796f 7572  lease enter your
-00002690: 2065 6d61 696c 2061 6464 7265 7373 2729   email address')
-000026a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000026b0: 2020 2020 2020 456d 6169 6c28 290a 2020        Email().  
-000026c0: 2020 2020 2020 2020 2020 2020 2020 5d0a                ].
-000026d0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000026e0: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-000026f0: 2020 2070 6173 7377 6f72 6420 3d20 5061     password = Pa
-00002700: 7373 776f 7264 4669 656c 6428 0a20 2020  sswordField(.   
-00002710: 2020 2020 2020 2020 2020 2020 2027 5061               'Pa
-00002720: 7373 776f 7264 272c 0a20 2020 2020 2020  ssword',.       
-00002730: 2020 2020 2020 2020 2077 6964 6765 743d           widget=
-00002740: 5061 7373 776f 7264 496e 7075 7428 6869  PasswordInput(hi
-00002750: 6465 5f76 616c 7565 3d46 616c 7365 292c  de_value=False),
-00002760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002770: 2076 616c 6964 6174 6f72 733d 5b0a 2020   validators=[.  
-00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002790: 2020 4461 7461 5265 7175 6972 6564 2827    DataRequired('
-000027a0: 506c 6561 7365 2065 6e74 6572 2079 6f75  Please enter you
-000027b0: 7220 7061 7373 776f 7264 2729 2c0a 2020  r password'),.  
-000027c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027d0: 2020 4571 7561 6c54 6f28 2770 6173 7377    EqualTo('passw
-000027e0: 6f72 645f 636f 6e66 6972 6d27 2c20 6d65  ord_confirm', me
-000027f0: 7373 6167 653d 2750 6173 7377 6f72 6473  ssage='Passwords
-00002800: 206d 7573 7420 6d61 7463 6827 290a 2020   must match').  
-00002810: 2020 2020 2020 2020 2020 2020 2020 5d0a                ].
-00002820: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00002830: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-00002840: 2020 2070 6173 7377 6f72 645f 636f 6e66     password_conf
-00002850: 6972 6d20 3d20 5061 7373 776f 7264 4669  irm = PasswordFi
-00002860: 656c 6428 0a20 2020 2020 2020 2020 2020  eld(.           
-00002870: 2020 2020 2027 436f 6e66 6972 6d20 5061       'Confirm Pa
-00002880: 7373 776f 7264 272c 0a20 2020 2020 2020  ssword',.       
-00002890: 2020 2020 2020 2020 2077 6964 6765 743d           widget=
-000028a0: 5061 7373 776f 7264 496e 7075 7428 6869  PasswordInput(hi
-000028b0: 6465 5f76 616c 7565 3d46 616c 7365 292c  de_value=False),
-000028c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000028d0: 2076 616c 6964 6174 6f72 733d 5b0a 2020   validators=[.  
-000028e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028f0: 2020 4461 7461 5265 7175 6972 6564 2827    DataRequired('
-00002900: 506c 6561 7365 2063 6f6e 6669 726d 2079  Please confirm y
-00002910: 6f75 7220 7061 7373 776f 7264 2729 0a20  our password'). 
-00002920: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-00002930: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00002940: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00002950: 2020 2020 6173 796e 6320 6465 6620 6173      async def as
-00002960: 796e 635f 7661 6c69 6461 7465 5f65 6d61  ync_validate_ema
-00002970: 696c 2873 656c 662c 2066 6965 6c64 293a  il(self, field):
-00002980: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002990: 2022 2222 4173 796e 6368 726f 6e6f 7573   """Asynchronous
-000029a0: 2076 616c 6964 6174 6f72 2074 6f20 6368   validator to ch
-000029b0: 6563 6b20 6966 2065 6d61 696c 2069 7320  eck if email is 
-000029c0: 616c 7265 6164 7920 696e 2d75 7365 0a20  already in-use. 
-000029d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000029e0: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-000029f0: 2020 2023 2072 6570 6c61 6365 2074 6869     # replace thi
-00002a00: 7320 7769 7468 2079 6f75 7220 6f77 6e20  s with your own 
-00002a10: 636f 6465 0a20 2020 2020 2020 2020 2020  code.           
-00002a20: 2020 2020 2069 6620 6177 6169 7420 6d61       if await ma
-00002a30: 6b65 5f64 6174 6162 6173 655f 7265 7175  ke_database_requ
-00002a40: 6573 745f 6865 7265 2829 3a0a 2020 2020  est_here():.    
-00002a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a60: 7261 6973 6520 5661 6c69 6461 7469 6f6e  raise Validation
-00002a70: 4572 726f 7228 2745 6d61 696c 2069 7320  Error('Email is 
-00002a80: 616c 7265 6164 7920 696e 2075 7365 2729  already in use')
-00002a90: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00002aa0: 2020 2020 200a 2020 2020 2020 2020 2323       .        ##
-00002ab0: 2043 5352 4620 5072 6f74 6563 7469 6f6e   CSRF Protection
-00002ac0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00002ad0: 2020 496e 206f 7264 6572 2074 6f20 6164    In order to ad
-00002ae0: 6420 4353 5246 2070 726f 7465 6374 696f  d CSRF protectio
-00002af0: 6e20 746f 2079 6f75 7220 6170 702c 2066  n to your app, f
-00002b00: 6972 7374 2079 6f75 206d 7573 7420 656e  irst you must en
-00002b10: 7375 7265 2074 6861 7420 5374 6172 6c65  sure that Starle
-00002b20: 7474 6527 7320 6053 6573 7369 6f6e 4d69  tte's `SessionMi
-00002b30: 6464 6c65 7761 7265 6020 6973 2065 6e61  ddleware` is ena
-00002b40: 626c 6564 2c20 7365 636f 6e64 2079 6f75  bled, second you
-00002b50: 206d 7573 7420 636f 6e66 6967 7572 6520   must configure 
-00002b60: 5374 6172 6c65 7474 652d 5754 4620 7573  Starlette-WTF us
-00002b70: 696e 6720 6043 5352 4650 726f 7465 6374  ing `CSRFProtect
-00002b80: 4d69 6464 6c65 7761 7265 602c 2074 6869  Middleware`, thi
-00002b90: 7264 2079 6f75 206d 7573 7420 7573 6520  rd you must use 
-00002ba0: 7468 6520 6040 6373 7266 5f70 726f 7465  the `@csrf_prote
-00002bb0: 6374 6020 6465 636f 7261 746f 7220 746f  ct` decorator to
-00002bc0: 2070 726f 7465 6374 2069 6e64 6976 6964   protect individ
-00002bd0: 7561 6c20 656e 6470 6f69 6e74 732c 2061  ual endpoints, a
-00002be0: 6e64 2066 6f75 7274 6820 796f 7520 6d75  nd fourth you mu
-00002bf0: 7374 2061 6464 2074 6865 2043 5352 4620  st add the CSRF 
-00002c00: 746f 6b65 6e20 746f 2079 6f75 7220 4854  token to your HT
-00002c10: 4d4c 2066 6f72 6d73 206f 7220 4a61 7661  ML forms or Java
-00002c20: 5363 7269 7074 2072 6571 7565 7374 732e  Script requests.
-00002c30: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00002c40: 2020 2323 2320 5365 7475 700a 2020 2020    ### Setup.    
-00002c50: 2020 2020 0a20 2020 2020 2020 2054 6f20      .        To 
-00002c60: 656e 6162 6c65 2043 5352 4620 7072 6f74  enable CSRF prot
-00002c70: 6563 7469 6f6e 2066 6f72 2079 6f75 7220  ection for your 
-00002c80: 6170 702c 2066 6972 7374 2079 6f75 206d  app, first you m
-00002c90: 7573 7420 656e 7375 7265 2074 6861 7420  ust ensure that 
-00002ca0: 5374 6172 6c65 7474 6527 7320 6053 6573  Starlette's `Ses
-00002cb0: 7369 6f6e 4d69 6464 6c65 7761 7265 6020  sionMiddleware` 
-00002cc0: 6973 2065 6e61 626c 6564 2c20 616e 6420  is enabled, and 
-00002cd0: 7365 636f 6e64 2079 6f75 206d 7573 7420  second you must 
-00002ce0: 636f 6e66 6967 7572 6520 5374 6172 6c65  configure Starle
-00002cf0: 7474 652d 5754 4620 7573 696e 6720 6043  tte-WTF using `C
-00002d00: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002d10: 7761 7265 602e 0a20 2020 2020 2020 200a  ware`..        .
-00002d20: 2020 2020 2020 2020 6060 6070 7974 686f          ```pytho
-00002d30: 6e0a 2020 2020 2020 2020 6672 6f6d 2073  n.        from s
-00002d40: 7461 726c 6574 7465 2e61 7070 6c69 6361  tarlette.applica
-00002d50: 7469 6f6e 7320 696d 706f 7274 2053 7461  tions import Sta
-00002d60: 726c 6574 7465 0a20 2020 2020 2020 2066  rlette.        f
-00002d70: 726f 6d20 7374 6172 6c65 7474 652e 6d69  rom starlette.mi
-00002d80: 6464 6c65 7761 7265 2069 6d70 6f72 7420  ddleware import 
-00002d90: 4d69 6464 6c65 7761 7265 0a20 2020 2020  Middleware.     
-00002da0: 2020 2066 726f 6d20 7374 6172 6c65 7474     from starlett
-00002db0: 652e 6d69 6464 6c65 7761 7265 2e73 6573  e.middleware.ses
-00002dc0: 7369 6f6e 7320 696d 706f 7274 2053 6573  sions import Ses
-00002dd0: 7369 6f6e 4d69 6464 6c65 7761 7265 0a20  sionMiddleware. 
-00002de0: 2020 2020 2020 2066 726f 6d20 7374 6172         from star
-00002df0: 6c65 7474 655f 7774 6620 696d 706f 7274  lette_wtf import
-00002e00: 2043 5352 4650 726f 7465 6374 4d69 6464   CSRFProtectMidd
-00002e10: 6c65 7761 7265 0a20 2020 2020 2020 200a  leware.        .
-00002e20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00002e30: 2061 7070 203d 2053 7461 726c 6574 7465   app = Starlette
-00002e40: 286d 6964 646c 6577 6172 653d 5b0a 2020  (middleware=[.  
-00002e50: 2020 2020 2020 2020 2020 4d69 6464 6c65            Middle
-00002e60: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
-00002e70: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
-00002e80: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
-00002e90: 312a 2a2a 2729 2c0a 2020 2020 2020 2020  1***'),.        
-00002ea0: 2020 2020 4d69 6464 6c65 7761 7265 2843      Middleware(C
-00002eb0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002ec0: 7761 7265 2c20 6373 7266 5f73 6563 7265  ware, csrf_secre
-00002ed0: 743d 272a 2a2a 5245 504c 4143 454d 4532  t='***REPLACEME2
-00002ee0: 2a2a 2a27 290a 2020 2020 2020 2020 5d29  ***').        ])
-00002ef0: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00002f00: 2020 2020 200a 2020 2020 2020 2020 2323       .        ##
-00002f10: 2320 5072 6f74 6563 7420 5669 6577 730a  # Protect Views.
-00002f20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00002f30: 204f 6e63 6520 5374 6172 6c65 7474 652d   Once Starlette-
-00002f40: 5754 4620 6861 7320 6265 656e 2063 6f6e  WTF has been con
-00002f50: 6669 6775 7265 6420 7573 696e 6720 6043  figured using `C
-00002f60: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002f70: 7761 7265 6020 796f 7520 6361 6e20 656e  ware` you can en
-00002f80: 6162 6c65 2043 5352 4620 7072 6f74 6563  able CSRF protec
-00002f90: 7469 6f6e 2066 6f72 2069 6e64 6976 6964  tion for individ
-00002fa0: 7561 6c20 656e 6470 6f69 6e74 7320 7573  ual endpoints us
-00002fb0: 696e 6720 7468 6520 6040 6373 7266 5f70  ing the `@csrf_p
-00002fc0: 726f 7465 6374 6020 6465 636f 7261 746f  rotect` decorato
-00002fd0: 722e 2054 6865 2060 4063 7372 665f 7072  r. The `@csrf_pr
-00002fe0: 6f74 6563 7460 2064 6563 6f72 6174 6f72  otect` decorator
-00002ff0: 2077 696c 6c20 6175 746f 6d61 7469 6361   will automatica
-00003000: 6c6c 7920 6c6f 6f6b 2066 6f72 2060 6373  lly look for `cs
-00003010: 7266 5f74 6f6b 656e 6020 696e 2074 6865  rf_token` in the
-00003020: 2066 6f72 6d20 6461 7461 206f 7220 696e   form data or in
-00003030: 2074 6865 2072 6571 7565 7374 2068 6561   the request hea
-00003040: 6465 7273 2028 6058 2d43 5352 4654 6f6b  ders (`X-CSRFTok
-00003050: 656e 6029 2061 6e64 2069 7420 7769 6c6c  en`) and it will
-00003060: 2072 6169 7365 2061 6e20 6048 5454 5045   raise an `HTTPE
-00003070: 7863 6570 7469 6f6e 6020 6966 2074 6865  xception` if the
-00003080: 2074 6f6b 656e 2069 7320 6d69 7373 696e   token is missin
-00003090: 6720 6f72 2069 6e76 616c 6964 2e20 4353  g or invalid. CS
-000030a0: 5246 2074 6f6b 656e 2076 616c 6964 6174  RF token validat
-000030b0: 696f 6e20 7769 6c6c 206f 6e6c 7920 6265  ion will only be
-000030c0: 2070 6572 666f 726d 6564 206f 6e20 7375   performed on su
-000030d0: 626d 6973 7369 6f6e 2072 6571 7565 7374  bmission request
-000030e0: 7320 2850 4f53 542c 2050 5554 2c20 5041  s (POST, PUT, PA
-000030f0: 5443 482c 2044 454c 4554 4529 2e20 4e6f  TCH, DELETE). No
-00003100: 7465 2074 6861 7420 7468 6520 6040 6373  te that the `@cs
-00003110: 7266 5f70 726f 7465 6374 6020 6d75 7374  rf_protect` must
-00003120: 2072 756e 2061 6674 6572 2060 4061 7070   run after `@app
-00003130: 2e72 6f75 7465 2829 603a 0a20 2020 2020  .route()`:.     
-00003140: 2020 200a 2020 2020 2020 2020 6060 6070     .        ```p
-00003150: 7974 686f 6e0a 2020 2020 2020 2020 6672  ython.        fr
-00003160: 6f6d 2073 7461 726c 6574 7465 2e72 6573  om starlette.res
-00003170: 706f 6e73 6573 2069 6d70 6f72 7420 506c  ponses import Pl
-00003180: 6169 6e54 6578 7452 6573 706f 6e73 650a  ainTextResponse.
-00003190: 2020 2020 2020 2020 6672 6f6d 2073 7461          from sta
-000031a0: 726c 6574 7465 5f77 7466 2069 6d70 6f72  rlette_wtf impor
-000031b0: 7420 6373 7266 5f70 726f 7465 6374 0a20  t csrf_protect. 
-000031c0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-000031d0: 0a20 2020 2020 2020 2040 6170 702e 726f  .        @app.ro
-000031e0: 7574 6528 272f 666f 726d 2d68 616e 646c  ute('/form-handl
-000031f0: 6572 272c 206d 6574 686f 6473 3d5b 2747  er', methods=['G
-00003200: 4554 272c 2027 504f 5354 275d 290a 2020  ET', 'POST']).  
-00003210: 2020 2020 2020 4063 7372 665f 7072 6f74        @csrf_prot
-00003220: 6563 740a 2020 2020 2020 2020 6173 796e  ect.        asyn
-00003230: 6320 6465 6620 666f 726d 5f68 616e 646c  c def form_handl
-00003240: 6572 2872 6571 7565 7374 293a 0a20 2020  er(request):.   
-00003250: 2020 2020 2020 2020 2022 2222 4745 547c           """GET|
-00003260: 504f 5354 202f 666f 726d 2d68 616e 646c  POST /form-handl
-00003270: 6572 3a20 466f 726d 2068 616e 646c 6572  er: Form handler
-00003280: 0a20 2020 2020 2020 2020 2020 2022 2222  .            """
-00003290: 0a20 2020 2020 2020 2020 2020 2023 2074  .            # t
-000032a0: 6869 7320 636f 6465 2077 6f6e 2774 2072  his code won't r
-000032b0: 756e 2075 6e6c 6573 7320 7468 6520 4353  un unless the CS
-000032c0: 5246 2074 6f6b 656e 2068 6173 2062 6565  RF token has bee
-000032d0: 6e20 7661 6c69 6461 7465 640a 2020 2020  n validated.    
-000032e0: 2020 2020 2020 2020 7265 7475 726e 2050          return P
-000032f0: 6c61 696e 5465 7874 5265 7370 6f6e 7365  lainTextResponse
-00003300: 2829 0a20 2020 2020 2020 2060 6060 0a20  ().        ```. 
-00003310: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003320: 5468 6520 6040 6373 7266 5f70 726f 7465  The `@csrf_prote
-00003330: 6374 6020 6465 636f 7261 746f 7220 6361  ct` decorator ca
-00003340: 6e20 616c 736f 2062 6520 7573 6564 2077  n also be used w
-00003350: 6974 6820 636c 6173 732d 6261 7365 6420  ith class-based 
-00003360: 7669 6577 7320 2865 2e67 2e20 5b48 5454  views (e.g. [HTT
-00003370: 5045 6e64 706f 696e 745d 2868 7474 7073  PEndpoint](https
-00003380: 3a2f 2f77 7777 2e73 7461 726c 6574 7465  ://www.starlette
-00003390: 2e69 6f2f 656e 6470 6f69 6e74 732f 2929  .io/endpoints/))
-000033a0: 3a0a 2020 2020 2020 2020 6060 6070 7974  :.        ```pyt
-000033b0: 686f 6e0a 2020 2020 2020 2020 6672 6f6d  hon.        from
-000033c0: 2073 7461 726c 6574 7465 2e65 6e64 706f   starlette.endpo
-000033d0: 696e 7473 2069 6d70 6f72 7420 4854 5450  ints import HTTP
-000033e0: 456e 6470 6f69 6e74 0a20 2020 2020 2020  Endpoint.       
-000033f0: 2066 726f 6d20 7374 6172 6c65 7474 652e   from starlette.
-00003400: 7265 7370 6f6e 7365 7320 696d 706f 7274  responses import
-00003410: 2050 6c61 696e 5465 7874 5265 7370 6f6e   PlainTextRespon
-00003420: 7365 0a20 2020 2020 2020 2066 726f 6d20  se.        from 
-00003430: 7374 6172 6c65 7474 655f 7774 6620 696d  starlette_wtf im
-00003440: 706f 7274 2063 7372 665f 7072 6f74 6563  port csrf_protec
-00003450: 740a 2020 2020 2020 2020 0a20 2020 2020  t.        .     
-00003460: 2020 200a 2020 2020 2020 2020 4063 7372     .        @csr
-00003470: 665f 7072 6f74 6563 740a 2020 2020 2020  f_protect.      
-00003480: 2020 636c 6173 7320 456e 6470 6f69 6e74    class Endpoint
-00003490: 2848 5454 5045 6e64 706f 696e 7429 3a0a  (HTTPEndpoint):.
-000034a0: 2020 2020 2020 2020 2020 2020 6173 796e              asyn
-000034b0: 6320 6465 6620 6765 7428 7365 6c66 2c20  c def get(self, 
-000034c0: 7265 7175 6573 7429 3a0a 2020 2020 2020  request):.      
-000034d0: 2020 2020 2020 2020 2020 2320 7468 6973            # this
-000034e0: 2063 6f64 6520 7769 6c6c 2072 756e 2077   code will run w
-000034f0: 6974 686f 7574 2061 2043 5352 4620 6368  ithout a CSRF ch
-00003500: 6563 6b0a 2020 2020 2020 2020 2020 2020  eck.            
-00003510: 2020 2020 7265 7475 726e 2050 6c61 696e      return Plain
-00003520: 5465 7874 5265 7370 6f6e 7365 2829 0a20  TextResponse(). 
-00003530: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003540: 2020 2020 6173 796e 6320 6465 6620 706f      async def po
-00003550: 7374 2873 656c 662c 2072 6571 7565 7374  st(self, request
-00003560: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00003570: 2020 2023 2074 6869 7320 636f 6465 2077     # this code w
-00003580: 6f6e 2774 2072 756e 2075 6e6c 6573 7320  on't run unless 
-00003590: 7468 6520 4353 5246 2074 6f6b 656e 2068  the CSRF token h
-000035a0: 6173 2062 6565 6e20 7661 6c69 6461 7465  as been validate
-000035b0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-000035c0: 2020 7265 7475 726e 2050 6c61 696e 5465    return PlainTe
-000035d0: 7874 5265 7370 6f6e 7365 2829 0a20 2020  xtResponse().   
-000035e0: 2020 2020 2060 6060 0a20 2020 2020 2020       ```.       
-000035f0: 200a 2020 2020 2020 2020 5468 6520 6040   .        The `@
-00003600: 6373 7266 5f70 726f 7465 6374 6020 6465  csrf_protect` de
-00003610: 636f 7261 746f 7220 6361 6e20 616c 736f  corator can also
-00003620: 2062 6520 7573 6564 2077 6974 6820 626f   be used with bo
-00003630: 756e 6420 6d65 7468 6f64 7320 6174 7461  und methods atta
-00003640: 6368 6564 2074 6f20 636c 6173 732d 6261  ched to class-ba
-00003650: 7365 6420 7669 6577 733a 0a20 2020 2020  sed views:.     
-00003660: 2020 2060 6060 7079 7468 6f6e 0a20 2020     ```python.   
-00003670: 2020 2020 2066 726f 6d20 7374 6172 6c65       from starle
-00003680: 7474 652e 656e 6470 6f69 6e74 7320 696d  tte.endpoints im
-00003690: 706f 7274 2048 5454 5045 6e64 706f 696e  port HTTPEndpoin
-000036a0: 740a 2020 2020 2020 2020 6672 6f6d 2073  t.        from s
-000036b0: 7461 726c 6574 7465 2e72 6573 706f 6e73  tarlette.respons
-000036c0: 6573 2069 6d70 6f72 7420 506c 6169 6e54  es import PlainT
-000036d0: 6578 7452 6573 706f 6e73 650a 2020 2020  extResponse.    
-000036e0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-000036f0: 7465 5f77 7466 2069 6d70 6f72 7420 6373  te_wtf import cs
-00003700: 7266 5f70 726f 7465 6374 0a20 2020 2020  rf_protect.     
-00003710: 2020 200a 2020 2020 2020 2020 0a20 2020     .        .   
-00003720: 2020 2020 2063 6c61 7373 2045 6e64 706f       class Endpo
-00003730: 696e 7428 4854 5450 456e 6470 6f69 6e74  int(HTTPEndpoint
-00003740: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
-00003750: 7379 6e63 2064 6566 2067 6574 2873 656c  sync def get(sel
-00003760: 662c 2072 6571 7565 7374 293a 0a20 2020  f, request):.   
-00003770: 2020 2020 2020 2020 2020 2020 2023 2074               # t
-00003780: 6869 7320 636f 6465 2077 696c 6c20 7275  his code will ru
-00003790: 6e20 7769 7468 6f75 7420 6120 4353 5246  n without a CSRF
-000037a0: 2063 6865 636b 0a20 2020 2020 2020 2020   check.         
-000037b0: 2020 2020 2020 2072 6574 7572 6e20 506c         return Pl
-000037c0: 6169 6e54 6578 7452 6573 706f 6e73 6528  ainTextResponse(
-000037d0: 290a 2020 2020 2020 2020 0a20 2020 2020  ).        .     
-000037e0: 2020 2020 2020 2040 6373 7266 5f70 726f         @csrf_pro
-000037f0: 7465 6374 0a20 2020 2020 2020 2020 2020  tect.           
-00003800: 2061 7379 6e63 2064 6566 2070 6f73 7428   async def post(
-00003810: 7365 6c66 2c20 7265 7175 6573 7429 3a0a  self, request):.
-00003820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003830: 2320 7468 6973 2063 6f64 6520 776f 6e27  # this code won'
-00003840: 7420 7275 6e20 756e 6c65 7373 2074 6865  t run unless the
-00003850: 2043 5352 4620 746f 6b65 6e20 6861 7320   CSRF token has 
-00003860: 6265 656e 2076 616c 6964 6174 6564 0a20  been validated. 
-00003870: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00003880: 6574 7572 6e20 506c 6169 6e54 6578 7452  eturn PlainTextR
-00003890: 6573 706f 6e73 6528 290a 2020 2020 2020  esponse().      
-000038a0: 2020 6060 600a 2020 2020 2020 2020 0a20    ```.        . 
-000038b0: 2020 2020 2020 2023 2323 2048 544d 4c20         ### HTML 
-000038c0: 466f 726d 730a 2020 2020 2020 2020 0a20  Forms.        . 
-000038d0: 2020 2020 2020 2057 6865 6e20 7573 696e         When usin
-000038e0: 6720 6053 7461 726c 6574 7465 466f 726d  g `StarletteForm
-000038f0: 6020 796f 7520 6361 6e20 7265 6e64 6572  ` you can render
-00003900: 2074 6865 2066 6f72 6d27 7320 4353 5246   the form's CSRF
-00003910: 2074 6f6b 656e 2066 6965 6c64 206c 696b   token field lik
-00003920: 6520 7468 6973 3a0a 2020 2020 2020 2020  e this:.        
-00003930: 0a20 2020 2020 2020 2060 6060 6874 6d6c  .        ```html
-00003940: 0a20 2020 2020 2020 203c 666f 726d 206d  .        <form m
-00003950: 6574 686f 643d 2270 6f73 7422 3e0a 2020  ethod="post">.  
-00003960: 2020 2020 2020 2020 7b7b 2066 6f72 6d2e          {{ form.
-00003970: 6373 7266 5f74 6f6b 656e 207d 7d0a 2020  csrf_token }}.  
-00003980: 2020 2020 2020 3c2f 666f 726d 3e0a 2020        </form>.  
-00003990: 2020 2020 2020 6060 600a 2020 2020 2020        ```.      
-000039a0: 2020 0a20 2020 2020 2020 2023 2323 204a    .        ### J
-000039b0: 6176 6153 6372 6970 7420 5265 7175 6573  avaScript Reques
-000039c0: 7473 0a20 2020 2020 2020 200a 2020 2020  ts.        .    
-000039d0: 2020 2020 5768 656e 2073 656e 6469 6e67      When sending
-000039e0: 2061 6e20 414a 4158 2072 6571 7565 7374   an AJAX request
-000039f0: 2c20 6164 6420 7468 6520 6058 2d43 5352  , add the `X-CSR
-00003a00: 4654 6f6b 656e 6020 6865 6164 6572 2074  FToken` header t
-00003a10: 6f20 616c 6c6f 7720 5374 6172 6c65 7474  o allow Starlett
-00003a20: 652d 5754 4620 746f 2070 6572 666f 726d  e-WTF to perform
-00003a30: 2043 5352 4620 7661 6c69 6461 7469 6f6e   CSRF validation
-00003a40: 2e20 466f 7220 6578 616d 706c 652c 2069  . For example, i
-00003a50: 6e20 6a51 7565 7279 2079 6f75 2063 616e  n jQuery you can
-00003a60: 2063 6f6e 6669 6775 7265 2061 6c6c 2072   configure all r
-00003a70: 6571 7565 7374 7320 746f 2073 656e 6420  equests to send 
-00003a80: 7468 6520 746f 6b65 6e3a 0a20 2020 2020  the token:.     
-00003a90: 2020 200a 2020 2020 2020 2020 6060 6068     .        ```h
-00003aa0: 746d 6c0a 2020 2020 2020 2020 3c73 6372  tml.        <scr
-00003ab0: 6970 7420 7479 7065 3d22 7465 7874 2f6a  ipt type="text/j
-00003ac0: 6176 6173 6372 6970 7422 3e0a 2020 2020  avascript">.    
-00003ad0: 2020 2020 2020 7661 7220 6373 7266 5f74        var csrf_t
-00003ae0: 6f6b 656e 203d 2022 7b7b 2063 7372 665f  oken = "{{ csrf_
-00003af0: 746f 6b65 6e28 7265 7175 6573 7429 207d  token(request) }
-00003b00: 7d22 3b0a 2020 2020 2020 2020 0a20 2020  }";.        .   
-00003b10: 2020 2020 2020 2024 2e61 6a61 7853 6574         $.ajaxSet
-00003b20: 7570 287b 0a20 2020 2020 2020 2020 2020  up({.           
-00003b30: 2062 6566 6f72 6553 656e 643a 2066 756e   beforeSend: fun
-00003b40: 6374 696f 6e28 7868 722c 2073 6574 7469  ction(xhr, setti
-00003b50: 6e67 7329 207b 0a20 2020 2020 2020 2020  ngs) {.         
-00003b60: 2020 2020 2069 6620 2821 2f5e 2847 4554       if (!/^(GET
-00003b70: 7c48 4541 447c 4f50 5449 4f4e 537c 5452  |HEAD|OPTIONS|TR
-00003b80: 4143 4529 242f 692e 7465 7374 2873 6574  ACE)$/i.test(set
-00003b90: 7469 6e67 732e 7479 7065 2920 2626 2021  tings.type) && !
-00003ba0: 7468 6973 2e63 726f 7373 446f 6d61 696e  this.crossDomain
-00003bb0: 2920 7b0a 2020 2020 2020 2020 2020 2020  ) {.            
-00003bc0: 2020 2020 7868 722e 7365 7452 6571 7565      xhr.setReque
-00003bd0: 7374 4865 6164 6572 2822 582d 4353 5246  stHeader("X-CSRF
-00003be0: 546f 6b65 6e22 2c20 6373 7266 5f74 6f6b  Token", csrf_tok
-00003bf0: 656e 293b 0a20 2020 2020 2020 2020 2020  en);.           
-00003c00: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
-00003c10: 207d 0a20 2020 2020 2020 2020 207d 293b   }.          });
-00003c20: 0a20 2020 2020 2020 203c 2f73 6372 6970  .        </scrip
-00003c30: 743e 0a20 2020 2020 2020 2060 6060 0a20  t>.        ```. 
-00003c40: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003c50: 2323 2320 4469 7361 626c 6520 696e 2055  ### Disable in U
-00003c60: 6e69 7420 5465 7374 730a 2020 2020 2020  nit Tests.      
-00003c70: 2020 0a20 2020 2020 2020 2054 6f20 6469    .        To di
-00003c80: 7361 626c 6520 4353 5246 2070 726f 7465  sable CSRF prote
-00003c90: 6374 696f 6e20 696e 2075 6e69 7420 7465  ction in unit te
-00003ca0: 7374 7320 796f 7520 6361 6e20 746f 6767  sts you can togg
-00003cb0: 6c65 2074 6865 2060 656e 6162 6c65 6460  le the `enabled`
-00003cc0: 2061 7474 7269 6275 7465 2069 6e20 6043   attribute in `C
-00003cd0: 5352 4650 726f 7465 6374 696f 6e4d 6964  SRFProtectionMid
-00003ce0: 646c 6577 6172 6560 3a0a 2020 2020 2020  dleware`:.      
-00003cf0: 2020 0a20 2020 2020 2020 2060 6060 7079    .        ```py
-00003d00: 7468 6f6e 0a20 2020 2020 2020 2066 726f  thon.        fro
-00003d10: 6d20 7374 6172 6c65 7474 652e 6170 706c  m starlette.appl
-00003d20: 6963 6174 696f 6e73 2069 6d70 6f72 7420  ications import 
-00003d30: 5374 6172 6c65 7474 650a 2020 2020 2020  Starlette.      
-00003d40: 2020 6672 6f6d 2073 7461 726c 6574 7465    from starlette
-00003d50: 2e63 6f6e 6669 6720 696d 706f 7274 2065  .config import e
-00003d60: 6e76 6972 6f6e 0a20 2020 2020 2020 2066  nviron.        f
-00003d70: 726f 6d20 7374 6172 6c65 7474 652e 6d69  rom starlette.mi
-00003d80: 6464 6c65 7761 7265 2069 6d70 6f72 7420  ddleware import 
-00003d90: 4d69 6464 6c65 7761 7265 0a20 2020 2020  Middleware.     
-00003da0: 2020 2066 726f 6d20 7374 6172 6c65 7474     from starlett
-00003db0: 652e 6d69 6464 6c65 7761 7265 2e73 6573  e.middleware.ses
-00003dc0: 7369 6f6e 7320 696d 706f 7274 2053 6573  sions import Ses
-00003dd0: 7369 6f6e 4d69 6464 6c65 7761 7265 0a20  sionMiddleware. 
-00003de0: 2020 2020 2020 2066 726f 6d20 7374 6172         from star
-00003df0: 6c65 7474 655f 7774 6620 696d 706f 7274  lette_wtf import
-00003e00: 2043 5352 4650 726f 7465 6374 4d69 6464   CSRFProtectMidd
-00003e10: 6c65 7761 7265 0a20 2020 2020 2020 200a  leware.        .
-00003e20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00003e30: 2061 7070 203d 2053 7461 726c 6574 7465   app = Starlette
-00003e40: 286d 6964 646c 6577 6172 653d 5b0a 2020  (middleware=[.  
-00003e50: 2020 2020 2020 2020 2020 4d69 6464 6c65            Middle
-00003e60: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
-00003e70: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
-00003e80: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
-00003e90: 312a 2a2a 2729 2c0a 2020 2020 2020 2020  1***'),.        
-00003ea0: 2020 2020 4d69 6464 6c65 7761 7265 2843      Middleware(C
-00003eb0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00003ec0: 7761 7265 2c0a 2020 2020 2020 2020 2020  ware,.          
-00003ed0: 2020 2020 2020 2020 2020 2020 2065 6e61               ena
-00003ee0: 626c 653d 2165 6e76 6972 6f6e 2e67 6574  ble=!environ.get
-00003ef0: 2827 5445 5354 494e 4727 2c20 4661 6c73  ('TESTING', Fals
-00003f00: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
-00003f10: 2020 2020 2020 2020 2020 2063 7372 665f             csrf_
-00003f20: 7365 6372 6574 3d27 2a2a 2a52 4550 4c41  secret='***REPLA
-00003f30: 4345 4d45 322a 2a2a 2729 0a20 2020 2020  CEME2***').     
-00003f40: 2020 205d 290a 2020 2020 2020 2020 6060     ]).        ``
-00003f50: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00003f60: 2020 2023 2323 2043 6f6e 6669 6775 7261     ### Configura
-00003f70: 7469 6f6e 0a20 2020 2020 2020 200a 2020  tion.        .  
-00003f80: 2020 2020 2020 6043 5352 4650 726f 7465        `CSRFProte
-00003f90: 6374 4d69 6464 6c65 7761 7265 6020 6163  ctMiddleware` ac
-00003fa0: 6365 7074 7320 7468 6520 666f 6c6c 6f77  cepts the follow
-00003fb0: 696e 6720 6f70 7469 6f6e 733a 0a20 2020  ing options:.   
-00003fc0: 2020 2020 200a 2020 2020 2020 2020 7c20       .        | 
-00003fd0: 4172 6775 6d65 6e74 2020 2020 2020 2020  Argument        
-00003fe0: 2020 7c20 4465 7363 7269 7074 696f 6e0a    | Description.
-00003ff0: 2020 2020 2020 2020 7c20 2d2d 2d2d 2d2d          | ------
-00004000: 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 7c20 2d2d  ----------- | --
-00004010: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
-00004020: 2020 7c20 656e 6162 6c65 6420 2020 2020    | enabled     
-00004030: 2020 2020 7c20 4966 2074 7275 652c 2065      | If true, e
-00004040: 6e61 626c 6573 2043 5352 4620 7072 6f74  nables CSRF prot
-00004050: 6563 7469 6f6e 2e20 4465 6661 756c 7420  ection. Default 
-00004060: 746f 2054 7275 652e 0a20 2020 2020 2020  to True..       
-00004070: 207c 2063 7372 665f 7365 6372 6574 2020   | csrf_secret  
-00004080: 2020 207c 2054 6865 2043 5352 4620 746f     | The CSRF to
-00004090: 6b65 6e20 7369 676e 696e 6720 6b65 792e  ken signing key.
-000040a0: 0a20 2020 2020 2020 207c 2063 7372 665f  .        | csrf_
-000040b0: 6669 656c 645f 6e61 6d65 207c 2054 6865  field_name | The
-000040c0: 2043 5352 4620 746f 6b65 6e27 7320 6669   CSRF token's fi
-000040d0: 656c 6420 6e61 6d65 2069 6e20 7468 6520  eld name in the 
-000040e0: 7365 7373 696f 6e2e 2044 6566 6175 6c74  session. Default
-000040f0: 7320 746f 2022 6373 7266 5f74 6f6b 656e  s to "csrf_token
-00004100: 220a 2020 2020 2020 2020 7c20 6373 7266  ".        | csrf
-00004110: 5f74 696d 655f 6c69 6d69 7420 7c20 5468  _time_limit | Th
-00004120: 6520 7469 6d65 206c 696d 6974 2066 6f72  e time limit for
-00004130: 2065 6163 6820 7369 676e 6564 2074 6f6b   each signed tok
-00004140: 656e 2069 6e20 7365 636f 6e64 732e 2044  en in seconds. D
-00004150: 6566 6175 6c74 7320 746f 2033 3630 302e  efaults to 3600.
-00004160: 0a20 2020 2020 2020 207c 2063 7372 665f  .        | csrf_
-00004170: 6865 6164 6572 7320 2020 207c 204c 6973  headers    | Lis
-00004180: 7420 6f66 2043 5352 4620 4854 5450 2068  t of CSRF HTTP h
-00004190: 6561 6465 7220 6669 656c 6420 6e61 6d65  eader field name
-000041a0: 732e 2044 6566 6175 6c74 7320 746f 205b  s. Defaults to [
-000041b0: 2258 2d43 5352 4654 6f6b 656e 222c 2022  "X-CSRFToken", "
-000041c0: 582d 4353 5246 2d54 6f6b 656e 225d 0a20  X-CSRF-Token"]. 
-000041d0: 2020 2020 2020 207c 2063 7372 665f 7373         | csrf_ss
-000041e0: 6c5f 7374 7269 6374 207c 2049 6620 656e  l_strict | If en
-000041f0: 6162 6c65 642c 2065 6e73 7572 6573 2073  abled, ensures s
-00004200: 616d 6520 6f72 6967 696e 2070 6f6c 6963  ame origin polic
-00004210: 7920 6f6e 2068 7474 7073 2072 6571 7565  y on https reque
-00004220: 7374 732e 2044 6566 6175 6c74 7320 746f  sts. Defaults to
-00004230: 2054 7275 652e 0a20 2020 2020 2020 200a   True..        .
-00004240: 2020 2020 2020 2020 2323 2044 6576 656c          ## Devel
-00004250: 6f70 6d65 6e74 0a20 2020 2020 2020 200a  opment.        .
-00004260: 2020 2020 2020 2020 2323 2320 4765 7420          ### Get 
-00004270: 7468 6520 636f 6465 0a20 2020 2020 2020  the code.       
-00004280: 200a 2020 2020 2020 2020 5374 6172 6c65   .        Starle
-00004290: 7474 652d 5754 4620 6973 2061 6374 6976  tte-WTF is activ
-000042a0: 656c 7920 6465 7665 6c6f 7065 6420 6f6e  ely developed on
-000042b0: 2047 6974 4875 622e 2059 6f75 2063 616e   GitHub. You can
-000042c0: 2063 6c6f 6e65 2074 6865 2072 6570 6f73   clone the repos
-000042d0: 6974 6f72 7920 7573 696e 6720 6769 743a  itory using git:
-000042e0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-000042f0: 2020 6060 6062 6173 680a 2020 2020 2020    ```bash.      
-00004300: 2020 2420 6769 7420 636c 6f6e 6520 6769    $ git clone gi
-00004310: 7440 6769 7468 7562 2e63 6f6d 3a6d 7569  t@github.com:mui
-00004320: 6373 732f 7374 6172 6c65 7474 652d 7774  css/starlette-wt
-00004330: 662e 6769 740a 2020 2020 2020 2020 6060  f.git.        ``
-00004340: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00004350: 2020 204f 6e63 6520 796f 7520 6861 7665     Once you have
-00004360: 2061 2063 6f70 7920 6f66 2074 6865 2073   a copy of the s
-00004370: 6f75 7263 652c 2079 6f75 2063 616e 2069  ource, you can i
-00004380: 6e73 7461 6c6c 2069 7420 696e 746f 2079  nstall it into y
-00004390: 6f75 7220 7369 7465 2d70 6163 6b61 6765  our site-package
-000043a0: 7320 696e 2064 6576 656c 6f70 6d65 6e74  s in development
-000043b0: 206d 6f64 6520 736f 2079 6f75 2063 616e   mode so you can
-000043c0: 206d 6f64 6966 7920 616e 6420 6578 6563   modify and exec
-000043d0: 7574 6520 7468 6520 636f 6465 3a0a 2020  ute the code:.  
-000043e0: 2020 2020 2020 0a20 2020 2020 2020 2060        .        `
-000043f0: 6060 6261 7368 0a20 2020 2020 2020 2024  ``bash.        $
-00004400: 2070 7974 686f 6e20 7365 7475 702e 7079   python setup.py
-00004410: 2064 6576 656c 6f70 0a20 2020 2020 2020   develop.       
-00004420: 2060 6060 0a20 2020 2020 2020 200a 2020   ```.        .  
-00004430: 2020 2020 2020 2323 2320 5275 6e20 756e        ### Run un
-00004440: 6974 2074 6573 7473 0a20 2020 2020 2020  it tests.       
-00004450: 200a 2020 2020 2020 2020 546f 2069 6e73   .        To ins
-00004460: 7461 6c6c 2075 6e69 7420 7465 7374 2064  tall unit test d
-00004470: 6570 656e 6465 6e63 6965 733a 0a20 2020  ependencies:.   
-00004480: 2020 2020 200a 2020 2020 2020 2020 6060       .        ``
-00004490: 6062 6173 680a 2020 2020 2020 2020 2420  `bash.        $ 
-000044a0: 7069 7020 696e 7374 616c 6c20 2d65 202e  pip install -e .
-000044b0: 5b74 6573 745d 0a20 2020 2020 2020 2060  [test].        `
-000044c0: 6060 0a20 2020 2020 2020 200a 2020 2020  ``.        .    
-000044d0: 2020 2020 546f 2072 756e 2075 6e69 7420      To run unit 
-000044e0: 7465 7374 733a 0a20 2020 2020 2020 200a  tests:.        .
-000044f0: 2020 2020 2020 2020 6060 6062 6173 680a          ```bash.
-00004500: 2020 2020 2020 2020 2420 7079 7465 7374          $ pytest
-00004510: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00004520: 2020 2020 200a 506c 6174 666f 726d 3a20       .Platform: 
-00004530: 616e 790a 436c 6173 7369 6669 6572 3a20  any.Classifier: 
-00004540: 4465 7665 6c6f 706d 656e 7420 5374 6174  Development Stat
-00004550: 7573 203a 3a20 3320 2d20 416c 7068 610a  us :: 3 - Alpha.
-00004560: 436c 6173 7369 6669 6572 3a20 456e 7669  Classifier: Envi
-00004570: 726f 6e6d 656e 7420 3a3a 2057 6562 2045  ronment :: Web E
-00004580: 6e76 6972 6f6e 6d65 6e74 0a43 6c61 7373  nvironment.Class
-00004590: 6966 6965 723a 2049 6e74 656e 6465 6420  ifier: Intended 
-000045a0: 4175 6469 656e 6365 203a 3a20 4465 7665  Audience :: Deve
-000045b0: 6c6f 7065 7273 0a43 6c61 7373 6966 6965  lopers.Classifie
-000045c0: 723a 204c 6963 656e 7365 203a 3a20 4f53  r: License :: OS
-000045d0: 4920 4170 7072 6f76 6564 203a 3a20 4253  I Approved :: BS
-000045e0: 4420 4c69 6365 6e73 650a 436c 6173 7369  D License.Classi
-000045f0: 6669 6572 3a20 4f70 6572 6174 696e 6720  fier: Operating 
-00004600: 5379 7374 656d 203a 3a20 4f53 2049 6e64  System :: OS Ind
-00004610: 6570 656e 6465 6e74 0a43 6c61 7373 6966  ependent.Classif
-00004620: 6965 723a 2054 6f70 6963 203a 3a20 496e  ier: Topic :: In
-00004630: 7465 726e 6574 203a 3a20 5757 572f 4854  ternet :: WWW/HT
-00004640: 5450 0a43 6c61 7373 6966 6965 723a 2050  TP.Classifier: P
-00004650: 726f 6772 616d 6d69 6e67 204c 616e 6775  rogramming Langu
-00004660: 6167 6520 3a3a 2050 7974 686f 6e20 3a3a  age :: Python ::
-00004670: 2033 0a43 6c61 7373 6966 6965 723a 2050   3.Classifier: P
-00004680: 726f 6772 616d 6d69 6e67 204c 616e 6775  rogramming Langu
-00004690: 6167 6520 3a3a 2050 7974 686f 6e20 3a3a  age :: Python ::
-000046a0: 2033 2e36 0a43 6c61 7373 6966 6965 723a   3.6.Classifier:
-000046b0: 2050 726f 6772 616d 6d69 6e67 204c 616e   Programming Lan
-000046c0: 6775 6167 6520 3a3a 2050 7974 686f 6e20  guage :: Python 
-000046d0: 3a3a 2033 2e37 0a52 6571 7569 7265 732d  :: 3.7.Requires-
-000046e0: 5079 7468 6f6e 3a20 3e3d 332e 360a 4465  Python: >=3.6.De
-000046f0: 7363 7269 7074 696f 6e2d 436f 6e74 656e  scription-Conten
-00004700: 742d 5479 7065 3a20 7465 7874 2f6d 6172  t-Type: text/mar
-00004710: 6b64 6f77 6e0a 5072 6f76 6964 6573 2d45  kdown.Provides-E
-00004720: 7874 7261 3a20 7465 7374 0a              xtra: test.
+000000c0: 653a 204d 4954 0a50 6c61 7466 6f72 6d3a  e: MIT.Platform:
+000000d0: 2061 6e79 0a43 6c61 7373 6966 6965 723a   any.Classifier:
+000000e0: 2044 6576 656c 6f70 6d65 6e74 2053 7461   Development Sta
+000000f0: 7475 7320 3a3a 2033 202d 2041 6c70 6861  tus :: 3 - Alpha
+00000100: 0a43 6c61 7373 6966 6965 723a 2045 6e76  .Classifier: Env
+00000110: 6972 6f6e 6d65 6e74 203a 3a20 5765 6220  ironment :: Web 
+00000120: 456e 7669 726f 6e6d 656e 740a 436c 6173  Environment.Clas
+00000130: 7369 6669 6572 3a20 496e 7465 6e64 6564  sifier: Intended
+00000140: 2041 7564 6965 6e63 6520 3a3a 2044 6576   Audience :: Dev
+00000150: 656c 6f70 6572 730a 436c 6173 7369 6669  elopers.Classifi
+00000160: 6572 3a20 4c69 6365 6e73 6520 3a3a 204f  er: License :: O
+00000170: 5349 2041 7070 726f 7665 6420 3a3a 2042  SI Approved :: B
+00000180: 5344 204c 6963 656e 7365 0a43 6c61 7373  SD License.Class
+00000190: 6966 6965 723a 204f 7065 7261 7469 6e67  ifier: Operating
+000001a0: 2053 7973 7465 6d20 3a3a 204f 5320 496e   System :: OS In
+000001b0: 6465 7065 6e64 656e 740a 436c 6173 7369  dependent.Classi
+000001c0: 6669 6572 3a20 546f 7069 6320 3a3a 2049  fier: Topic :: I
+000001d0: 6e74 6572 6e65 7420 3a3a 2057 5757 2f48  nternet :: WWW/H
+000001e0: 5454 500a 436c 6173 7369 6669 6572 3a20  TTP.Classifier: 
+000001f0: 5072 6f67 7261 6d6d 696e 6720 4c61 6e67  Programming Lang
+00000200: 7561 6765 203a 3a20 5079 7468 6f6e 203a  uage :: Python :
+00000210: 3a20 330a 436c 6173 7369 6669 6572 3a20  : 3.Classifier: 
+00000220: 5072 6f67 7261 6d6d 696e 6720 4c61 6e67  Programming Lang
+00000230: 7561 6765 203a 3a20 5079 7468 6f6e 203a  uage :: Python :
+00000240: 3a20 332e 360a 436c 6173 7369 6669 6572  : 3.6.Classifier
+00000250: 3a20 5072 6f67 7261 6d6d 696e 6720 4c61  : Programming La
+00000260: 6e67 7561 6765 203a 3a20 5079 7468 6f6e  nguage :: Python
+00000270: 203a 3a20 332e 370a 5265 7175 6972 6573   :: 3.7.Requires
+00000280: 2d50 7974 686f 6e3a 203e 3d33 2e36 0a44  -Python: >=3.6.D
+00000290: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
+000002a0: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
+000002b0: 726b 646f 776e 0a4c 6963 656e 7365 2d46  rkdown.License-F
+000002c0: 696c 653a 204c 4943 454e 5345 2e74 7874  ile: LICENSE.txt
+000002d0: 0a52 6571 7569 7265 732d 4469 7374 3a20  .Requires-Dist: 
+000002e0: 6974 7364 616e 6765 726f 7573 0a52 6571  itsdangerous.Req
+000002f0: 7569 7265 732d 4469 7374 3a20 7079 7468  uires-Dist: pyth
+00000300: 6f6e 2d6d 756c 7469 7061 7274 0a52 6571  on-multipart.Req
+00000310: 7569 7265 732d 4469 7374 3a20 7374 6172  uires-Dist: star
+00000320: 6c65 7474 650a 5265 7175 6972 6573 2d44  lette.Requires-D
+00000330: 6973 743a 2057 5446 6f72 6d73 0a50 726f  ist: WTForms.Pro
+00000340: 7669 6465 732d 4578 7472 613a 2074 6573  vides-Extra: tes
+00000350: 740a 5265 7175 6972 6573 2d44 6973 743a  t.Requires-Dist:
+00000360: 2068 7474 7078 3b20 6578 7472 6120 3d3d   httpx; extra ==
+00000370: 2022 7465 7374 220a 5265 7175 6972 6573   "test".Requires
+00000380: 2d44 6973 743a 206a 696e 6a61 323b 2065  -Dist: jinja2; e
+00000390: 7874 7261 203d 3d20 2274 6573 7422 0a52  xtra == "test".R
+000003a0: 6571 7569 7265 732d 4469 7374 3a20 7079  equires-Dist: py
+000003b0: 7465 7374 3b20 6578 7472 6120 3d3d 2022  test; extra == "
+000003c0: 7465 7374 220a 5265 7175 6972 6573 2d44  test".Requires-D
+000003d0: 6973 743a 2072 6571 7565 7374 733b 2065  ist: requests; e
+000003e0: 7874 7261 203d 3d20 2274 6573 7422 0a0a  xtra == "test"..
+000003f0: 2320 5374 6172 6c65 7474 652d 5754 460a  # Starlette-WTF.
+00000400: 0a53 7461 726c 6574 7465 2d57 5446 2069  .Starlette-WTF i
+00000410: 7320 6120 7369 6d70 6c65 2074 6f6f 6c20  s a simple tool 
+00000420: 666f 7220 696e 7465 6772 6174 696e 6720  for integrating 
+00000430: 5b53 7461 726c 6574 7465 5d28 6874 7470  [Starlette](http
+00000440: 733a 2f2f 7777 772e 7374 6172 6c65 7474  s://www.starlett
+00000450: 652e 696f 2f29 2061 6e64 205b 5754 466f  e.io/) and [WTFo
+00000460: 726d 735d 2868 7474 7073 3a2f 2f77 7466  rms](https://wtf
+00000470: 6f72 6d73 2e72 6561 6474 6865 646f 6373  orms.readthedocs
+00000480: 2e69 6f2f 656e 2f73 7461 626c 652f 292e  .io/en/stable/).
+00000490: 2049 7420 6973 206d 6f64 656c 6564 206f   It is modeled o
+000004a0: 6e20 7468 6520 6578 6365 6c6c 656e 7420  n the excellent 
+000004b0: 5b46 6c61 736b 2d57 5446 5d28 6874 7470  [Flask-WTF](http
+000004c0: 733a 2f2f 666c 6173 6b2d 7774 662e 7265  s://flask-wtf.re
+000004d0: 6164 7468 6564 6f63 732e 696f 2920 6c69  adthedocs.io) li
+000004e0: 6272 6172 792e 0a0a 2323 2054 6162 6c65  brary...## Table
+000004f0: 206f 6620 436f 6e74 656e 7473 0a0a 2d20   of Contents..- 
+00000500: 5b49 6e73 7461 6c6c 6174 696f 6e5d 2823  [Installation](#
+00000510: 696e 7374 616c 6c61 7469 6f6e 290a 2d20  installation).- 
+00000520: 5b51 7569 636b 7374 6172 745d 2823 7175  [Quickstart](#qu
+00000530: 6963 6b73 7461 7274 290a 2d20 5b43 7265  ickstart).- [Cre
+00000540: 6174 696e 6720 466f 726d 735d 2823 6372  ating Forms](#cr
+00000550: 6561 7469 6e67 2d66 6f72 6d73 290a 2020  eating-forms).  
+00000560: 2a20 5b54 6865 2053 7461 726c 6574 7465  * [The Starlette
+00000570: 466f 726d 2043 6c61 7373 5d28 2374 6865  Form Class](#the
+00000580: 2d73 7461 726c 6574 7465 666f 726d 2d63  -starletteform-c
+00000590: 6c61 7373 290a 2020 2a20 5b56 616c 6964  lass).  * [Valid
+000005a0: 6174 696f 6e5d 2823 7661 6c69 6461 7469  ation](#validati
+000005b0: 6f6e 290a 2020 2a20 5b41 7379 6e63 2043  on).  * [Async C
+000005c0: 7573 746f 6d20 5661 6c69 6461 746f 7273  ustom Validators
+000005d0: 5d28 2361 7379 6e63 2d63 7573 746f 6d2d  ](#async-custom-
+000005e0: 7661 6c69 6461 746f 7273 290a 2d20 5b43  validators).- [C
+000005f0: 5352 4620 5072 6f74 6563 7469 6f6e 5d28  SRF Protection](
+00000600: 2363 7372 662d 7072 6f74 6563 7469 6f6e  #csrf-protection
+00000610: 290a 2020 2a20 5b53 6574 7570 5d28 2373  ).  * [Setup](#s
+00000620: 6574 7570 290a 2020 2a20 5b50 726f 7465  etup).  * [Prote
+00000630: 6374 2056 6965 7773 5d28 2370 726f 7465  ct Views](#prote
+00000640: 6374 2d76 6965 7773 290a 2020 2a20 5b48  ct-views).  * [H
+00000650: 544d 4c20 466f 726d 735d 2823 6874 6d6c  TML Forms](#html
+00000660: 2d66 6f72 6d73 290a 2020 2a20 5b4a 6176  -forms).  * [Jav
+00000670: 6153 6372 6970 7420 5265 7175 6573 7473  aScript Requests
+00000680: 5d28 236a 6176 6173 6372 6970 742d 7265  ](#javascript-re
+00000690: 7175 6573 7473 290a 2020 2a20 5b44 6973  quests).  * [Dis
+000006a0: 6162 6c65 2069 6e20 556e 6974 2054 6573  able in Unit Tes
+000006b0: 7473 5d28 2364 6973 6162 6c65 2d69 6e2d  ts](#disable-in-
+000006c0: 756e 6974 2d74 6573 7473 290a 2020 2a20  unit-tests).  * 
+000006d0: 5b43 6f6e 6669 6775 7261 7469 6f6e 5d28  [Configuration](
+000006e0: 2363 6f6e 6669 6775 7261 7469 6f6e 290a  #configuration).
+000006f0: 2d20 5b44 6576 656c 6f70 6d65 6e74 5d28  - [Development](
+00000700: 2364 6576 656c 6f70 6d65 6e74 290a 2020  #development).  
+00000710: 2a20 5b47 6574 2074 6865 2063 6f64 655d  * [Get the code]
+00000720: 2823 6765 742d 7468 652d 636f 6465 290a  (#get-the-code).
+00000730: 2020 2a20 5b52 756e 2075 6e69 7420 7465    * [Run unit te
+00000740: 7374 735d 2823 7275 6e2d 756e 6974 2d74  sts](#run-unit-t
+00000750: 6573 7473 290a 0a23 2320 496e 7374 616c  ests)..## Instal
+00000760: 6c61 7469 6f6e 0a0a 496e 7374 616c 6c69  lation..Installi
+00000770: 6e67 2053 7461 726c 6574 7465 2d57 5446  ng Starlette-WTF
+00000780: 2069 7320 7369 6d70 6c65 2077 6974 6820   is simple with 
+00000790: 5b70 6970 5d28 6874 7470 733a 2f2f 7069  [pip](https://pi
+000007a0: 702e 7079 7061 2e69 6f2f 656e 2f73 7461  p.pypa.io/en/sta
+000007b0: 626c 652f 293a 0a0a 6060 6062 6173 680a  ble/):..```bash.
+000007c0: 7069 7020 696e 7374 616c 6c20 7374 6172  pip install star
+000007d0: 6c65 7474 652d 7774 660a 6060 600a 0a23  lette-wtf.```..#
+000007e0: 2320 5175 6963 6b73 7461 7274 0a0a 5468  # Quickstart..Th
+000007f0: 6520 666f 6c6c 6f77 696e 6720 636f 6465  e following code
+00000800: 2069 6d70 6c65 6d65 6e74 7320 6120 7369   implements a si
+00000810: 6d70 6c65 2066 6f72 6d20 6861 6e64 6c65  mple form handle
+00000820: 7220 7769 7468 2043 5352 4620 7072 6f74  r with CSRF prot
+00000830: 6563 7469 6f6e 2e20 5468 6520 666f 726d  ection. The form
+00000840: 2068 6173 2061 2072 6571 7569 7265 6420   has a required 
+00000850: 7374 7269 6e67 2066 6965 6c64 2061 6e64  string field and
+00000860: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+00000870: 7273 2061 7265 2068 616e 646c 6564 2062  rs are handled b
+00000880: 7920 7468 6520 6874 6d6c 2074 656d 706c  y the html templ
+00000890: 6174 652e 204e 6f74 6520 7468 6174 2043  ate. Note that C
+000008a0: 5352 4620 7072 6f74 6563 7469 6f6e 2072  SRF protection r
+000008b0: 6571 7569 7265 7320 6053 6573 7369 6f6e  equires `Session
+000008c0: 4d69 6464 6c65 7761 7265 602c 2060 4353  Middleware`, `CS
+000008d0: 5246 5072 6f74 6563 744d 6964 646c 6577  RFProtectMiddlew
+000008e0: 6172 6560 2c20 6040 6373 7266 5f70 726f  are`, `@csrf_pro
+000008f0: 7465 6374 6020 616e 6420 7468 6520 6063  tect` and the `c
+00000900: 7372 665f 746f 6b65 6e60 2066 6965 6c64  srf_token` field
+00000910: 2074 6f20 6265 2061 6464 6564 2074 6f20   to be added to 
+00000920: 7468 6520 4854 4d4c 2066 6f72 6d2e 0a0a  the HTML form...
+00000930: 4669 7273 742c 2069 6e73 7461 6c6c 2074  First, install t
+00000940: 6865 2064 6570 656e 6465 6e63 6965 7320  he dependencies 
+00000950: 666f 7220 7468 6973 2071 7569 636b 7374  for this quickst
+00000960: 6172 743a 0a0a 6060 6062 6173 680a 7069  art:..```bash.pi
+00000970: 7020 696e 7374 616c 6c20 7374 6172 6c65  p install starle
+00000980: 7474 6520 7374 6172 6c65 7474 652d 7774  tte starlette-wt
+00000990: 6620 6a69 6e6a 6132 2075 7669 636f 726e  f jinja2 uvicorn
+000009a0: 200a 6060 600a 0a4e 6578 742c 2063 7265   .```..Next, cre
+000009b0: 6174 6520 6120 5079 7468 6f6e 2066 696c  ate a Python fil
+000009c0: 6520 2861 7070 2e70 7929 2077 6974 6820  e (app.py) with 
+000009d0: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
+000009e0: 6465 3a0a 0a60 6060 7079 7468 6f6e 0a66  de:..```python.f
+000009f0: 726f 6d20 6a69 6e6a 6132 2069 6d70 6f72  rom jinja2 impor
+00000a00: 7420 5465 6d70 6c61 7465 0a66 726f 6d20  t Template.from 
+00000a10: 7374 6172 6c65 7474 652e 6170 706c 6963  starlette.applic
+00000a20: 6174 696f 6e73 2069 6d70 6f72 7420 5374  ations import St
+00000a30: 6172 6c65 7474 650a 6672 6f6d 2073 7461  arlette.from sta
+00000a40: 726c 6574 7465 2e6d 6964 646c 6577 6172  rlette.middlewar
+00000a50: 6520 696d 706f 7274 204d 6964 646c 6577  e import Middlew
+00000a60: 6172 650a 6672 6f6d 2073 7461 726c 6574  are.from starlet
+00000a70: 7465 2e6d 6964 646c 6577 6172 652e 7365  te.middleware.se
+00000a80: 7373 696f 6e73 2069 6d70 6f72 7420 5365  ssions import Se
+00000a90: 7373 696f 6e4d 6964 646c 6577 6172 650a  ssionMiddleware.
+00000aa0: 6672 6f6d 2073 7461 726c 6574 7465 2e72  from starlette.r
+00000ab0: 6f75 7469 6e67 2069 6d70 6f72 7420 526f  outing import Ro
+00000ac0: 7574 650a 6672 6f6d 2073 7461 726c 6574  ute.from starlet
+00000ad0: 7465 2e72 6573 706f 6e73 6573 2069 6d70  te.responses imp
+00000ae0: 6f72 7420 506c 6169 6e54 6578 7452 6573  ort PlainTextRes
+00000af0: 706f 6e73 652c 2048 544d 4c52 6573 706f  ponse, HTMLRespo
+00000b00: 6e73 650a 6672 6f6d 2073 7461 726c 6574  nse.from starlet
+00000b10: 7465 5f77 7466 2069 6d70 6f72 7420 5374  te_wtf import St
+00000b20: 6172 6c65 7474 6546 6f72 6d2c 2043 5352  arletteForm, CSR
+00000b30: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00000b40: 7265 2c20 6373 7266 5f70 726f 7465 6374  re, csrf_protect
+00000b50: 0a66 726f 6d20 7774 666f 726d 7320 696d  .from wtforms im
+00000b60: 706f 7274 2053 7472 696e 6746 6965 6c64  port StringField
+00000b70: 0a66 726f 6d20 7774 666f 726d 732e 7661  .from wtforms.va
+00000b80: 6c69 6461 746f 7273 0969 6d70 6f72 7420  lidators.import 
+00000b90: 4461 7461 5265 7175 6972 6564 0a0a 0a63  DataRequired...c
+00000ba0: 6c61 7373 204d 7946 6f72 6d28 5374 6172  lass MyForm(Star
+00000bb0: 6c65 7474 6546 6f72 6d29 3a0a 2020 2020  letteForm):.    
+00000bc0: 6e61 6d65 203d 2053 7472 696e 6746 6965  name = StringFie
+00000bd0: 6c64 2827 6e61 6d65 272c 2076 616c 6964  ld('name', valid
+00000be0: 6174 6f72 733d 5b44 6174 6152 6571 7569  ators=[DataRequi
+00000bf0: 7265 6428 295d 290a 0a0a 7465 6d70 6c61  red()])...templa
+00000c00: 7465 203d 2054 656d 706c 6174 6528 2727  te = Template(''
+00000c10: 270a 3c21 646f 6374 7970 6520 6874 6d6c  '.<!doctype html
+00000c20: 3e0a 3c68 746d 6c3e 0a20 203c 626f 6479  >.<html>.  <body
+00000c30: 3e0a 2020 2020 3c66 6f72 6d20 6d65 7468  >.    <form meth
+00000c40: 6f64 3d22 706f 7374 2220 6e6f 7661 6c69  od="post" novali
+00000c50: 6461 7465 3e0a 2020 2020 2020 7b7b 2066  date>.      {{ f
+00000c60: 6f72 6d2e 6373 7266 5f74 6f6b 656e 207d  orm.csrf_token }
+00000c70: 7d0a 2020 2020 2020 3c64 6976 3e0a 2020  }.      <div>.  
+00000c80: 2020 2020 2020 7b7b 2066 6f72 6d2e 6e61        {{ form.na
+00000c90: 6d65 2870 6c61 6365 686f 6c64 6572 3d27  me(placeholder='
+00000ca0: 4e61 6d65 2729 207d 7d0a 2020 2020 2020  Name') }}.      
+00000cb0: 2020 7b25 2069 6620 666f 726d 2e6e 616d    {% if form.nam
+00000cc0: 652e 6572 726f 7273 202d 257d 0a20 2020  e.errors -%}.   
+00000cd0: 2020 2020 203c 7370 616e 3e7b 7b20 666f       <span>{{ fo
+00000ce0: 726d 2e6e 616d 652e 6572 726f 7273 5b30  rm.name.errors[0
+00000cf0: 5d20 7d7d 3c2f 7370 616e 3e0a 2020 2020  ] }}</span>.    
+00000d00: 2020 2020 7b25 2d20 656e 6469 6620 257d      {%- endif %}
+00000d10: 0a20 2020 2020 203c 2f64 6976 3e0a 2020  .      </div>.  
+00000d20: 2020 2020 3c62 7574 746f 6e20 7479 7065      <button type
+00000d30: 3d22 7375 626d 6974 223e 5375 626d 6974  ="submit">Submit
+00000d40: 3c2f 6275 7474 6f6e 3e0a 2020 2020 3c2f  </button>.    </
+00000d50: 666f 726d 3e0a 2020 3c2f 626f 6479 3e0a  form>.  </body>.
+00000d60: 3c2f 6874 6d6c 3e0a 2727 2729 0a0a 0a40  </html>.''')...@
+00000d70: 6373 7266 5f70 726f 7465 6374 0a61 7379  csrf_protect.asy
+00000d80: 6e63 2064 6566 2069 6e64 6578 2872 6571  nc def index(req
+00000d90: 7565 7374 293a 0a20 2020 2022 2222 4745  uest):.    """GE
+00000da0: 547c 504f 5354 202f 3a20 666f 726d 2068  T|POST /: form h
+00000db0: 616e 646c 6572 0a20 2020 2022 2222 0a20  andler.    """. 
+00000dc0: 2020 2066 6f72 6d20 3d20 6177 6169 7420     form = await 
+00000dd0: 4d79 466f 726d 2e66 726f 6d5f 666f 726d  MyForm.from_form
+00000de0: 6461 7461 2872 6571 7565 7374 290a 2020  data(request).  
+00000df0: 2020 0a20 2020 2069 6620 6177 6169 7420    .    if await 
+00000e00: 666f 726d 2e76 616c 6964 6174 655f 6f6e  form.validate_on
+00000e10: 5f73 7562 6d69 7428 293a 0a20 2020 2020  _submit():.     
+00000e20: 2020 2072 6574 7572 6e20 506c 6169 6e54     return PlainT
+00000e30: 6578 7452 6573 706f 6e73 6528 2753 5543  extResponse('SUC
+00000e40: 4345 5353 2729 0a0a 2020 2020 6874 6d6c  CESS')..    html
+00000e50: 203d 2074 656d 706c 6174 652e 7265 6e64   = template.rend
+00000e60: 6572 2866 6f72 6d3d 666f 726d 290a 2020  er(form=form).  
+00000e70: 2020 7265 7475 726e 2048 544d 4c52 6573    return HTMLRes
+00000e80: 706f 6e73 6528 6874 6d6c 290a 0a61 7070  ponse(html)..app
+00000e90: 203d 2053 7461 726c 6574 7465 280a 2020   = Starlette(.  
+00000ea0: 726f 7574 6573 3d5b 0a20 2020 2052 6f75  routes=[.    Rou
+00000eb0: 7465 2827 2f27 2c20 6d65 7468 6f64 733d  te('/', methods=
+00000ec0: 5b27 4745 5427 2c20 2750 4f53 5427 5d2c  ['GET', 'POST'],
+00000ed0: 2065 6e64 706f 696e 743d 696e 6465 7829   endpoint=index)
+00000ee0: 2c0a 2020 5d2c 0a20 206d 6964 646c 6577  ,.  ],.  middlew
+00000ef0: 6172 653d 5b0a 2020 2020 4d69 6464 6c65  are=[.    Middle
+00000f00: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
+00000f10: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
+00000f20: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
+00000f30: 312a 2a2a 2729 2c0a 2020 2020 4d69 6464  1***'),.    Midd
+00000f40: 6c65 7761 7265 2843 5352 4650 726f 7465  leware(CSRFProte
+00000f50: 6374 4d69 6464 6c65 7761 7265 2c20 6373  ctMiddleware, cs
+00000f60: 7266 5f73 6563 7265 743d 272a 2a2a 5245  rf_secret='***RE
+00000f70: 504c 4143 454d 4532 2a2a 2a27 292c 0a20  PLACEME2***'),. 
+00000f80: 205d 2c0a 290a 0a60 6060 0a20 2020 200a   ],.)..```.    .
+00000f90: 4669 6e61 6c6c 792c 2072 756e 2074 6865  Finally, run the
+00000fa0: 2061 7070 2075 7369 6e67 2074 6865 2066   app using the f
+00000fb0: 6f6c 6c6f 7769 6e67 2063 6f6d 6d61 6e64  ollowing command
+00000fc0: 3a0a 2020 2020 0a60 6060 6261 7368 0a75  :.    .```bash.u
+00000fd0: 7669 636f 726e 2061 7070 3a61 7070 0a60  vicorn app:app.`
+00000fe0: 6060 0a0a 2323 2043 7265 6174 696e 6720  ``..## Creating 
+00000ff0: 466f 726d 730a 0a23 2323 2054 6865 2053  Forms..### The S
+00001000: 7461 726c 6574 7465 466f 726d 2043 6c61  tarletteForm Cla
+00001010: 7373 0a0a 5374 6172 6c65 7474 652d 5754  ss..Starlette-WT
+00001020: 4620 7072 6f76 6964 6573 2061 2066 6f72  F provides a for
+00001030: 6d20 636c 6173 7320 7468 6174 206d 616b  m class that mak
+00001040: 6573 2069 7420 6561 7379 2074 6f20 6164  es it easy to ad
+00001050: 6420 666f 726d 2076 616c 6964 6174 696f  d form validatio
+00001060: 6e20 616e 6420 4353 5246 2070 726f 7465  n and CSRF prote
+00001070: 6374 696f 6e20 746f 2053 7461 726c 6574  ction to Starlet
+00001080: 7465 2061 7070 732e 2054 6f20 6d61 6b65  te apps. To make
+00001090: 2061 2066 6f72 6d2c 2073 7562 636c 6173   a form, subclas
+000010a0: 7320 7468 6520 6053 7461 726c 6574 7465  s the `Starlette
+000010b0: 466f 726d 6020 636c 6173 7320 616e 6420  Form` class and 
+000010c0: 7573 6520 5b57 5446 6f72 6d73 5d28 6874  use [WTForms](ht
+000010d0: 7470 733a 2f2f 7774 666f 726d 732e 7265  tps://wtforms.re
+000010e0: 6164 7468 6564 6f63 732e 696f 2f29 2066  adthedocs.io/) f
+000010f0: 6965 6c64 732c 2076 616c 6964 6174 6f72  ields, validator
+00001100: 7320 616e 6420 7769 6467 6574 7320 746f  s and widgets to
+00001110: 2064 6566 696e 6520 7468 6520 696e 7075   define the inpu
+00001120: 7473 2e20 5468 6520 6053 7461 726c 6574  ts. The `Starlet
+00001130: 7465 466f 726d 6020 636c 6173 7320 696e  teForm` class in
+00001140: 6865 7269 7473 2066 726f 6d20 7468 6520  herits from the 
+00001150: 5754 466f 726d 7320 6046 6f72 6d60 2063  WTForms `Form` c
+00001160: 6c61 7373 2073 6f20 796f 7520 6361 6e20  lass so you can 
+00001170: 7573 6520 5754 466f 726d 7320 6665 6174  use WTForms feat
+00001180: 7572 6573 2061 6e64 206d 6574 686f 6473  ures and methods
+00001190: 2074 6f20 6164 6420 6d6f 7265 2061 6476   to add more adv
+000011a0: 616e 6365 6420 6675 6e63 7469 6f6e 616c  anced functional
+000011b0: 6974 7920 746f 2079 6f75 7220 6170 703a  ity to your app:
+000011c0: 0a0a 6060 6070 7974 686f 6e0a 6672 6f6d  ..```python.from
+000011d0: 2073 7461 726c 6574 7465 5f77 7466 2069   starlette_wtf i
+000011e0: 6d70 6f72 7420 5374 6172 6c65 7474 6546  mport StarletteF
+000011f0: 6f72 6d0a 6672 6f6d 2077 7466 6f72 6d73  orm.from wtforms
+00001200: 2069 6d70 6f72 7420 5374 7269 6e67 4669   import StringFi
+00001210: 656c 642c 2050 6173 7377 6f72 6446 6965  eld, PasswordFie
+00001220: 6c64 0a66 726f 6d20 7774 666f 726d 732e  ld.from wtforms.
+00001230: 7661 6c69 6461 746f 7273 2069 6d70 6f72  validators impor
+00001240: 7420 4461 7461 5265 7175 6972 6564 2c20  t DataRequired, 
+00001250: 456d 6169 6c2c 2045 7175 616c 546f 0a66  Email, EqualTo.f
+00001260: 726f 6d20 7774 666f 726d 732e 7769 6467  rom wtforms.widg
+00001270: 6574 7320 696d 706f 7274 2050 6173 7377  ets import Passw
+00001280: 6f72 6449 6e70 7574 0a0a 0a63 6c61 7373  ordInput...class
+00001290: 2043 7265 6174 6541 6363 6f75 6e74 466f   CreateAccountFo
+000012a0: 726d 2853 7461 726c 6574 7465 466f 726d  rm(StarletteForm
+000012b0: 293a 0a20 2020 2065 6d61 696c 203d 2053  ):.    email = S
+000012c0: 7472 696e 6746 6965 6c64 280a 2020 2020  tringField(.    
+000012d0: 2020 2020 2745 6d61 696c 2061 6464 7265      'Email addre
+000012e0: 7373 272c 0a20 2020 2020 2020 2076 616c  ss',.        val
+000012f0: 6964 6174 6f72 733d 5b0a 2020 2020 2020  idators=[.      
+00001300: 2020 2020 2020 4461 7461 5265 7175 6972        DataRequir
+00001310: 6564 2827 506c 6561 7365 2065 6e74 6572  ed('Please enter
+00001320: 2079 6f75 7220 656d 6169 6c20 6164 6472   your email addr
+00001330: 6573 7327 292c 0a20 2020 2020 2020 2020  ess'),.         
+00001340: 2020 2045 6d61 696c 2829 0a20 2020 2020     Email().     
+00001350: 2020 205d 0a20 2020 2029 0a0a 2020 2020     ].    )..    
+00001360: 7061 7373 776f 7264 203d 2050 6173 7377  password = Passw
+00001370: 6f72 6446 6965 6c64 280a 2020 2020 2020  ordField(.      
+00001380: 2020 2750 6173 7377 6f72 6427 2c0a 2020    'Password',.  
+00001390: 2020 2020 2020 7769 6467 6574 3d50 6173        widget=Pas
+000013a0: 7377 6f72 6449 6e70 7574 2868 6964 655f  swordInput(hide_
+000013b0: 7661 6c75 653d 4661 6c73 6529 2c0a 2020  value=False),.  
+000013c0: 2020 2020 2020 7661 6c69 6461 746f 7273        validators
+000013d0: 3d5b 0a20 2020 2020 2020 2020 2020 2044  =[.            D
+000013e0: 6174 6152 6571 7569 7265 6428 2750 6c65  ataRequired('Ple
+000013f0: 6173 6520 656e 7465 7220 796f 7572 2070  ase enter your p
+00001400: 6173 7377 6f72 6427 292c 0a20 2020 2020  assword'),.     
+00001410: 2020 2020 2020 2045 7175 616c 546f 2827         EqualTo('
+00001420: 7061 7373 776f 7264 5f63 6f6e 6669 726d  password_confirm
+00001430: 272c 206d 6573 7361 6765 3d27 5061 7373  ', message='Pass
+00001440: 776f 7264 7320 6d75 7374 206d 6174 6368  words must match
+00001450: 2729 0a20 2020 2020 2020 205d 0a20 2020  ').        ].   
+00001460: 2029 0a0a 2020 2020 7061 7373 776f 7264   )..    password
+00001470: 5f63 6f6e 6669 726d 203d 2050 6173 7377  _confirm = Passw
+00001480: 6f72 6446 6965 6c64 280a 2020 2020 2020  ordField(.      
+00001490: 2020 2743 6f6e 6669 726d 2050 6173 7377    'Confirm Passw
+000014a0: 6f72 6427 2c0a 2020 2020 2020 2020 7769  ord',.        wi
+000014b0: 6467 6574 3d50 6173 7377 6f72 6449 6e70  dget=PasswordInp
+000014c0: 7574 2868 6964 655f 7661 6c75 653d 4661  ut(hide_value=Fa
+000014d0: 6c73 6529 2c0a 2020 2020 2020 2020 7661  lse),.        va
+000014e0: 6c69 6461 746f 7273 3d5b 0a20 2020 2020  lidators=[.     
+000014f0: 2020 2020 2020 2044 6174 6152 6571 7569         DataRequi
+00001500: 7265 6428 2750 6c65 6173 6520 636f 6e66  red('Please conf
+00001510: 6972 6d20 796f 7572 2070 6173 7377 6f72  irm your passwor
+00001520: 6427 290a 2020 2020 2020 2020 5d0a 2020  d').        ].  
+00001530: 2020 290a 6060 600a 0a4f 6674 656e 2079    ).```..Often y
+00001540: 6f75 2077 696c 6c20 7761 6e74 2074 6f20  ou will want to 
+00001550: 696e 6974 6961 6c69 7a65 2066 6f72 6d20  initialize form 
+00001560: 6f62 6a65 6374 7320 7573 696e 6720 6465  objects using de
+00001570: 6661 756c 7420 7661 6c75 6573 206f 6e20  fault values on 
+00001580: 4745 5420 7265 7175 6573 7473 2061 6e64  GET requests and
+00001590: 2066 726f 6d20 7375 626d 6974 7465 6420   from submitted 
+000015a0: 666f 726d 6461 7461 206f 6e20 504f 5354  formdata on POST
+000015b0: 2072 6571 7565 7374 732e 2054 6f20 6d61   requests. To ma
+000015c0: 6b65 2074 6869 7320 6561 7369 6572 2079  ke this easier y
+000015d0: 6f75 2063 616e 2075 7365 2074 6865 2060  ou can use the `
+000015e0: 2e66 726f 6d5f 666f 726d 6461 7461 2829  .from_formdata()
+000015f0: 6020 6173 796e 6320 636c 6173 7320 6d65  ` async class me
+00001600: 7468 6f64 2077 6869 6368 2064 6f65 7320  thod which does 
+00001610: 7468 6973 2066 6f72 2079 6f75 2061 7574  this for you aut
+00001620: 6f6d 6174 6963 616c 6c79 3a0a 0a60 6060  omatically:..```
+00001630: 7079 7468 6f6e 0a61 7379 6e63 2064 6566  python.async def
+00001640: 2063 7265 6174 655f 6163 636f 756e 7428   create_account(
+00001650: 7265 7175 6573 7429 3a0a 2020 2020 2222  request):.    ""
+00001660: 2247 4554 7c50 4f53 5420 2f63 7265 6174  "GET|POST /creat
+00001670: 652d 6163 636f 756e 743a 2043 7265 6174  e-account: Creat
+00001680: 6520 6163 636f 756e 7420 666f 726d 2068  e account form h
+00001690: 616e 646c 6572 0a20 2020 2022 2222 0a20  andler.    """. 
+000016a0: 2020 2066 6f72 6d20 3d20 6177 6169 7420     form = await 
+000016b0: 4372 6561 7465 4163 636f 756e 7446 6f72  CreateAccountFor
+000016c0: 6d2e 6672 6f6d 5f66 6f72 6d64 6174 6128  m.from_formdata(
+000016d0: 7265 7175 6573 7429 0a20 2020 2072 6574  request).    ret
+000016e0: 7572 6e20 506c 6169 6e54 6578 7452 6573  urn PlainTextRes
+000016f0: 706f 6e73 6528 290a 6060 600a 0a23 2323  ponse().```..###
+00001700: 2056 616c 6964 6174 696f 6e0a 0a54 6865   Validation..The
+00001710: 2060 5374 6172 6c65 7474 6546 6f72 6d60   `StarletteForm`
+00001720: 2063 6c61 7373 2068 6173 2061 2075 7365   class has a use
+00001730: 6675 6c20 602e 7661 6c69 6461 7465 5f6f  ful `.validate_o
+00001740: 6e5f 7375 626d 6974 2829 6020 6d65 7468  n_submit()` meth
+00001750: 6f64 2074 6861 7420 7065 7266 6f72 6d73  od that performs
+00001760: 2069 6e70 7574 2076 616c 6964 6174 696f   input validatio
+00001770: 6e20 666f 7220 504f 5354 2c20 5055 542c  n for POST, PUT,
+00001780: 2050 4154 4348 2061 6e64 2044 454c 4554   PATCH and DELET
+00001790: 4520 7265 7175 6573 7473 2061 6e64 2072  E requests and r
+000017a0: 6574 7572 6e73 2061 2062 6f6f 6c65 616e  eturns a boolean
+000017b0: 2069 6e64 6963 6174 696e 6720 7768 6574   indicating whet
+000017c0: 6865 7220 6f72 206e 6f74 2074 6865 7265  her or not there
+000017d0: 2077 6572 6520 616e 7920 6572 726f 7273   were any errors
+000017e0: 2e20 4166 7465 7220 7661 6c69 6461 7469  . After validati
+000017f0: 6f6e 2c20 6572 726f 7273 2061 7265 2061  on, errors are a
+00001800: 7661 696c 6162 6c65 2076 6961 2074 6865  vailable via the
+00001810: 2060 2e65 7272 6f72 7360 2061 7474 7269   `.errors` attri
+00001820: 6275 7465 2061 7474 6163 6865 6420 746f  bute attached to
+00001830: 2065 6163 6820 696e 7075 7420 6669 656c   each input fiel
+00001840: 6420 696e 7374 616e 6365 2e20 4e6f 7465  d instance. Note
+00001850: 2074 6861 7420 7661 6c69 6461 7469 6f6e   that validation
+00001860: 2069 7320 6173 796e 6368 726f 6e6f 7573   is asynchronous
+00001870: 2074 6f20 6861 6e64 6c65 2061 7379 6e63   to handle async
+00001880: 2066 6965 6c64 2076 616c 6964 6174 6f72   field validator
+00001890: 7320 2873 6565 2062 656c 6f77 293a 0a0a  s (see below):..
+000018a0: 6060 6070 7974 686f 6e0a 6672 6f6d 206a  ```python.from j
+000018b0: 696e 6a61 3220 696d 706f 7274 2054 656d  inja2 import Tem
+000018c0: 706c 6174 650a 6672 6f6d 2073 7461 726c  plate.from starl
+000018d0: 6574 7465 2e61 7070 6c69 6361 7469 6f6e  ette.application
+000018e0: 7320 696d 706f 7274 2053 7461 726c 6574  s import Starlet
+000018f0: 7465 0a66 726f 6d20 7374 6172 6c65 7474  te.from starlett
+00001900: 652e 7265 7370 6f6e 7365 7320 696d 706f  e.responses impo
+00001910: 7274 2028 506c 6169 6e54 6578 7452 6573  rt (PlainTextRes
+00001920: 706f 6e73 652c 2052 6564 6972 6563 7452  ponse, RedirectR
+00001930: 6573 706f 6e73 652c 0a20 2020 2020 2020  esponse,.       
+00001940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001950: 2020 2020 2020 2020 2020 4854 4d4c 5265            HTMLRe
+00001960: 7370 6f6e 7365 290a 6672 6f6d 2073 7461  sponse).from sta
+00001970: 726c 6574 7465 2e72 6f75 7469 6e67 2069  rlette.routing i
+00001980: 6d70 6f72 7420 526f 7574 650a 0a74 656d  mport Route..tem
+00001990: 706c 6174 6520 3d20 5465 6d70 6c61 7465  plate = Template
+000019a0: 2827 2727 0a3c 2164 6f63 7479 7065 2068  ('''.<!doctype h
+000019b0: 746d 6c3e 0a3c 6874 6d6c 3e0a 2020 3c62  tml>.<html>.  <b
+000019c0: 6f64 793e 0a20 2020 203c 6831 3e43 7265  ody>.    <h1>Cre
+000019d0: 6174 6520 4163 636f 756e 743c 2f68 313e  ate Account</h1>
+000019e0: 0a20 2020 203c 666f 726d 206d 6574 686f  .    <form metho
+000019f0: 643d 2270 6f73 7422 206e 6f76 616c 6964  d="post" novalid
+00001a00: 6174 653e 0a20 2020 2020 203c 6469 763e  ate>.      <div>
+00001a10: 0a20 2020 2020 2020 207b 7b20 666f 726d  .        {{ form
+00001a20: 2e65 6d61 696c 2870 6c61 6365 686f 6c64  .email(placehold
+00001a30: 6572 3d27 456d 6169 6c20 6164 6472 6573  er='Email addres
+00001a40: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
+00001a50: 2020 2020 2020 2020 2020 6175 746f 666f            autofo
+00001a60: 6375 733d 2774 7275 6527 2c0a 2020 2020  cus='true',.    
+00001a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a80: 2020 7479 7065 3d27 656d 6169 6c27 2c0a    type='email',.
+00001a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001aa0: 2020 2020 2020 7370 656c 6c63 6865 636b        spellcheck
+00001ab0: 3d27 6661 6c73 6527 2920 7d7d 0a20 2020  ='false') }}.   
+00001ac0: 2020 2020 207b 2520 6966 2066 6f72 6d2e       {% if form.
+00001ad0: 656d 6169 6c2e 6572 726f 7273 202d 257d  email.errors -%}
+00001ae0: 0a20 2020 2020 2020 203c 7370 616e 3e7b  .        <span>{
+00001af0: 7b20 666f 726d 2e65 6d61 696c 2e65 7272  { form.email.err
+00001b00: 6f72 735b 305d 207d 7d3c 2f73 7061 6e3e  ors[0] }}</span>
+00001b10: 0a20 2020 2020 2020 207b 252d 2065 6e64  .        {%- end
+00001b20: 6966 2025 7d0a 2020 2020 2020 3c2f 6469  if %}.      </di
+00001b30: 763e 0a20 2020 2020 203c 6469 763e 0a20  v>.      <div>. 
+00001b40: 2020 2020 2020 207b 7b20 666f 726d 2e70         {{ form.p
+00001b50: 6173 7377 6f72 6428 706c 6163 6568 6f6c  assword(placehol
+00001b60: 6465 723d 2250 6173 7377 6f72 6422 2920  der="Password") 
+00001b70: 7d7d 0a20 2020 2020 2020 207b 2520 6966  }}.        {% if
+00001b80: 2066 6f72 6d2e 7061 7373 776f 7264 2e65   form.password.e
+00001b90: 7272 6f72 7320 2d25 7d0a 2020 2020 2020  rrors -%}.      
+00001ba0: 2020 3c73 7061 6e3e 7b7b 2066 6f72 6d2e    <span>{{ form.
+00001bb0: 7061 7373 776f 7264 2e65 7272 6f72 735b  password.errors[
+00001bc0: 305d 207d 7d3c 2f73 7061 6e3e 0a20 2020  0] }}</span>.   
+00001bd0: 2020 2020 207b 252d 2065 6e64 6966 2025       {%- endif %
+00001be0: 7d0a 2020 2020 2020 3c2f 6469 763e 0a20  }.      </div>. 
+00001bf0: 2020 2020 203c 6469 763e 0a20 2020 2020       <div>.     
+00001c00: 2020 207b 7b20 666f 726d 2e70 6173 7377     {{ form.passw
+00001c10: 6f72 645f 636f 6e66 6972 6d28 706c 6163  ord_confirm(plac
+00001c20: 6568 6f6c 6465 723d 2243 6f6e 6669 726d  eholder="Confirm
+00001c30: 2070 6173 7377 6f72 6422 2920 7d7d 0a20   password") }}. 
+00001c40: 2020 2020 2020 207b 2520 6966 2066 6f72         {% if for
+00001c50: 6d2e 7061 7373 776f 7264 5f63 6f6e 6669  m.password_confi
+00001c60: 726d 2e65 7272 6f72 7320 2d25 7d0a 2020  rm.errors -%}.  
+00001c70: 2020 2020 2020 3c73 7061 6e3e 7b7b 2066        <span>{{ f
+00001c80: 6f72 6d2e 7061 7373 776f 7264 5f63 6f6e  orm.password_con
+00001c90: 6669 726d 2e65 7272 6f72 735b 305d 207d  firm.errors[0] }
+00001ca0: 7d3c 2f73 7061 6e3e 0a20 2020 2020 2020  }</span>.       
+00001cb0: 207b 252d 2065 6e64 6966 2025 7d0a 2020   {%- endif %}.  
+00001cc0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00001cd0: 203c 6275 7474 6f6e 2074 7970 653d 2273   <button type="s
+00001ce0: 7562 6d69 7422 3e43 7265 6174 6520 6163  ubmit">Create ac
+00001cf0: 636f 756e 743c 2f62 7574 746f 6e3e 0a20  count</button>. 
+00001d00: 2020 203c 2f66 6f72 6d3e 0a20 203c 2f62     </form>.  </b
+00001d10: 6f64 793e 0a3c 2f68 746d 6c3e 0a27 2727  ody>.</html>.'''
+00001d20: 290a 0a0a 6173 796e 6320 6465 6620 696e  )...async def in
+00001d30: 6465 7828 7265 7175 6573 7429 3a0a 2020  dex(request):.  
+00001d40: 2020 2222 2247 4554 202f 3a20 5265 7475    """GET /: Retu
+00001d50: 726e 2068 6f6d 6520 7061 6765 0a20 2020  rn home page.   
+00001d60: 2022 2222 0a20 2020 2072 6574 7572 6e20   """.    return 
+00001d70: 506c 6169 6e54 6578 7452 6573 706f 6e73  PlainTextRespons
+00001d80: 6528 290a 0a0a 6173 796e 6320 6465 6620  e()...async def 
+00001d90: 6372 6561 7465 5f61 6363 6f75 6e74 2872  create_account(r
+00001da0: 6571 7565 7374 293a 0a20 2020 2022 2222  equest):.    """
+00001db0: 4745 547c 504f 5354 202f 6372 6561 7465  GET|POST /create
+00001dc0: 2d61 6363 6f75 6e74 3a20 4372 6561 7465  -account: Create
+00001dd0: 2061 6363 6f75 6e74 2066 6f72 6d20 6861   account form ha
+00001de0: 6e64 6c65 720a 2020 2020 2222 220a 2020  ndler.    """.  
+00001df0: 2020 2320 696e 6974 6961 6c69 7a65 2066    # initialize f
+00001e00: 6f72 6d0a 2020 2020 666f 726d 203d 2061  orm.    form = a
+00001e10: 7761 6974 2043 7265 6174 6541 6363 6f75  wait CreateAccou
+00001e20: 6e74 466f 726d 2e66 726f 6d5f 666f 726d  ntForm.from_form
+00001e30: 6461 7461 2872 6571 7565 7374 290a 0a20  data(request).. 
+00001e40: 2020 2023 2076 616c 6964 6174 6520 666f     # validate fo
+00001e50: 726d 0a20 2020 2069 6620 6177 6169 7420  rm.    if await 
+00001e60: 666f 726d 2e76 616c 6964 6174 655f 6f6e  form.validate_on
+00001e70: 5f73 7562 6d69 7428 293a 0a20 2020 2020  _submit():.     
+00001e80: 2020 2023 2054 4f44 4f3a 2053 6176 6520     # TODO: Save 
+00001e90: 6163 636f 756e 7420 6372 6564 656e 7469  account credenti
+00001ea0: 616c 7320 6265 666f 7265 2072 6574 7572  als before retur
+00001eb0: 6e69 6e67 2072 6564 6972 6563 7420 7265  ning redirect re
+00001ec0: 7370 6f6e 7365 0a20 2020 2020 2020 2072  sponse.        r
+00001ed0: 6574 7572 6e20 5265 6469 7265 6374 5265  eturn RedirectRe
+00001ee0: 7370 6f6e 7365 2875 726c 3d27 2f27 2c20  sponse(url='/', 
+00001ef0: 7374 6174 7573 5f63 6f64 653d 3330 3329  status_code=303)
+00001f00: 0a0a 2020 2020 2320 6765 6e65 7261 7465  ..    # generate
+00001f10: 2068 746d 6c0a 2020 2020 6874 6d6c 203d   html.    html =
+00001f20: 2074 656d 706c 6174 652e 7265 6e64 6572   template.render
+00001f30: 2866 6f72 6d3d 666f 726d 290a 0a20 2020  (form=form)..   
+00001f40: 2023 2072 6574 7572 6e20 7265 7370 6f6e   # return respon
+00001f50: 7365 0a20 2020 2073 7461 7475 735f 636f  se.    status_co
+00001f60: 6465 203d 2034 3232 2069 6620 666f 726d  de = 422 if form
+00001f70: 2e65 7272 6f72 7320 656c 7365 2032 3030  .errors else 200
+00001f80: 0a20 2020 2072 6574 7572 6e20 4854 4d4c  .    return HTML
+00001f90: 5265 7370 6f6e 7365 2868 746d 6c2c 2073  Response(html, s
+00001fa0: 7461 7475 735f 636f 6465 3d73 7461 7475  tatus_code=statu
+00001fb0: 735f 636f 6465 290a 0a0a 6170 7020 3d20  s_code)...app = 
+00001fc0: 5374 6172 6c65 7474 6528 726f 7574 6573  Starlette(routes
+00001fd0: 3d5b 0a20 2020 2052 6f75 7465 2827 2f27  =[.    Route('/'
+00001fe0: 2c20 6d65 7468 6f64 733d 5b27 4745 5427  , methods=['GET'
+00001ff0: 5d2c 2065 6e64 706f 696e 743d 696e 6465  ], endpoint=inde
+00002000: 7829 2c0a 2020 2020 526f 7574 6528 272f  x),.    Route('/
+00002010: 6372 6561 7465 2d61 6363 6f75 6e74 272c  create-account',
+00002020: 206d 6574 686f 6473 3d5b 2747 4554 272c   methods=['GET',
+00002030: 2027 504f 5354 275d 2c20 656e 6470 6f69   'POST'], endpoi
+00002040: 6e74 3d63 7265 6174 655f 6163 636f 756e  nt=create_accoun
+00002050: 7429 2c0a 5d29 0a0a 6060 600a 0a23 2323  t),.])..```..###
+00002060: 2041 7379 6e63 2043 7573 746f 6d20 5661   Async Custom Va
+00002070: 6c69 6461 746f 7273 0a0a 5468 6520 6053  lidators..The `S
+00002080: 7461 726c 6574 7465 466f 726d 6020 636c  tarletteForm` cl
+00002090: 6173 7320 616c 6c6f 7773 2079 6f75 2074  ass allows you t
+000020a0: 6f20 696d 706c 656d 656e 7420 6173 796e  o implement asyn
+000020b0: 6368 726f 6e6f 7573 205b 5754 466f 726d  chronous [WTForm
+000020c0: 732d 6c69 6b65 2063 7573 746f 6d20 7661  s-like custom va
+000020d0: 6c69 6461 746f 7273 5d28 6874 7470 733a  lidators](https:
+000020e0: 2f2f 7774 666f 726d 732e 7265 6164 7468  //wtforms.readth
+000020f0: 6564 6f63 732e 696f 2f65 6e2f 7374 6162  edocs.io/en/stab
+00002100: 6c65 2f76 616c 6964 6174 6f72 732f 2363  le/validators/#c
+00002110: 7573 746f 6d2d 7661 6c69 6461 746f 7273  ustom-validators
+00002120: 2920 6279 2061 6464 696e 6720 6061 7379  ) by adding `asy
+00002130: 6e63 5f76 616c 6964 6174 655f 7b66 6965  nc_validate_{fie
+00002140: 6c64 6e61 6d65 7d60 206d 6574 686f 6473  ldname}` methods
+00002150: 2074 6f20 796f 7572 2066 6f72 6d20 636c   to your form cl
+00002160: 6173 7365 733a 0a0a 6060 6070 7974 686f  asses:..```pytho
+00002170: 6e0a 6672 6f6d 2073 7461 726c 6574 7465  n.from starlette
+00002180: 5f77 7466 2069 6d70 6f72 7420 5374 6172  _wtf import Star
+00002190: 6c65 7474 6546 6f72 6d0a 6672 6f6d 2077  letteForm.from w
+000021a0: 7466 6f72 6d73 2069 6d70 6f72 7420 5465  tforms import Te
+000021b0: 7874 4669 656c 642c 2050 6173 7377 6f72  xtField, Passwor
+000021c0: 6446 6965 6c64 2c20 5661 6c69 6461 7469  dField, Validati
+000021d0: 6f6e 4572 726f 720a 6672 6f6d 2077 7466  onError.from wtf
+000021e0: 6f72 6d73 2e76 616c 6964 6174 6f72 7320  orms.validators 
+000021f0: 696d 706f 7274 2044 6174 6152 6571 7569  import DataRequi
+00002200: 7265 642c 2045 6d61 696c 2c20 4571 7561  red, Email, Equa
+00002210: 6c54 6f0a 0a0a 636c 6173 7320 4372 6561  lTo...class Crea
+00002220: 7465 4163 636f 756e 7446 6f72 6d28 5374  teAccountForm(St
+00002230: 6172 6c65 7474 6546 6f72 6d29 3a0a 2020  arletteForm):.  
+00002240: 2020 656d 6169 6c20 3d20 5465 7874 4669    email = TextFi
+00002250: 656c 6428 0a20 2020 2020 2020 2027 456d  eld(.        'Em
+00002260: 6169 6c20 6164 6472 6573 7327 2c0a 2020  ail address',.  
+00002270: 2020 2020 2020 7661 6c69 6461 746f 7273        validators
+00002280: 3d5b 0a20 2020 2020 2020 2020 2020 2044  =[.            D
+00002290: 6174 6152 6571 7569 7265 6428 2750 6c65  ataRequired('Ple
+000022a0: 6173 6520 656e 7465 7220 796f 7572 2065  ase enter your e
+000022b0: 6d61 696c 2061 6464 7265 7373 2729 2c0a  mail address'),.
+000022c0: 2020 2020 2020 2020 2020 2020 456d 6169              Emai
+000022d0: 6c28 290a 2020 2020 2020 2020 5d0a 2020  l().        ].  
+000022e0: 2020 290a 0a20 2020 2070 6173 7377 6f72    )..    passwor
+000022f0: 6420 3d20 5061 7373 776f 7264 4669 656c  d = PasswordFiel
+00002300: 6428 0a20 2020 2020 2020 2027 5061 7373  d(.        'Pass
+00002310: 776f 7264 272c 0a20 2020 2020 2020 2077  word',.        w
+00002320: 6964 6765 743d 5061 7373 776f 7264 496e  idget=PasswordIn
+00002330: 7075 7428 6869 6465 5f76 616c 7565 3d46  put(hide_value=F
+00002340: 616c 7365 292c 0a20 2020 2020 2020 2076  alse),.        v
+00002350: 616c 6964 6174 6f72 733d 5b0a 2020 2020  alidators=[.    
+00002360: 2020 2020 2020 2020 4461 7461 5265 7175          DataRequ
+00002370: 6972 6564 2827 506c 6561 7365 2065 6e74  ired('Please ent
+00002380: 6572 2079 6f75 7220 7061 7373 776f 7264  er your password
+00002390: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
+000023a0: 4571 7561 6c54 6f28 2770 6173 7377 6f72  EqualTo('passwor
+000023b0: 645f 636f 6e66 6972 6d27 2c20 6d65 7373  d_confirm', mess
+000023c0: 6167 653d 2750 6173 7377 6f72 6473 206d  age='Passwords m
+000023d0: 7573 7420 6d61 7463 6827 290a 2020 2020  ust match').    
+000023e0: 2020 2020 5d0a 2020 2020 290a 0a20 2020      ].    )..   
+000023f0: 2070 6173 7377 6f72 645f 636f 6e66 6972   password_confir
+00002400: 6d20 3d20 5061 7373 776f 7264 4669 656c  m = PasswordFiel
+00002410: 6428 0a20 2020 2020 2020 2027 436f 6e66  d(.        'Conf
+00002420: 6972 6d20 5061 7373 776f 7264 272c 0a20  irm Password',. 
+00002430: 2020 2020 2020 2077 6964 6765 743d 5061         widget=Pa
+00002440: 7373 776f 7264 496e 7075 7428 6869 6465  sswordInput(hide
+00002450: 5f76 616c 7565 3d46 616c 7365 292c 0a20  _value=False),. 
+00002460: 2020 2020 2020 2076 616c 6964 6174 6f72         validator
+00002470: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+00002480: 4461 7461 5265 7175 6972 6564 2827 506c  DataRequired('Pl
+00002490: 6561 7365 2063 6f6e 6669 726d 2079 6f75  ease confirm you
+000024a0: 7220 7061 7373 776f 7264 2729 0a20 2020  r password').   
+000024b0: 2020 2020 205d 0a20 2020 2029 0a0a 2020       ].    )..  
+000024c0: 2020 6173 796e 6320 6465 6620 6173 796e    async def asyn
+000024d0: 635f 7661 6c69 6461 7465 5f65 6d61 696c  c_validate_email
+000024e0: 2873 656c 662c 2066 6965 6c64 293a 0a20  (self, field):. 
+000024f0: 2020 2020 2020 2022 2222 4173 796e 6368         """Asynch
+00002500: 726f 6e6f 7573 2076 616c 6964 6174 6f72  ronous validator
+00002510: 2074 6f20 6368 6563 6b20 6966 2065 6d61   to check if ema
+00002520: 696c 2069 7320 616c 7265 6164 7920 696e  il is already in
+00002530: 2d75 7365 0a20 2020 2020 2020 2022 2222  -use.        """
+00002540: 0a20 2020 2020 2020 2023 2072 6570 6c61  .        # repla
+00002550: 6365 2074 6869 7320 7769 7468 2079 6f75  ce this with you
+00002560: 7220 6f77 6e20 636f 6465 0a20 2020 2020  r own code.     
+00002570: 2020 2069 6620 6177 6169 7420 6d61 6b65     if await make
+00002580: 5f64 6174 6162 6173 655f 7265 7175 6573  _database_reques
+00002590: 745f 6865 7265 2829 3a0a 2020 2020 2020  t_here():.      
+000025a0: 2020 2020 2020 7261 6973 6520 5661 6c69        raise Vali
+000025b0: 6461 7469 6f6e 4572 726f 7228 2745 6d61  dationError('Ema
+000025c0: 696c 2069 7320 616c 7265 6164 7920 696e  il is already in
+000025d0: 2075 7365 2729 0a60 6060 0a0a 2323 2043   use').```..## C
+000025e0: 5352 4620 5072 6f74 6563 7469 6f6e 0a0a  SRF Protection..
+000025f0: 496e 206f 7264 6572 2074 6f20 6164 6420  In order to add 
+00002600: 4353 5246 2070 726f 7465 6374 696f 6e20  CSRF protection 
+00002610: 746f 2079 6f75 7220 6170 702c 2066 6972  to your app, fir
+00002620: 7374 2079 6f75 206d 7573 7420 656e 7375  st you must ensu
+00002630: 7265 2074 6861 7420 5374 6172 6c65 7474  re that Starlett
+00002640: 6527 7320 6053 6573 7369 6f6e 4d69 6464  e's `SessionMidd
+00002650: 6c65 7761 7265 6020 6973 2065 6e61 626c  leware` is enabl
+00002660: 6564 2c20 7365 636f 6e64 2079 6f75 206d  ed, second you m
+00002670: 7573 7420 636f 6e66 6967 7572 6520 5374  ust configure St
+00002680: 6172 6c65 7474 652d 5754 4620 7573 696e  arlette-WTF usin
+00002690: 6720 6043 5352 4650 726f 7465 6374 4d69  g `CSRFProtectMi
+000026a0: 6464 6c65 7761 7265 602c 2074 6869 7264  ddleware`, third
+000026b0: 2079 6f75 206d 7573 7420 7573 6520 7468   you must use th
+000026c0: 6520 6040 6373 7266 5f70 726f 7465 6374  e `@csrf_protect
+000026d0: 6020 6465 636f 7261 746f 7220 746f 2070  ` decorator to p
+000026e0: 726f 7465 6374 2069 6e64 6976 6964 7561  rotect individua
+000026f0: 6c20 656e 6470 6f69 6e74 732c 2061 6e64  l endpoints, and
+00002700: 2066 6f75 7274 6820 796f 7520 6d75 7374   fourth you must
+00002710: 2061 6464 2074 6865 2043 5352 4620 746f   add the CSRF to
+00002720: 6b65 6e20 746f 2079 6f75 7220 4854 4d4c  ken to your HTML
+00002730: 2066 6f72 6d73 206f 7220 4a61 7661 5363   forms or JavaSc
+00002740: 7269 7074 2072 6571 7565 7374 732e 0a0a  ript requests...
+00002750: 2323 2320 5365 7475 700a 0a54 6f20 656e  ### Setup..To en
+00002760: 6162 6c65 2043 5352 4620 7072 6f74 6563  able CSRF protec
+00002770: 7469 6f6e 2066 6f72 2079 6f75 7220 6170  tion for your ap
+00002780: 702c 2066 6972 7374 2079 6f75 206d 7573  p, first you mus
+00002790: 7420 656e 7375 7265 2074 6861 7420 5374  t ensure that St
+000027a0: 6172 6c65 7474 6527 7320 6053 6573 7369  arlette's `Sessi
+000027b0: 6f6e 4d69 6464 6c65 7761 7265 6020 6973  onMiddleware` is
+000027c0: 2065 6e61 626c 6564 2c20 616e 6420 7365   enabled, and se
+000027d0: 636f 6e64 2079 6f75 206d 7573 7420 636f  cond you must co
+000027e0: 6e66 6967 7572 6520 5374 6172 6c65 7474  nfigure Starlett
+000027f0: 652d 5754 4620 7573 696e 6720 6043 5352  e-WTF using `CSR
+00002800: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00002810: 7265 602e 0a0a 6060 6070 7974 686f 6e0a  re`...```python.
+00002820: 6672 6f6d 2073 7461 726c 6574 7465 2e61  from starlette.a
+00002830: 7070 6c69 6361 7469 6f6e 7320 696d 706f  pplications impo
+00002840: 7274 2053 7461 726c 6574 7465 0a66 726f  rt Starlette.fro
+00002850: 6d20 7374 6172 6c65 7474 652e 6d69 6464  m starlette.midd
+00002860: 6c65 7761 7265 2069 6d70 6f72 7420 4d69  leware import Mi
+00002870: 6464 6c65 7761 7265 0a66 726f 6d20 7374  ddleware.from st
+00002880: 6172 6c65 7474 652e 6d69 6464 6c65 7761  arlette.middlewa
+00002890: 7265 2e73 6573 7369 6f6e 7320 696d 706f  re.sessions impo
+000028a0: 7274 2053 6573 7369 6f6e 4d69 6464 6c65  rt SessionMiddle
+000028b0: 7761 7265 0a66 726f 6d20 7374 6172 6c65  ware.from starle
+000028c0: 7474 655f 7774 6620 696d 706f 7274 2043  tte_wtf import C
+000028d0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
+000028e0: 7761 7265 0a0a 0a61 7070 203d 2053 7461  ware...app = Sta
+000028f0: 726c 6574 7465 286d 6964 646c 6577 6172  rlette(middlewar
+00002900: 653d 5b0a 2020 2020 4d69 6464 6c65 7761  e=[.    Middlewa
+00002910: 7265 2853 6573 7369 6f6e 4d69 6464 6c65  re(SessionMiddle
+00002920: 7761 7265 2c20 7365 6372 6574 5f6b 6579  ware, secret_key
+00002930: 3d27 2a2a 2a52 4550 4c41 4345 4d45 312a  ='***REPLACEME1*
+00002940: 2a2a 2729 2c0a 2020 2020 4d69 6464 6c65  **'),.    Middle
+00002950: 7761 7265 2843 5352 4650 726f 7465 6374  ware(CSRFProtect
+00002960: 4d69 6464 6c65 7761 7265 2c20 6373 7266  Middleware, csrf
+00002970: 5f73 6563 7265 743d 272a 2a2a 5245 504c  _secret='***REPL
+00002980: 4143 454d 4532 2a2a 2a27 290a 5d29 0a60  ACEME2***').]).`
+00002990: 6060 0a0a 2323 2320 5072 6f74 6563 7420  ``..### Protect 
+000029a0: 5669 6577 730a 0a4f 6e63 6520 5374 6172  Views..Once Star
+000029b0: 6c65 7474 652d 5754 4620 6861 7320 6265  lette-WTF has be
+000029c0: 656e 2063 6f6e 6669 6775 7265 6420 7573  en configured us
+000029d0: 696e 6720 6043 5352 4650 726f 7465 6374  ing `CSRFProtect
+000029e0: 4d69 6464 6c65 7761 7265 6020 796f 7520  Middleware` you 
+000029f0: 6361 6e20 656e 6162 6c65 2043 5352 4620  can enable CSRF 
+00002a00: 7072 6f74 6563 7469 6f6e 2066 6f72 2069  protection for i
+00002a10: 6e64 6976 6964 7561 6c20 656e 6470 6f69  ndividual endpoi
+00002a20: 6e74 7320 7573 696e 6720 7468 6520 6040  nts using the `@
+00002a30: 6373 7266 5f70 726f 7465 6374 6020 6465  csrf_protect` de
+00002a40: 636f 7261 746f 722e 2054 6865 2060 4063  corator. The `@c
+00002a50: 7372 665f 7072 6f74 6563 7460 2064 6563  srf_protect` dec
+00002a60: 6f72 6174 6f72 2077 696c 6c20 6175 746f  orator will auto
+00002a70: 6d61 7469 6361 6c6c 7920 6c6f 6f6b 2066  matically look f
+00002a80: 6f72 2060 6373 7266 5f74 6f6b 656e 6020  or `csrf_token` 
+00002a90: 696e 2074 6865 2066 6f72 6d20 6461 7461  in the form data
+00002aa0: 206f 7220 696e 2074 6865 2072 6571 7565   or in the reque
+00002ab0: 7374 2068 6561 6465 7273 2028 6058 2d43  st headers (`X-C
+00002ac0: 5352 4654 6f6b 656e 6029 2061 6e64 2069  SRFToken`) and i
+00002ad0: 7420 7769 6c6c 2072 6169 7365 2061 6e20  t will raise an 
+00002ae0: 6048 5454 5045 7863 6570 7469 6f6e 6020  `HTTPException` 
+00002af0: 6966 2074 6865 2074 6f6b 656e 2069 7320  if the token is 
+00002b00: 6d69 7373 696e 6720 6f72 2069 6e76 616c  missing or inval
+00002b10: 6964 2e20 4353 5246 2074 6f6b 656e 2076  id. CSRF token v
+00002b20: 616c 6964 6174 696f 6e20 7769 6c6c 206f  alidation will o
+00002b30: 6e6c 7920 6265 2070 6572 666f 726d 6564  nly be performed
+00002b40: 206f 6e20 7375 626d 6973 7369 6f6e 2072   on submission r
+00002b50: 6571 7565 7374 7320 2850 4f53 542c 2050  equests (POST, P
+00002b60: 5554 2c20 5041 5443 482c 2044 454c 4554  UT, PATCH, DELET
+00002b70: 4529 3a0a 0a60 6060 7079 7468 6f6e 0a66  E):..```python.f
+00002b80: 726f 6d20 7374 6172 6c65 7474 652e 7265  rom starlette.re
+00002b90: 7370 6f6e 7365 7320 696d 706f 7274 2050  sponses import P
+00002ba0: 6c61 696e 5465 7874 5265 7370 6f6e 7365  lainTextResponse
+00002bb0: 0a66 726f 6d20 7374 6172 6c65 7474 655f  .from starlette_
+00002bc0: 7774 6620 696d 706f 7274 2063 7372 665f  wtf import csrf_
+00002bd0: 7072 6f74 6563 740a 0a0a 4063 7372 665f  protect...@csrf_
+00002be0: 7072 6f74 6563 740a 6173 796e 6320 6465  protect.async de
+00002bf0: 6620 666f 726d 5f68 616e 646c 6572 2872  f form_handler(r
+00002c00: 6571 7565 7374 293a 0a20 2020 2022 2222  equest):.    """
+00002c10: 4745 547c 504f 5354 202f 666f 726d 2d68  GET|POST /form-h
+00002c20: 616e 646c 6572 3a20 466f 726d 2068 616e  andler: Form han
+00002c30: 646c 6572 0a20 2020 2022 2222 0a20 2020  dler.    """.   
+00002c40: 2023 2074 6869 7320 636f 6465 2077 6f6e   # this code won
+00002c50: 2774 2072 756e 2075 6e6c 6573 7320 7468  't run unless th
+00002c60: 6520 4353 5246 2074 6f6b 656e 2068 6173  e CSRF token has
+00002c70: 2062 6565 6e20 7661 6c69 6461 7465 640a   been validated.
+00002c80: 2020 2020 7265 7475 726e 2050 6c61 696e      return Plain
+00002c90: 5465 7874 5265 7370 6f6e 7365 2829 0a60  TextResponse().`
+00002ca0: 6060 0a0a 5468 6520 6040 6373 7266 5f70  ``..The `@csrf_p
+00002cb0: 726f 7465 6374 6020 6465 636f 7261 746f  rotect` decorato
+00002cc0: 7220 6361 6e20 616c 736f 2062 6520 7573  r can also be us
+00002cd0: 6564 2077 6974 6820 636c 6173 732d 6261  ed with class-ba
+00002ce0: 7365 6420 7669 6577 7320 2865 2e67 2e20  sed views (e.g. 
+00002cf0: 5b48 5454 5045 6e64 706f 696e 745d 2868  [HTTPEndpoint](h
+00002d00: 7474 7073 3a2f 2f77 7777 2e73 7461 726c  ttps://www.starl
+00002d10: 6574 7465 2e69 6f2f 656e 6470 6f69 6e74  ette.io/endpoint
+00002d20: 732f 2929 3a0a 6060 6070 7974 686f 6e0a  s/)):.```python.
+00002d30: 6672 6f6d 2073 7461 726c 6574 7465 2e65  from starlette.e
+00002d40: 6e64 706f 696e 7473 2069 6d70 6f72 7420  ndpoints import 
+00002d50: 4854 5450 456e 6470 6f69 6e74 0a66 726f  HTTPEndpoint.fro
+00002d60: 6d20 7374 6172 6c65 7474 652e 7265 7370  m starlette.resp
+00002d70: 6f6e 7365 7320 696d 706f 7274 2050 6c61  onses import Pla
+00002d80: 696e 5465 7874 5265 7370 6f6e 7365 0a66  inTextResponse.f
+00002d90: 726f 6d20 7374 6172 6c65 7474 655f 7774  rom starlette_wt
+00002da0: 6620 696d 706f 7274 2063 7372 665f 7072  f import csrf_pr
+00002db0: 6f74 6563 740a 0a0a 4063 7372 665f 7072  otect...@csrf_pr
+00002dc0: 6f74 6563 740a 636c 6173 7320 456e 6470  otect.class Endp
+00002dd0: 6f69 6e74 2848 5454 5045 6e64 706f 696e  oint(HTTPEndpoin
+00002de0: 7429 3a0a 2020 2020 6173 796e 6320 6465  t):.    async de
+00002df0: 6620 6765 7428 7365 6c66 2c20 7265 7175  f get(self, requ
+00002e00: 6573 7429 3a0a 2020 2020 2020 2020 2320  est):.        # 
+00002e10: 7468 6973 2063 6f64 6520 7769 6c6c 2072  this code will r
+00002e20: 756e 2077 6974 686f 7574 2061 2043 5352  un without a CSR
+00002e30: 4620 6368 6563 6b0a 2020 2020 2020 2020  F check.        
+00002e40: 7265 7475 726e 2050 6c61 696e 5465 7874  return PlainText
+00002e50: 5265 7370 6f6e 7365 2829 0a0a 2020 2020  Response()..    
+00002e60: 6173 796e 6320 6465 6620 706f 7374 2873  async def post(s
+00002e70: 656c 662c 2072 6571 7565 7374 293a 0a20  elf, request):. 
+00002e80: 2020 2020 2020 2023 2074 6869 7320 636f         # this co
+00002e90: 6465 2077 6f6e 2774 2072 756e 2075 6e6c  de won't run unl
+00002ea0: 6573 7320 7468 6520 4353 5246 2074 6f6b  ess the CSRF tok
+00002eb0: 656e 2068 6173 2062 6565 6e20 7661 6c69  en has been vali
+00002ec0: 6461 7465 640a 2020 2020 2020 2020 7265  dated.        re
+00002ed0: 7475 726e 2050 6c61 696e 5465 7874 5265  turn PlainTextRe
+00002ee0: 7370 6f6e 7365 2829 0a60 6060 0a0a 5468  sponse().```..Th
+00002ef0: 6520 6040 6373 7266 5f70 726f 7465 6374  e `@csrf_protect
+00002f00: 6020 6465 636f 7261 746f 7220 6361 6e20  ` decorator can 
+00002f10: 616c 736f 2062 6520 7573 6564 2077 6974  also be used wit
+00002f20: 6820 626f 756e 6420 6d65 7468 6f64 7320  h bound methods 
+00002f30: 6174 7461 6368 6564 2074 6f20 636c 6173  attached to clas
+00002f40: 732d 6261 7365 6420 7669 6577 733a 0a60  s-based views:.`
+00002f50: 6060 7079 7468 6f6e 0a66 726f 6d20 7374  ``python.from st
+00002f60: 6172 6c65 7474 652e 656e 6470 6f69 6e74  arlette.endpoint
+00002f70: 7320 696d 706f 7274 2048 5454 5045 6e64  s import HTTPEnd
+00002f80: 706f 696e 740a 6672 6f6d 2073 7461 726c  point.from starl
+00002f90: 6574 7465 2e72 6573 706f 6e73 6573 2069  ette.responses i
+00002fa0: 6d70 6f72 7420 506c 6169 6e54 6578 7452  mport PlainTextR
+00002fb0: 6573 706f 6e73 650a 6672 6f6d 2073 7461  esponse.from sta
+00002fc0: 726c 6574 7465 5f77 7466 2069 6d70 6f72  rlette_wtf impor
+00002fd0: 7420 6373 7266 5f70 726f 7465 6374 0a0a  t csrf_protect..
+00002fe0: 0a63 6c61 7373 2045 6e64 706f 696e 7428  .class Endpoint(
+00002ff0: 4854 5450 456e 6470 6f69 6e74 293a 0a20  HTTPEndpoint):. 
+00003000: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00003010: 2873 656c 662c 2072 6571 7565 7374 293a  (self, request):
+00003020: 0a20 2020 2020 2020 2023 2074 6869 7320  .        # this 
+00003030: 636f 6465 2077 696c 6c20 7275 6e20 7769  code will run wi
+00003040: 7468 6f75 7420 6120 4353 5246 2063 6865  thout a CSRF che
+00003050: 636b 0a20 2020 2020 2020 2072 6574 7572  ck.        retur
+00003060: 6e20 506c 6169 6e54 6578 7452 6573 706f  n PlainTextRespo
+00003070: 6e73 6528 290a 0a20 2020 2040 6373 7266  nse()..    @csrf
+00003080: 5f70 726f 7465 6374 0a20 2020 2061 7379  _protect.    asy
+00003090: 6e63 2064 6566 2070 6f73 7428 7365 6c66  nc def post(self
+000030a0: 2c20 7265 7175 6573 7429 3a0a 2020 2020  , request):.    
+000030b0: 2020 2020 2320 7468 6973 2063 6f64 6520      # this code 
+000030c0: 776f 6e27 7420 7275 6e20 756e 6c65 7373  won't run unless
+000030d0: 2074 6865 2043 5352 4620 746f 6b65 6e20   the CSRF token 
+000030e0: 6861 7320 6265 656e 2076 616c 6964 6174  has been validat
+000030f0: 6564 0a20 2020 2020 2020 2072 6574 7572  ed.        retur
+00003100: 6e20 506c 6169 6e54 6578 7452 6573 706f  n PlainTextRespo
+00003110: 6e73 6528 290a 6060 600a 0a23 2323 2048  nse().```..### H
+00003120: 544d 4c20 466f 726d 730a 0a57 6865 6e20  TML Forms..When 
+00003130: 7573 696e 6720 6053 7461 726c 6574 7465  using `Starlette
+00003140: 466f 726d 6020 796f 7520 6361 6e20 7265  Form` you can re
+00003150: 6e64 6572 2074 6865 2066 6f72 6d27 7320  nder the form's 
+00003160: 4353 5246 2074 6f6b 656e 2066 6965 6c64  CSRF token field
+00003170: 206c 696b 6520 7468 6973 3a0a 0a60 6060   like this:..```
+00003180: 6874 6d6c 0a3c 666f 726d 206d 6574 686f  html.<form metho
+00003190: 643d 2270 6f73 7422 3e0a 2020 7b7b 2066  d="post">.  {{ f
+000031a0: 6f72 6d2e 6373 7266 5f74 6f6b 656e 207d  orm.csrf_token }
+000031b0: 7d0a 3c2f 666f 726d 3e0a 6060 600a 0a23  }.</form>.```..#
+000031c0: 2323 204a 6176 6153 6372 6970 7420 5265  ## JavaScript Re
+000031d0: 7175 6573 7473 0a0a 5768 656e 2073 656e  quests..When sen
+000031e0: 6469 6e67 2061 6e20 414a 4158 2072 6571  ding an AJAX req
+000031f0: 7565 7374 2c20 6164 6420 7468 6520 6058  uest, add the `X
+00003200: 2d43 5352 4654 6f6b 656e 6020 6865 6164  -CSRFToken` head
+00003210: 6572 2074 6f20 616c 6c6f 7720 5374 6172  er to allow Star
+00003220: 6c65 7474 652d 5754 4620 746f 2070 6572  lette-WTF to per
+00003230: 666f 726d 2043 5352 4620 7661 6c69 6461  form CSRF valida
+00003240: 7469 6f6e 2e20 466f 7220 6578 616d 706c  tion. For exampl
+00003250: 652c 2069 6e20 6a51 7565 7279 2079 6f75  e, in jQuery you
+00003260: 2063 616e 2063 6f6e 6669 6775 7265 2061   can configure a
+00003270: 6c6c 2072 6571 7565 7374 7320 746f 2073  ll requests to s
+00003280: 656e 6420 7468 6520 746f 6b65 6e3a 0a0a  end the token:..
+00003290: 6060 6068 746d 6c0a 3c73 6372 6970 7420  ```html.<script 
+000032a0: 7479 7065 3d22 7465 7874 2f6a 6176 6173  type="text/javas
+000032b0: 6372 6970 7422 3e0a 2020 7661 7220 6373  cript">.  var cs
+000032c0: 7266 5f74 6f6b 656e 203d 2022 7b7b 2063  rf_token = "{{ c
+000032d0: 7372 665f 746f 6b65 6e28 7265 7175 6573  srf_token(reques
+000032e0: 7429 207d 7d22 3b0a 0a20 2024 2e61 6a61  t) }}";..  $.aja
+000032f0: 7853 6574 7570 287b 0a20 2020 2062 6566  xSetup({.    bef
+00003300: 6f72 6553 656e 643a 2066 756e 6374 696f  oreSend: functio
+00003310: 6e28 7868 722c 2073 6574 7469 6e67 7329  n(xhr, settings)
+00003320: 207b 0a20 2020 2020 2069 6620 2821 2f5e   {.      if (!/^
+00003330: 2847 4554 7c48 4541 447c 4f50 5449 4f4e  (GET|HEAD|OPTION
+00003340: 537c 5452 4143 4529 242f 692e 7465 7374  S|TRACE)$/i.test
+00003350: 2873 6574 7469 6e67 732e 7479 7065 2920  (settings.type) 
+00003360: 2626 2021 7468 6973 2e63 726f 7373 446f  && !this.crossDo
+00003370: 6d61 696e 2920 7b0a 2020 2020 2020 2020  main) {.        
+00003380: 7868 722e 7365 7452 6571 7565 7374 4865  xhr.setRequestHe
+00003390: 6164 6572 2822 582d 4353 5246 546f 6b65  ader("X-CSRFToke
+000033a0: 6e22 2c20 6373 7266 5f74 6f6b 656e 293b  n", csrf_token);
+000033b0: 0a20 2020 2020 207d 0a20 2020 207d 0a20  .      }.    }. 
+000033c0: 207d 293b 0a3c 2f73 6372 6970 743e 0a60   });.</script>.`
+000033d0: 6060 0a0a 2323 2320 4469 7361 626c 6520  ``..### Disable 
+000033e0: 696e 2055 6e69 7420 5465 7374 730a 0a54  in Unit Tests..T
+000033f0: 6f20 6469 7361 626c 6520 4353 5246 2070  o disable CSRF p
+00003400: 726f 7465 6374 696f 6e20 696e 2075 6e69  rotection in uni
+00003410: 7420 7465 7374 7320 796f 7520 6361 6e20  t tests you can 
+00003420: 746f 6767 6c65 2074 6865 2060 656e 6162  toggle the `enab
+00003430: 6c65 6460 2061 7474 7269 6275 7465 2069  led` attribute i
+00003440: 6e20 6043 5352 4650 726f 7465 6374 696f  n `CSRFProtectio
+00003450: 6e4d 6964 646c 6577 6172 6560 3a0a 0a60  nMiddleware`:..`
+00003460: 6060 7079 7468 6f6e 0a66 726f 6d20 7374  ``python.from st
+00003470: 6172 6c65 7474 652e 6170 706c 6963 6174  arlette.applicat
+00003480: 696f 6e73 2069 6d70 6f72 7420 5374 6172  ions import Star
+00003490: 6c65 7474 650a 6672 6f6d 2073 7461 726c  lette.from starl
+000034a0: 6574 7465 2e63 6f6e 6669 6720 696d 706f  ette.config impo
+000034b0: 7274 2065 6e76 6972 6f6e 0a66 726f 6d20  rt environ.from 
+000034c0: 7374 6172 6c65 7474 652e 6d69 6464 6c65  starlette.middle
+000034d0: 7761 7265 2069 6d70 6f72 7420 4d69 6464  ware import Midd
+000034e0: 6c65 7761 7265 0a66 726f 6d20 7374 6172  leware.from star
+000034f0: 6c65 7474 652e 6d69 6464 6c65 7761 7265  lette.middleware
+00003500: 2e73 6573 7369 6f6e 7320 696d 706f 7274  .sessions import
+00003510: 2053 6573 7369 6f6e 4d69 6464 6c65 7761   SessionMiddlewa
+00003520: 7265 0a66 726f 6d20 7374 6172 6c65 7474  re.from starlett
+00003530: 655f 7774 6620 696d 706f 7274 2043 5352  e_wtf import CSR
+00003540: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00003550: 7265 0a0a 0a61 7070 203d 2053 7461 726c  re...app = Starl
+00003560: 6574 7465 286d 6964 646c 6577 6172 653d  ette(middleware=
+00003570: 5b0a 2020 2020 4d69 6464 6c65 7761 7265  [.    Middleware
+00003580: 2853 6573 7369 6f6e 4d69 6464 6c65 7761  (SessionMiddlewa
+00003590: 7265 2c20 7365 6372 6574 5f6b 6579 3d27  re, secret_key='
+000035a0: 2a2a 2a52 4550 4c41 4345 4d45 312a 2a2a  ***REPLACEME1***
+000035b0: 2729 2c0a 2020 2020 4d69 6464 6c65 7761  '),.    Middlewa
+000035c0: 7265 2843 5352 4650 726f 7465 6374 4d69  re(CSRFProtectMi
+000035d0: 6464 6c65 7761 7265 2c0a 2020 2020 2020  ddleware,.      
+000035e0: 2020 2020 2020 2020 2065 6e61 626c 6564           enabled
+000035f0: 3d6e 6f74 2065 6e76 6972 6f6e 2e67 6574  =not environ.get
+00003600: 2827 5445 5354 494e 4727 2c20 4661 6c73  ('TESTING', Fals
+00003610: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
+00003620: 2020 2063 7372 665f 7365 6372 6574 3d27     csrf_secret='
+00003630: 2a2a 2a52 4550 4c41 4345 4d45 322a 2a2a  ***REPLACEME2***
+00003640: 2729 0a5d 290a 6060 600a 0a23 2323 2043  ').]).```..### C
+00003650: 6f6e 6669 6775 7261 7469 6f6e 0a0a 6043  onfiguration..`C
+00003660: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
+00003670: 7761 7265 6020 6163 6365 7074 7320 7468  ware` accepts th
+00003680: 6520 666f 6c6c 6f77 696e 6720 6f70 7469  e following opti
+00003690: 6f6e 733a 0a0a 7c20 4172 6775 6d65 6e74  ons:..| Argument
+000036a0: 2020 2020 2020 2020 2020 7c20 4465 7363            | Desc
+000036b0: 7269 7074 696f 6e0a 7c20 2d2d 2d2d 2d2d  ription.| ------
+000036c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 7c20 2d2d  ----------- | --
+000036d0: 2d2d 2d2d 2d2d 2d2d 2d0a 7c20 656e 6162  ---------.| enab
+000036e0: 6c65 6420 2020 2020 2020 2020 7c20 4966  led         | If
+000036f0: 2074 7275 652c 2065 6e61 626c 6573 2043   true, enables C
+00003700: 5352 4620 7072 6f74 6563 7469 6f6e 2e20  SRF protection. 
+00003710: 4465 6661 756c 7420 746f 2054 7275 652e  Default to True.
+00003720: 0a7c 2063 7372 665f 7365 6372 6574 2020  .| csrf_secret  
+00003730: 2020 207c 2054 6865 2043 5352 4620 746f     | The CSRF to
+00003740: 6b65 6e20 7369 676e 696e 6720 6b65 792e  ken signing key.
+00003750: 0a7c 2063 7372 665f 6669 656c 645f 6e61  .| csrf_field_na
+00003760: 6d65 207c 2054 6865 2043 5352 4620 746f  me | The CSRF to
+00003770: 6b65 6e27 7320 6669 656c 6420 6e61 6d65  ken's field name
+00003780: 2069 6e20 7468 6520 7365 7373 696f 6e2e   in the session.
+00003790: 2044 6566 6175 6c74 7320 746f 2022 6373   Defaults to "cs
+000037a0: 7266 5f74 6f6b 656e 220a 7c20 6373 7266  rf_token".| csrf
+000037b0: 5f74 696d 655f 6c69 6d69 7420 7c20 5468  _time_limit | Th
+000037c0: 6520 7469 6d65 206c 696d 6974 2066 6f72  e time limit for
+000037d0: 2065 6163 6820 7369 676e 6564 2074 6f6b   each signed tok
+000037e0: 656e 2069 6e20 7365 636f 6e64 732e 2044  en in seconds. D
+000037f0: 6566 6175 6c74 7320 746f 2033 3630 302e  efaults to 3600.
+00003800: 0a7c 2063 7372 665f 6865 6164 6572 7320  .| csrf_headers 
+00003810: 2020 207c 204c 6973 7420 6f66 2043 5352     | List of CSR
+00003820: 4620 4854 5450 2068 6561 6465 7220 6669  F HTTP header fi
+00003830: 656c 6420 6e61 6d65 732e 2044 6566 6175  eld names. Defau
+00003840: 6c74 7320 746f 205b 2258 2d43 5352 4654  lts to ["X-CSRFT
+00003850: 6f6b 656e 222c 2022 582d 4353 5246 2d54  oken", "X-CSRF-T
+00003860: 6f6b 656e 225d 0a7c 2063 7372 665f 7373  oken"].| csrf_ss
+00003870: 6c5f 7374 7269 6374 207c 2049 6620 656e  l_strict | If en
+00003880: 6162 6c65 642c 2065 6e73 7572 6573 2073  abled, ensures s
+00003890: 616d 6520 6f72 6967 696e 2070 6f6c 6963  ame origin polic
+000038a0: 7920 6f6e 2068 7474 7073 2072 6571 7565  y on https reque
+000038b0: 7374 732e 2044 6566 6175 6c74 7320 746f  sts. Defaults to
+000038c0: 2054 7275 652e 0a0a 2323 2044 6576 656c   True...## Devel
+000038d0: 6f70 6d65 6e74 0a0a 2323 2320 4765 7420  opment..### Get 
+000038e0: 7468 6520 636f 6465 0a0a 5374 6172 6c65  the code..Starle
+000038f0: 7474 652d 5754 4620 6973 2061 6374 6976  tte-WTF is activ
+00003900: 656c 7920 6465 7665 6c6f 7065 6420 6f6e  ely developed on
+00003910: 2047 6974 4875 622e 2059 6f75 2063 616e   GitHub. You can
+00003920: 2063 6c6f 6e65 2074 6865 2072 6570 6f73   clone the repos
+00003930: 6974 6f72 7920 7573 696e 6720 6769 743a  itory using git:
+00003940: 0a0a 6060 6062 6173 680a 6769 7420 636c  ..```bash.git cl
+00003950: 6f6e 6520 6769 7440 6769 7468 7562 2e63  one git@github.c
+00003960: 6f6d 3a6d 7569 6373 732f 7374 6172 6c65  om:muicss/starle
+00003970: 7474 652d 7774 662e 6769 740a 6060 600a  tte-wtf.git.```.
+00003980: 0a4f 6e63 6520 796f 7520 6861 7665 2061  .Once you have a
+00003990: 2063 6f70 7920 6f66 2074 6865 2073 6f75   copy of the sou
+000039a0: 7263 652c 2079 6f75 2063 616e 2069 6e73  rce, you can ins
+000039b0: 7461 6c6c 2069 7420 696e 746f 2079 6f75  tall it into you
+000039c0: 7220 7369 7465 2d70 6163 6b61 6765 7320  r site-packages 
+000039d0: 696e 2064 6576 656c 6f70 6d65 6e74 206d  in development m
+000039e0: 6f64 6520 736f 2079 6f75 2063 616e 206d  ode so you can m
+000039f0: 6f64 6966 7920 616e 6420 6578 6563 7574  odify and execut
+00003a00: 6520 7468 6520 636f 6465 3a0a 0a60 6060  e the code:..```
+00003a10: 6261 7368 0a70 6970 2069 6e73 7461 6c6c  bash.pip install
+00003a20: 202d 6520 2e0a 6060 600a 0a23 2323 2052   -e ..```..### R
+00003a30: 756e 2075 6e69 7420 7465 7374 730a 0a54  un unit tests..T
+00003a40: 6f20 696e 7374 616c 6c20 756e 6974 2074  o install unit t
+00003a50: 6573 7420 6465 7065 6e64 656e 6369 6573  est dependencies
+00003a60: 3a0a 0a60 6060 6261 7368 0a70 6970 2069  :..```bash.pip i
+00003a70: 6e73 7461 6c6c 202d 6520 2e5c 5b74 6573  nstall -e .\[tes
+00003a80: 745c 5d0a 6060 600a 0a54 6f20 7275 6e20  t\].```..To run 
+00003a90: 756e 6974 2074 6573 7473 3a0a 0a60 6060  unit tests:..```
+00003aa0: 6261 7368 0a70 7974 6573 740a 6060 600a  bash.pytest.```.
```

### Comparing `Starlette-WTF-0.4.3rc1/README.md` & `Starlette-WTF-0.4.4rc1/README.md`

 * *Files 4% similar despite different names*

```diff
@@ -22,45 +22,47 @@
   * [Run unit tests](#run-unit-tests)
 
 ## Installation
 
 Installing Starlette-WTF is simple with [pip](https://pip.pypa.io/en/stable/):
 
 ```bash
-$ pip install starlette-wtf
+pip install starlette-wtf
 ```
 
 ## Quickstart
 
 The following code implements a simple form handler with CSRF protection. The form has a required string field and validation errors are handled by the html template. Note that CSRF protection requires `SessionMiddleware`, `CSRFProtectMiddleware`, `@csrf_protect` and the `csrf_token` field to be added to the HTML form.
 
 First, install the dependencies for this quickstart:
 
 ```bash
-$ pip install starlette starlette-wtf jinja2 uvicorn 
+pip install starlette starlette-wtf jinja2 uvicorn 
 ```
 
 Next, create a Python file (app.py) with the following code:
 
 ```python
 from jinja2 import Template
 from starlette.applications import Starlette
 from starlette.middleware import Middleware
 from starlette.middleware.sessions import SessionMiddleware
+from starlette.routing import Route
 from starlette.responses import PlainTextResponse, HTMLResponse
 from starlette_wtf import StarletteForm, CSRFProtectMiddleware, csrf_protect
 from wtforms import StringField
 from wtforms.validators	import DataRequired
 
 
 class MyForm(StarletteForm):
     name = StringField('name', validators=[DataRequired()])
 
 
 template = Template('''
+<!doctype html>
 <html>
   <body>
     <form method="post" novalidate>
       {{ form.csrf_token }}
       <div>
         {{ form.name(placeholder='Name') }}
         {% if form.name.errors -%}
@@ -70,55 +72,59 @@
       <button type="submit">Submit</button>
     </form>
   </body>
 </html>
 ''')
 
 
-app = Starlette(middleware=[
-    Middleware(SessionMiddleware, secret_key='***REPLACEME1***'),
-    Middleware(CSRFProtectMiddleware, csrf_secret='***REPLACEME2***')
-])
-
-
-@app.route('/', methods=['GET', 'POST'])
 @csrf_protect
 async def index(request):
     """GET|POST /: form handler
     """
     form = await MyForm.from_formdata(request)
     
     if await form.validate_on_submit():
         return PlainTextResponse('SUCCESS')
 
     html = template.render(form=form)
     return HTMLResponse(html)
+
+app = Starlette(
+  routes=[
+    Route('/', methods=['GET', 'POST'], endpoint=index),
+  ],
+  middleware=[
+    Middleware(SessionMiddleware, secret_key='***REPLACEME1***'),
+    Middleware(CSRFProtectMiddleware, csrf_secret='***REPLACEME2***'),
+  ],
+)
+
 ```
     
 Finally, run the app using the following command:
     
 ```bash
-$ uvicorn app:app
+uvicorn app:app
 ```
 
 ## Creating Forms
 
 ### The StarletteForm Class
 
 Starlette-WTF provides a form class that makes it easy to add form validation and CSRF protection to Starlette apps. To make a form, subclass the `StarletteForm` class and use [WTForms](https://wtforms.readthedocs.io/) fields, validators and widgets to define the inputs. The `StarletteForm` class inherits from the WTForms `Form` class so you can use WTForms features and methods to add more advanced functionality to your app:
 
 ```python
 from starlette_wtf import StarletteForm
-from wtforms import TextField, PasswordField
+from wtforms import StringField, PasswordField
 from wtforms.validators import DataRequired, Email, EqualTo
 from wtforms.widgets import PasswordInput
 
 
 class CreateAccountForm(StarletteForm):
-    email = TextField(
+    email = StringField(
         'Email address',
         validators=[
             DataRequired('Please enter your email address'),
             Email()
         ]
     )
 
@@ -139,15 +145,14 @@
         ]
     )
 ```
 
 Often you will want to initialize form objects using default values on GET requests and from submitted formdata on POST requests. To make this easier you can use the `.from_formdata()` async class method which does this for you automatically:
 
 ```python
-@app.route('/create-account', methods=['GET', 'POST'])
 async def create_account(request):
     """GET|POST /create-account: Create account form handler
     """
     form = await CreateAccountForm.from_formdata(request)
     return PlainTextResponse()
 ```
 
@@ -156,17 +161,18 @@
 The `StarletteForm` class has a useful `.validate_on_submit()` method that performs input validation for POST, PUT, PATCH and DELETE requests and returns a boolean indicating whether or not there were any errors. After validation, errors are available via the `.errors` attribute attached to each input field instance. Note that validation is asynchronous to handle async field validators (see below):
 
 ```python
 from jinja2 import Template
 from starlette.applications import Starlette
 from starlette.responses import (PlainTextResponse, RedirectResponse,
                                  HTMLResponse)
-
+from starlette.routing import Route
 
 template = Template('''
+<!doctype html>
 <html>
   <body>
     <h1>Create Account</h1>
     <form method="post" novalidate>
       <div>
         {{ form.email(placeholder='Email address',
                       autofocus='true',
@@ -191,25 +197,20 @@
       <button type="submit">Create account</button>
     </form>
   </body>
 </html>
 ''')
 
 
-app = Starlette()
-
-
-@app.route('/', methods=['GET'])
 async def index(request):
     """GET /: Return home page
     """
     return PlainTextResponse()
 
 
-@app.route('/create-account', methods=['GET', 'POST'])
 async def create_account(request):
     """GET|POST /create-account: Create account form handler
     """
     # initialize form
     form = await CreateAccountForm.from_formdata(request)
 
     # validate form
@@ -219,14 +220,21 @@
 
     # generate html
     html = template.render(form=form)
 
     # return response
     status_code = 422 if form.errors else 200
     return HTMLResponse(html, status_code=status_code)
+
+
+app = Starlette(routes=[
+    Route('/', methods=['GET'], endpoint=index),
+    Route('/create-account', methods=['GET', 'POST'], endpoint=create_account),
+])
+
 ```
 
 ### Async Custom Validators
 
 The `StarletteForm` class allows you to implement asynchronous [WTForms-like custom validators](https://wtforms.readthedocs.io/en/stable/validators/#custom-validators) by adding `async_validate_{fieldname}` methods to your form classes:
 
 ```python
@@ -288,22 +296,21 @@
     Middleware(SessionMiddleware, secret_key='***REPLACEME1***'),
     Middleware(CSRFProtectMiddleware, csrf_secret='***REPLACEME2***')
 ])
 ```
 
 ### Protect Views
 
-Once Starlette-WTF has been configured using `CSRFProtectMiddleware` you can enable CSRF protection for individual endpoints using the `@csrf_protect` decorator. The `@csrf_protect` decorator will automatically look for `csrf_token` in the form data or in the request headers (`X-CSRFToken`) and it will raise an `HTTPException` if the token is missing or invalid. CSRF token validation will only be performed on submission requests (POST, PUT, PATCH, DELETE). Note that the `@csrf_protect` must run after `@app.route()`:
+Once Starlette-WTF has been configured using `CSRFProtectMiddleware` you can enable CSRF protection for individual endpoints using the `@csrf_protect` decorator. The `@csrf_protect` decorator will automatically look for `csrf_token` in the form data or in the request headers (`X-CSRFToken`) and it will raise an `HTTPException` if the token is missing or invalid. CSRF token validation will only be performed on submission requests (POST, PUT, PATCH, DELETE):
 
 ```python
 from starlette.responses import PlainTextResponse
 from starlette_wtf import csrf_protect
 
 
-@app.route('/form-handler', methods=['GET', 'POST'])
 @csrf_protect
 async def form_handler(request):
     """GET|POST /form-handler: Form handler
     """
     # this code won't run unless the CSRF token has been validated
     return PlainTextResponse()
 ```
@@ -383,15 +390,15 @@
 from starlette.middleware.sessions import SessionMiddleware
 from starlette_wtf import CSRFProtectMiddleware
 
 
 app = Starlette(middleware=[
     Middleware(SessionMiddleware, secret_key='***REPLACEME1***'),
     Middleware(CSRFProtectMiddleware,
-               enable=!environ.get('TESTING', False),
+               enabled=not environ.get('TESTING', False),
                csrf_secret='***REPLACEME2***')
 ])
 ```
 
 ### Configuration
 
 `CSRFProtectMiddleware` accepts the following options:
@@ -408,29 +415,29 @@
 ## Development
 
 ### Get the code
 
 Starlette-WTF is actively developed on GitHub. You can clone the repository using git:
 
 ```bash
-$ git clone git@github.com:muicss/starlette-wtf.git
+git clone git@github.com:muicss/starlette-wtf.git
 ```
 
 Once you have a copy of the source, you can install it into your site-packages in development mode so you can modify and execute the code:
 
 ```bash
-$ python setup.py develop
+pip install -e .
 ```
 
 ### Run unit tests
 
 To install unit test dependencies:
 
 ```bash
-$ pip install -e .[test]
+pip install -e .\[test\]
 ```
 
 To run unit tests:
 
 ```bash
-$ pytest
+pytest
 ```
```

### Comparing `Starlette-WTF-0.4.3rc1/Starlette_WTF.egg-info/PKG-INFO` & `Starlette-WTF-0.4.4rc1/Starlette_WTF.egg-info/PKG-INFO`

 * *Files 20% similar despite different names*

```diff
@@ -1,1139 +1,939 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 5374 6172  : 2.1.Name: Star
 00000020: 6c65 7474 652d 5754 460a 5665 7273 696f  lette-WTF.Versio
-00000030: 6e3a 2030 2e34 2e33 7263 310a 5375 6d6d  n: 0.4.3rc1.Summ
+00000030: 6e3a 2030 2e34 2e34 7263 310a 5375 6d6d  n: 0.4.4rc1.Summ
 00000040: 6172 793a 2053 696d 706c 6520 696e 7465  ary: Simple inte
 00000050: 6772 6174 696f 6e20 6f66 2053 7461 726c  gration of Starl
 00000060: 6574 7465 2061 6e64 2057 5446 6f72 6d73  ette and WTForms
 00000070: 2e0a 486f 6d65 2d70 6167 653a 2068 7474  ..Home-page: htt
 00000080: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
 00000090: 6d75 6963 7373 2f73 7461 726c 6574 7465  muicss/starlette
 000000a0: 2d77 7466 0a41 7574 686f 723a 2041 6e64  -wtf.Author: And
 000000b0: 7265 7320 4d6f 7265 790a 4c69 6365 6e73  res Morey.Licens
-000000c0: 653a 204d 4954 0a44 6573 6372 6970 7469  e: MIT.Descripti
-000000d0: 6f6e 3a20 2320 5374 6172 6c65 7474 652d  on: # Starlette-
-000000e0: 5754 460a 2020 2020 2020 2020 0a20 2020  WTF.        .   
-000000f0: 2020 2020 2053 7461 726c 6574 7465 2d57       Starlette-W
-00000100: 5446 2069 7320 6120 7369 6d70 6c65 2074  TF is a simple t
-00000110: 6f6f 6c20 666f 7220 696e 7465 6772 6174  ool for integrat
-00000120: 696e 6720 5b53 7461 726c 6574 7465 5d28  ing [Starlette](
-00000130: 6874 7470 733a 2f2f 7777 772e 7374 6172  https://www.star
-00000140: 6c65 7474 652e 696f 2f29 2061 6e64 205b  lette.io/) and [
-00000150: 5754 466f 726d 735d 2868 7474 7073 3a2f  WTForms](https:/
-00000160: 2f77 7466 6f72 6d73 2e72 6561 6474 6865  /wtforms.readthe
-00000170: 646f 6373 2e69 6f2f 656e 2f73 7461 626c  docs.io/en/stabl
-00000180: 652f 292e 2049 7420 6973 206d 6f64 656c  e/). It is model
-00000190: 6564 206f 6e20 7468 6520 6578 6365 6c6c  ed on the excell
-000001a0: 656e 7420 5b46 6c61 736b 2d57 5446 5d28  ent [Flask-WTF](
-000001b0: 6874 7470 733a 2f2f 666c 6173 6b2d 7774  https://flask-wt
-000001c0: 662e 7265 6164 7468 6564 6f63 732e 696f  f.readthedocs.io
-000001d0: 2920 6c69 6272 6172 792e 0a20 2020 2020  ) library..     
-000001e0: 2020 200a 2020 2020 2020 2020 2323 2054     .        ## T
-000001f0: 6162 6c65 206f 6620 436f 6e74 656e 7473  able of Contents
-00000200: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000210: 2020 2d20 5b49 6e73 7461 6c6c 6174 696f    - [Installatio
-00000220: 6e5d 2823 696e 7374 616c 6c61 7469 6f6e  n](#installation
-00000230: 290a 2020 2020 2020 2020 2d20 5b51 7569  ).        - [Qui
-00000240: 636b 7374 6172 745d 2823 7175 6963 6b73  ckstart](#quicks
-00000250: 7461 7274 290a 2020 2020 2020 2020 2d20  tart).        - 
-00000260: 5b43 7265 6174 696e 6720 466f 726d 735d  [Creating Forms]
-00000270: 2823 6372 6561 7469 6e67 2d66 6f72 6d73  (#creating-forms
-00000280: 290a 2020 2020 2020 2020 2020 2a20 5b54  ).          * [T
-00000290: 6865 2053 7461 726c 6574 7465 466f 726d  he StarletteForm
-000002a0: 2043 6c61 7373 5d28 2374 6865 2d73 7461   Class](#the-sta
-000002b0: 726c 6574 7465 666f 726d 2d63 6c61 7373  rletteform-class
-000002c0: 290a 2020 2020 2020 2020 2020 2a20 5b56  ).          * [V
-000002d0: 616c 6964 6174 696f 6e5d 2823 7661 6c69  alidation](#vali
-000002e0: 6461 7469 6f6e 290a 2020 2020 2020 2020  dation).        
-000002f0: 2020 2a20 5b41 7379 6e63 2043 7573 746f    * [Async Custo
-00000300: 6d20 5661 6c69 6461 746f 7273 5d28 2361  m Validators](#a
-00000310: 7379 6e63 2d63 7573 746f 6d2d 7661 6c69  sync-custom-vali
-00000320: 6461 746f 7273 290a 2020 2020 2020 2020  dators).        
-00000330: 2d20 5b43 5352 4620 5072 6f74 6563 7469  - [CSRF Protecti
-00000340: 6f6e 5d28 2363 7372 662d 7072 6f74 6563  on](#csrf-protec
-00000350: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-00000360: 2a20 5b53 6574 7570 5d28 2373 6574 7570  * [Setup](#setup
-00000370: 290a 2020 2020 2020 2020 2020 2a20 5b50  ).          * [P
-00000380: 726f 7465 6374 2056 6965 7773 5d28 2370  rotect Views](#p
-00000390: 726f 7465 6374 2d76 6965 7773 290a 2020  rotect-views).  
-000003a0: 2020 2020 2020 2020 2a20 5b48 544d 4c20          * [HTML 
-000003b0: 466f 726d 735d 2823 6874 6d6c 2d66 6f72  Forms](#html-for
-000003c0: 6d73 290a 2020 2020 2020 2020 2020 2a20  ms).          * 
-000003d0: 5b4a 6176 6153 6372 6970 7420 5265 7175  [JavaScript Requ
-000003e0: 6573 7473 5d28 236a 6176 6173 6372 6970  ests](#javascrip
-000003f0: 742d 7265 7175 6573 7473 290a 2020 2020  t-requests).    
-00000400: 2020 2020 2020 2a20 5b44 6973 6162 6c65        * [Disable
-00000410: 2069 6e20 556e 6974 2054 6573 7473 5d28   in Unit Tests](
-00000420: 2364 6973 6162 6c65 2d69 6e2d 756e 6974  #disable-in-unit
-00000430: 2d74 6573 7473 290a 2020 2020 2020 2020  -tests).        
-00000440: 2020 2a20 5b43 6f6e 6669 6775 7261 7469    * [Configurati
-00000450: 6f6e 5d28 2363 6f6e 6669 6775 7261 7469  on](#configurati
-00000460: 6f6e 290a 2020 2020 2020 2020 2d20 5b44  on).        - [D
-00000470: 6576 656c 6f70 6d65 6e74 5d28 2364 6576  evelopment](#dev
-00000480: 656c 6f70 6d65 6e74 290a 2020 2020 2020  elopment).      
-00000490: 2020 2020 2a20 5b47 6574 2074 6865 2063      * [Get the c
-000004a0: 6f64 655d 2823 6765 742d 7468 652d 636f  ode](#get-the-co
-000004b0: 6465 290a 2020 2020 2020 2020 2020 2a20  de).          * 
-000004c0: 5b52 756e 2075 6e69 7420 7465 7374 735d  [Run unit tests]
-000004d0: 2823 7275 6e2d 756e 6974 2d74 6573 7473  (#run-unit-tests
-000004e0: 290a 2020 2020 2020 2020 0a20 2020 2020  ).        .     
-000004f0: 2020 2023 2320 496e 7374 616c 6c61 7469     ## Installati
-00000500: 6f6e 0a20 2020 2020 2020 200a 2020 2020  on.        .    
-00000510: 2020 2020 496e 7374 616c 6c69 6e67 2053      Installing S
-00000520: 7461 726c 6574 7465 2d57 5446 2069 7320  tarlette-WTF is 
-00000530: 7369 6d70 6c65 2077 6974 6820 5b70 6970  simple with [pip
-00000540: 5d28 6874 7470 733a 2f2f 7069 702e 7079  ](https://pip.py
-00000550: 7061 2e69 6f2f 656e 2f73 7461 626c 652f  pa.io/en/stable/
-00000560: 293a 0a20 2020 2020 2020 200a 2020 2020  ):.        .    
-00000570: 2020 2020 6060 6062 6173 680a 2020 2020      ```bash.    
-00000580: 2020 2020 2420 7069 7020 696e 7374 616c      $ pip instal
-00000590: 6c20 7374 6172 6c65 7474 652d 7774 660a  l starlette-wtf.
-000005a0: 2020 2020 2020 2020 6060 600a 2020 2020          ```.    
-000005b0: 2020 2020 0a20 2020 2020 2020 2023 2320      .        ## 
-000005c0: 5175 6963 6b73 7461 7274 0a20 2020 2020  Quickstart.     
-000005d0: 2020 200a 2020 2020 2020 2020 5468 6520     .        The 
-000005e0: 666f 6c6c 6f77 696e 6720 636f 6465 2069  following code i
-000005f0: 6d70 6c65 6d65 6e74 7320 6120 7369 6d70  mplements a simp
-00000600: 6c65 2066 6f72 6d20 6861 6e64 6c65 7220  le form handler 
-00000610: 7769 7468 2043 5352 4620 7072 6f74 6563  with CSRF protec
-00000620: 7469 6f6e 2e20 5468 6520 666f 726d 2068  tion. The form h
-00000630: 6173 2061 2072 6571 7569 7265 6420 7374  as a required st
-00000640: 7269 6e67 2066 6965 6c64 2061 6e64 2076  ring field and v
-00000650: 616c 6964 6174 696f 6e20 6572 726f 7273  alidation errors
-00000660: 2061 7265 2068 616e 646c 6564 2062 7920   are handled by 
-00000670: 7468 6520 6874 6d6c 2074 656d 706c 6174  the html templat
-00000680: 652e 204e 6f74 6520 7468 6174 2043 5352  e. Note that CSR
-00000690: 4620 7072 6f74 6563 7469 6f6e 2072 6571  F protection req
-000006a0: 7569 7265 7320 6053 6573 7369 6f6e 4d69  uires `SessionMi
-000006b0: 6464 6c65 7761 7265 602c 2060 4353 5246  ddleware`, `CSRF
-000006c0: 5072 6f74 6563 744d 6964 646c 6577 6172  ProtectMiddlewar
-000006d0: 6560 2c20 6040 6373 7266 5f70 726f 7465  e`, `@csrf_prote
-000006e0: 6374 6020 616e 6420 7468 6520 6063 7372  ct` and the `csr
-000006f0: 665f 746f 6b65 6e60 2066 6965 6c64 2074  f_token` field t
-00000700: 6f20 6265 2061 6464 6564 2074 6f20 7468  o be added to th
-00000710: 6520 4854 4d4c 2066 6f72 6d2e 0a20 2020  e HTML form..   
-00000720: 2020 2020 200a 2020 2020 2020 2020 4669       .        Fi
-00000730: 7273 742c 2069 6e73 7461 6c6c 2074 6865  rst, install the
-00000740: 2064 6570 656e 6465 6e63 6965 7320 666f   dependencies fo
-00000750: 7220 7468 6973 2071 7569 636b 7374 6172  r this quickstar
-00000760: 743a 0a20 2020 2020 2020 200a 2020 2020  t:.        .    
-00000770: 2020 2020 6060 6062 6173 680a 2020 2020      ```bash.    
-00000780: 2020 2020 2420 7069 7020 696e 7374 616c      $ pip instal
-00000790: 6c20 7374 6172 6c65 7474 6520 7374 6172  l starlette star
-000007a0: 6c65 7474 652d 7774 6620 6a69 6e6a 6132  lette-wtf jinja2
-000007b0: 2075 7669 636f 726e 200a 2020 2020 2020   uvicorn .      
-000007c0: 2020 6060 600a 2020 2020 2020 2020 0a20    ```.        . 
-000007d0: 2020 2020 2020 204e 6578 742c 2063 7265         Next, cre
-000007e0: 6174 6520 6120 5079 7468 6f6e 2066 696c  ate a Python fil
-000007f0: 6520 2861 7070 2e70 7929 2077 6974 6820  e (app.py) with 
-00000800: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
-00000810: 6465 3a0a 2020 2020 2020 2020 0a20 2020  de:.        .   
-00000820: 2020 2020 2060 6060 7079 7468 6f6e 0a20       ```python. 
-00000830: 2020 2020 2020 2066 726f 6d20 6a69 6e6a         from jinj
-00000840: 6132 2069 6d70 6f72 7420 5465 6d70 6c61  a2 import Templa
-00000850: 7465 0a20 2020 2020 2020 2066 726f 6d20  te.        from 
-00000860: 7374 6172 6c65 7474 652e 6170 706c 6963  starlette.applic
-00000870: 6174 696f 6e73 2069 6d70 6f72 7420 5374  ations import St
-00000880: 6172 6c65 7474 650a 2020 2020 2020 2020  arlette.        
-00000890: 6672 6f6d 2073 7461 726c 6574 7465 2e6d  from starlette.m
-000008a0: 6964 646c 6577 6172 6520 696d 706f 7274  iddleware import
-000008b0: 204d 6964 646c 6577 6172 650a 2020 2020   Middleware.    
-000008c0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-000008d0: 7465 2e6d 6964 646c 6577 6172 652e 7365  te.middleware.se
-000008e0: 7373 696f 6e73 2069 6d70 6f72 7420 5365  ssions import Se
-000008f0: 7373 696f 6e4d 6964 646c 6577 6172 650a  ssionMiddleware.
-00000900: 2020 2020 2020 2020 6672 6f6d 2073 7461          from sta
-00000910: 726c 6574 7465 2e72 6573 706f 6e73 6573  rlette.responses
-00000920: 2069 6d70 6f72 7420 506c 6169 6e54 6578   import PlainTex
-00000930: 7452 6573 706f 6e73 652c 2048 544d 4c52  tResponse, HTMLR
-00000940: 6573 706f 6e73 650a 2020 2020 2020 2020  esponse.        
-00000950: 6672 6f6d 2073 7461 726c 6574 7465 5f77  from starlette_w
-00000960: 7466 2069 6d70 6f72 7420 5374 6172 6c65  tf import Starle
-00000970: 7474 6546 6f72 6d2c 2043 5352 4650 726f  tteForm, CSRFPro
-00000980: 7465 6374 4d69 6464 6c65 7761 7265 2c20  tectMiddleware, 
-00000990: 6373 7266 5f70 726f 7465 6374 0a20 2020  csrf_protect.   
-000009a0: 2020 2020 2066 726f 6d20 7774 666f 726d       from wtform
-000009b0: 7320 696d 706f 7274 2053 7472 696e 6746  s import StringF
-000009c0: 6965 6c64 0a20 2020 2020 2020 2066 726f  ield.        fro
-000009d0: 6d20 7774 666f 726d 732e 7661 6c69 6461  m wtforms.valida
-000009e0: 746f 7273 0969 6d70 6f72 7420 4461 7461  tors.import Data
-000009f0: 5265 7175 6972 6564 0a20 2020 2020 2020  Required.       
-00000a00: 200a 2020 2020 2020 2020 0a20 2020 2020   .        .     
-00000a10: 2020 2063 6c61 7373 204d 7946 6f72 6d28     class MyForm(
-00000a20: 5374 6172 6c65 7474 6546 6f72 6d29 3a0a  StarletteForm):.
-00000a30: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00000a40: 203d 2053 7472 696e 6746 6965 6c64 2827   = StringField('
-00000a50: 6e61 6d65 272c 2076 616c 6964 6174 6f72  name', validator
-00000a60: 733d 5b44 6174 6152 6571 7569 7265 6428  s=[DataRequired(
-00000a70: 295d 290a 2020 2020 2020 2020 0a20 2020  )]).        .   
-00000a80: 2020 2020 200a 2020 2020 2020 2020 7465       .        te
-00000a90: 6d70 6c61 7465 203d 2054 656d 706c 6174  mplate = Templat
-00000aa0: 6528 2727 270a 2020 2020 2020 2020 3c68  e('''.        <h
-00000ab0: 746d 6c3e 0a20 2020 2020 2020 2020 203c  tml>.          <
-00000ac0: 626f 6479 3e0a 2020 2020 2020 2020 2020  body>.          
-00000ad0: 2020 3c66 6f72 6d20 6d65 7468 6f64 3d22    <form method="
-00000ae0: 706f 7374 2220 6e6f 7661 6c69 6461 7465  post" novalidate
-00000af0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00000b00: 7b7b 2066 6f72 6d2e 6373 7266 5f74 6f6b  {{ form.csrf_tok
-00000b10: 656e 207d 7d0a 2020 2020 2020 2020 2020  en }}.          
-00000b20: 2020 2020 3c64 6976 3e0a 2020 2020 2020      <div>.      
-00000b30: 2020 2020 2020 2020 2020 7b7b 2066 6f72            {{ for
-00000b40: 6d2e 6e61 6d65 2870 6c61 6365 686f 6c64  m.name(placehold
-00000b50: 6572 3d27 4e61 6d65 2729 207d 7d0a 2020  er='Name') }}.  
-00000b60: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
-00000b70: 2069 6620 666f 726d 2e6e 616d 652e 6572   if form.name.er
-00000b80: 726f 7273 202d 257d 0a20 2020 2020 2020  rors -%}.       
-00000b90: 2020 2020 2020 2020 203c 7370 616e 3e7b           <span>{
-00000ba0: 7b20 666f 726d 2e6e 616d 652e 6572 726f  { form.name.erro
-00000bb0: 7273 5b30 5d20 7d7d 3c2f 7370 616e 3e0a  rs[0] }}</span>.
-00000bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000bd0: 7b25 2d20 656e 6469 6620 257d 0a20 2020  {%- endif %}.   
-00000be0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
-00000bf0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00000c00: 3c62 7574 746f 6e20 7479 7065 3d22 7375  <button type="su
-00000c10: 626d 6974 223e 5375 626d 6974 3c2f 6275  bmit">Submit</bu
-00000c20: 7474 6f6e 3e0a 2020 2020 2020 2020 2020  tton>.          
-00000c30: 2020 3c2f 666f 726d 3e0a 2020 2020 2020    </form>.      
-00000c40: 2020 2020 3c2f 626f 6479 3e0a 2020 2020      </body>.    
-00000c50: 2020 2020 3c2f 6874 6d6c 3e0a 2020 2020      </html>.    
-00000c60: 2020 2020 2727 2729 0a20 2020 2020 2020      ''').       
-00000c70: 200a 2020 2020 2020 2020 0a20 2020 2020   .        .     
-00000c80: 2020 2061 7070 203d 2053 7461 726c 6574     app = Starlet
-00000c90: 7465 286d 6964 646c 6577 6172 653d 5b0a  te(middleware=[.
-00000ca0: 2020 2020 2020 2020 2020 2020 4d69 6464              Midd
-00000cb0: 6c65 7761 7265 2853 6573 7369 6f6e 4d69  leware(SessionMi
-00000cc0: 6464 6c65 7761 7265 2c20 7365 6372 6574  ddleware, secret
-00000cd0: 5f6b 6579 3d27 2a2a 2a52 4550 4c41 4345  _key='***REPLACE
-00000ce0: 4d45 312a 2a2a 2729 2c0a 2020 2020 2020  ME1***'),.      
-00000cf0: 2020 2020 2020 4d69 6464 6c65 7761 7265        Middleware
-00000d00: 2843 5352 4650 726f 7465 6374 4d69 6464  (CSRFProtectMidd
-00000d10: 6c65 7761 7265 2c20 6373 7266 5f73 6563  leware, csrf_sec
-00000d20: 7265 743d 272a 2a2a 5245 504c 4143 454d  ret='***REPLACEM
-00000d30: 4532 2a2a 2a27 290a 2020 2020 2020 2020  E2***').        
-00000d40: 5d29 0a20 2020 2020 2020 200a 2020 2020  ]).        .    
-00000d50: 2020 2020 0a20 2020 2020 2020 2040 6170      .        @ap
-00000d60: 702e 726f 7574 6528 272f 272c 206d 6574  p.route('/', met
-00000d70: 686f 6473 3d5b 2747 4554 272c 2027 504f  hods=['GET', 'PO
-00000d80: 5354 275d 290a 2020 2020 2020 2020 4063  ST']).        @c
-00000d90: 7372 665f 7072 6f74 6563 740a 2020 2020  srf_protect.    
-00000da0: 2020 2020 6173 796e 6320 6465 6620 696e      async def in
-00000db0: 6465 7828 7265 7175 6573 7429 3a0a 2020  dex(request):.  
-00000dc0: 2020 2020 2020 2020 2020 2222 2247 4554            """GET
-00000dd0: 7c50 4f53 5420 2f3a 2066 6f72 6d20 6861  |POST /: form ha
-00000de0: 6e64 6c65 720a 2020 2020 2020 2020 2020  ndler.          
-00000df0: 2020 2222 220a 2020 2020 2020 2020 2020    """.          
-00000e00: 2020 666f 726d 203d 2061 7761 6974 204d    form = await M
-00000e10: 7946 6f72 6d2e 6672 6f6d 5f66 6f72 6d64  yForm.from_formd
-00000e20: 6174 6128 7265 7175 6573 7429 0a20 2020  ata(request).   
-00000e30: 2020 2020 2020 2020 200a 2020 2020 2020           .      
-00000e40: 2020 2020 2020 6966 2061 7761 6974 2066        if await f
-00000e50: 6f72 6d2e 7661 6c69 6461 7465 5f6f 6e5f  orm.validate_on_
-00000e60: 7375 626d 6974 2829 3a0a 2020 2020 2020  submit():.      
-00000e70: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00000e80: 2050 6c61 696e 5465 7874 5265 7370 6f6e   PlainTextRespon
-00000e90: 7365 2827 5355 4343 4553 5327 290a 2020  se('SUCCESS').  
-00000ea0: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-00000eb0: 2020 2068 746d 6c20 3d20 7465 6d70 6c61     html = templa
-00000ec0: 7465 2e72 656e 6465 7228 666f 726d 3d66  te.render(form=f
-00000ed0: 6f72 6d29 0a20 2020 2020 2020 2020 2020  orm).           
-00000ee0: 2072 6574 7572 6e20 4854 4d4c 5265 7370   return HTMLResp
-00000ef0: 6f6e 7365 2868 746d 6c29 0a20 2020 2020  onse(html).     
-00000f00: 2020 2060 6060 0a20 2020 2020 2020 2020     ```.         
-00000f10: 2020 200a 2020 2020 2020 2020 4669 6e61     .        Fina
-00000f20: 6c6c 792c 2072 756e 2074 6865 2061 7070  lly, run the app
-00000f30: 2075 7369 6e67 2074 6865 2066 6f6c 6c6f   using the follo
-00000f40: 7769 6e67 2063 6f6d 6d61 6e64 3a0a 2020  wing command:.  
-00000f50: 2020 2020 2020 2020 2020 0a20 2020 2020            .     
-00000f60: 2020 2060 6060 6261 7368 0a20 2020 2020     ```bash.     
-00000f70: 2020 2024 2075 7669 636f 726e 2061 7070     $ uvicorn app
-00000f80: 3a61 7070 0a20 2020 2020 2020 2060 6060  :app.        ```
-00000f90: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000fa0: 2020 2323 2043 7265 6174 696e 6720 466f    ## Creating Fo
-00000fb0: 726d 730a 2020 2020 2020 2020 0a20 2020  rms.        .   
-00000fc0: 2020 2020 2023 2323 2054 6865 2053 7461       ### The Sta
-00000fd0: 726c 6574 7465 466f 726d 2043 6c61 7373  rletteForm Class
-00000fe0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00000ff0: 2020 5374 6172 6c65 7474 652d 5754 4620    Starlette-WTF 
-00001000: 7072 6f76 6964 6573 2061 2066 6f72 6d20  provides a form 
-00001010: 636c 6173 7320 7468 6174 206d 616b 6573  class that makes
-00001020: 2069 7420 6561 7379 2074 6f20 6164 6420   it easy to add 
-00001030: 666f 726d 2076 616c 6964 6174 696f 6e20  form validation 
-00001040: 616e 6420 4353 5246 2070 726f 7465 6374  and CSRF protect
-00001050: 696f 6e20 746f 2053 7461 726c 6574 7465  ion to Starlette
-00001060: 2061 7070 732e 2054 6f20 6d61 6b65 2061   apps. To make a
-00001070: 2066 6f72 6d2c 2073 7562 636c 6173 7320   form, subclass 
-00001080: 7468 6520 6053 7461 726c 6574 7465 466f  the `StarletteFo
-00001090: 726d 6020 636c 6173 7320 616e 6420 7573  rm` class and us
-000010a0: 6520 5b57 5446 6f72 6d73 5d28 6874 7470  e [WTForms](http
-000010b0: 733a 2f2f 7774 666f 726d 732e 7265 6164  s://wtforms.read
-000010c0: 7468 6564 6f63 732e 696f 2f29 2066 6965  thedocs.io/) fie
-000010d0: 6c64 732c 2076 616c 6964 6174 6f72 7320  lds, validators 
-000010e0: 616e 6420 7769 6467 6574 7320 746f 2064  and widgets to d
-000010f0: 6566 696e 6520 7468 6520 696e 7075 7473  efine the inputs
-00001100: 2e20 5468 6520 6053 7461 726c 6574 7465  . The `Starlette
-00001110: 466f 726d 6020 636c 6173 7320 696e 6865  Form` class inhe
-00001120: 7269 7473 2066 726f 6d20 7468 6520 5754  rits from the WT
-00001130: 466f 726d 7320 6046 6f72 6d60 2063 6c61  Forms `Form` cla
-00001140: 7373 2073 6f20 796f 7520 6361 6e20 7573  ss so you can us
-00001150: 6520 5754 466f 726d 7320 6665 6174 7572  e WTForms featur
-00001160: 6573 2061 6e64 206d 6574 686f 6473 2074  es and methods t
-00001170: 6f20 6164 6420 6d6f 7265 2061 6476 616e  o add more advan
-00001180: 6365 6420 6675 6e63 7469 6f6e 616c 6974  ced functionalit
-00001190: 7920 746f 2079 6f75 7220 6170 703a 0a20  y to your app:. 
-000011a0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-000011b0: 6060 6070 7974 686f 6e0a 2020 2020 2020  ```python.      
-000011c0: 2020 6672 6f6d 2073 7461 726c 6574 7465    from starlette
-000011d0: 5f77 7466 2069 6d70 6f72 7420 5374 6172  _wtf import Star
-000011e0: 6c65 7474 6546 6f72 6d0a 2020 2020 2020  letteForm.      
-000011f0: 2020 6672 6f6d 2077 7466 6f72 6d73 2069    from wtforms i
-00001200: 6d70 6f72 7420 5465 7874 4669 656c 642c  mport TextField,
-00001210: 2050 6173 7377 6f72 6446 6965 6c64 0a20   PasswordField. 
-00001220: 2020 2020 2020 2066 726f 6d20 7774 666f         from wtfo
-00001230: 726d 732e 7661 6c69 6461 746f 7273 2069  rms.validators i
-00001240: 6d70 6f72 7420 4461 7461 5265 7175 6972  mport DataRequir
-00001250: 6564 2c20 456d 6169 6c2c 2045 7175 616c  ed, Email, Equal
-00001260: 546f 0a20 2020 2020 2020 2066 726f 6d20  To.        from 
-00001270: 7774 666f 726d 732e 7769 6467 6574 7320  wtforms.widgets 
-00001280: 696d 706f 7274 2050 6173 7377 6f72 6449  import PasswordI
-00001290: 6e70 7574 0a20 2020 2020 2020 200a 2020  nput.        .  
-000012a0: 2020 2020 2020 0a20 2020 2020 2020 2063        .        c
-000012b0: 6c61 7373 2043 7265 6174 6541 6363 6f75  lass CreateAccou
-000012c0: 6e74 466f 726d 2853 7461 726c 6574 7465  ntForm(Starlette
-000012d0: 466f 726d 293a 0a20 2020 2020 2020 2020  Form):.         
-000012e0: 2020 2065 6d61 696c 203d 2054 6578 7446     email = TextF
-000012f0: 6965 6c64 280a 2020 2020 2020 2020 2020  ield(.          
-00001300: 2020 2020 2020 2745 6d61 696c 2061 6464        'Email add
-00001310: 7265 7373 272c 0a20 2020 2020 2020 2020  ress',.         
-00001320: 2020 2020 2020 2076 616c 6964 6174 6f72         validator
-00001330: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-00001340: 2020 2020 2020 2020 4461 7461 5265 7175          DataRequ
-00001350: 6972 6564 2827 506c 6561 7365 2065 6e74  ired('Please ent
-00001360: 6572 2079 6f75 7220 656d 6169 6c20 6164  er your email ad
-00001370: 6472 6573 7327 292c 0a20 2020 2020 2020  dress'),.       
-00001380: 2020 2020 2020 2020 2020 2020 2045 6d61               Ema
-00001390: 696c 2829 0a20 2020 2020 2020 2020 2020  il().           
-000013a0: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
-000013b0: 2020 2029 0a20 2020 2020 2020 200a 2020     ).        .  
-000013c0: 2020 2020 2020 2020 2020 7061 7373 776f            passwo
-000013d0: 7264 203d 2050 6173 7377 6f72 6446 6965  rd = PasswordFie
-000013e0: 6c64 280a 2020 2020 2020 2020 2020 2020  ld(.            
-000013f0: 2020 2020 2750 6173 7377 6f72 6427 2c0a      'Password',.
-00001400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001410: 7769 6467 6574 3d50 6173 7377 6f72 6449  widget=PasswordI
-00001420: 6e70 7574 2868 6964 655f 7661 6c75 653d  nput(hide_value=
-00001430: 4661 6c73 6529 2c0a 2020 2020 2020 2020  False),.        
-00001440: 2020 2020 2020 2020 7661 6c69 6461 746f          validato
-00001450: 7273 3d5b 0a20 2020 2020 2020 2020 2020  rs=[.           
-00001460: 2020 2020 2020 2020 2044 6174 6152 6571           DataReq
-00001470: 7569 7265 6428 2750 6c65 6173 6520 656e  uired('Please en
-00001480: 7465 7220 796f 7572 2070 6173 7377 6f72  ter your passwor
-00001490: 6427 292c 0a20 2020 2020 2020 2020 2020  d'),.           
-000014a0: 2020 2020 2020 2020 2045 7175 616c 546f           EqualTo
-000014b0: 2827 7061 7373 776f 7264 5f63 6f6e 6669  ('password_confi
-000014c0: 726d 272c 206d 6573 7361 6765 3d27 5061  rm', message='Pa
-000014d0: 7373 776f 7264 7320 6d75 7374 206d 6174  sswords must mat
-000014e0: 6368 2729 0a20 2020 2020 2020 2020 2020  ch').           
-000014f0: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
-00001500: 2020 2029 0a20 2020 2020 2020 200a 2020     ).        .  
-00001510: 2020 2020 2020 2020 2020 7061 7373 776f            passwo
-00001520: 7264 5f63 6f6e 6669 726d 203d 2050 6173  rd_confirm = Pas
-00001530: 7377 6f72 6446 6965 6c64 280a 2020 2020  swordField(.    
-00001540: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
-00001550: 6669 726d 2050 6173 7377 6f72 6427 2c0a  firm Password',.
-00001560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001570: 7769 6467 6574 3d50 6173 7377 6f72 6449  widget=PasswordI
-00001580: 6e70 7574 2868 6964 655f 7661 6c75 653d  nput(hide_value=
-00001590: 4661 6c73 6529 2c0a 2020 2020 2020 2020  False),.        
-000015a0: 2020 2020 2020 2020 7661 6c69 6461 746f          validato
-000015b0: 7273 3d5b 0a20 2020 2020 2020 2020 2020  rs=[.           
-000015c0: 2020 2020 2020 2020 2044 6174 6152 6571           DataReq
-000015d0: 7569 7265 6428 2750 6c65 6173 6520 636f  uired('Please co
-000015e0: 6e66 6972 6d20 796f 7572 2070 6173 7377  nfirm your passw
-000015f0: 6f72 6427 290a 2020 2020 2020 2020 2020  ord').          
-00001600: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-00001610: 2020 2020 290a 2020 2020 2020 2020 6060      ).        ``
-00001620: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00001630: 2020 204f 6674 656e 2079 6f75 2077 696c     Often you wil
-00001640: 6c20 7761 6e74 2074 6f20 696e 6974 6961  l want to initia
-00001650: 6c69 7a65 2066 6f72 6d20 6f62 6a65 6374  lize form object
-00001660: 7320 7573 696e 6720 6465 6661 756c 7420  s using default 
-00001670: 7661 6c75 6573 206f 6e20 4745 5420 7265  values on GET re
-00001680: 7175 6573 7473 2061 6e64 2066 726f 6d20  quests and from 
-00001690: 7375 626d 6974 7465 6420 666f 726d 6461  submitted formda
-000016a0: 7461 206f 6e20 504f 5354 2072 6571 7565  ta on POST reque
-000016b0: 7374 732e 2054 6f20 6d61 6b65 2074 6869  sts. To make thi
-000016c0: 7320 6561 7369 6572 2079 6f75 2063 616e  s easier you can
-000016d0: 2075 7365 2074 6865 2060 2e66 726f 6d5f   use the `.from_
-000016e0: 666f 726d 6461 7461 2829 6020 6173 796e  formdata()` asyn
-000016f0: 6320 636c 6173 7320 6d65 7468 6f64 2077  c class method w
-00001700: 6869 6368 2064 6f65 7320 7468 6973 2066  hich does this f
-00001710: 6f72 2079 6f75 2061 7574 6f6d 6174 6963  or you automatic
-00001720: 616c 6c79 3a0a 2020 2020 2020 2020 0a20  ally:.        . 
-00001730: 2020 2020 2020 2060 6060 7079 7468 6f6e         ```python
-00001740: 0a20 2020 2020 2020 2040 6170 702e 726f  .        @app.ro
-00001750: 7574 6528 272f 6372 6561 7465 2d61 6363  ute('/create-acc
-00001760: 6f75 6e74 272c 206d 6574 686f 6473 3d5b  ount', methods=[
-00001770: 2747 4554 272c 2027 504f 5354 275d 290a  'GET', 'POST']).
-00001780: 2020 2020 2020 2020 6173 796e 6320 6465          async de
-00001790: 6620 6372 6561 7465 5f61 6363 6f75 6e74  f create_account
-000017a0: 2872 6571 7565 7374 293a 0a20 2020 2020  (request):.     
-000017b0: 2020 2020 2020 2022 2222 4745 547c 504f         """GET|PO
-000017c0: 5354 202f 6372 6561 7465 2d61 6363 6f75  ST /create-accou
-000017d0: 6e74 3a20 4372 6561 7465 2061 6363 6f75  nt: Create accou
-000017e0: 6e74 2066 6f72 6d20 6861 6e64 6c65 720a  nt form handler.
-000017f0: 2020 2020 2020 2020 2020 2020 2222 220a              """.
-00001800: 2020 2020 2020 2020 2020 2020 666f 726d              form
-00001810: 203d 2061 7761 6974 2043 7265 6174 6541   = await CreateA
-00001820: 6363 6f75 6e74 466f 726d 2e66 726f 6d5f  ccountForm.from_
-00001830: 666f 726d 6461 7461 2872 6571 7565 7374  formdata(request
-00001840: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00001850: 7475 726e 2050 6c61 696e 5465 7874 5265  turn PlainTextRe
-00001860: 7370 6f6e 7365 2829 0a20 2020 2020 2020  sponse().       
-00001870: 2060 6060 0a20 2020 2020 2020 200a 2020   ```.        .  
-00001880: 2020 2020 2020 2323 2320 5661 6c69 6461        ### Valida
-00001890: 7469 6f6e 0a20 2020 2020 2020 200a 2020  tion.        .  
-000018a0: 2020 2020 2020 5468 6520 6053 7461 726c        The `Starl
-000018b0: 6574 7465 466f 726d 6020 636c 6173 7320  etteForm` class 
-000018c0: 6861 7320 6120 7573 6566 756c 2060 2e76  has a useful `.v
-000018d0: 616c 6964 6174 655f 6f6e 5f73 7562 6d69  alidate_on_submi
-000018e0: 7428 2960 206d 6574 686f 6420 7468 6174  t()` method that
-000018f0: 2070 6572 666f 726d 7320 696e 7075 7420   performs input 
-00001900: 7661 6c69 6461 7469 6f6e 2066 6f72 2050  validation for P
-00001910: 4f53 542c 2050 5554 2c20 5041 5443 4820  OST, PUT, PATCH 
-00001920: 616e 6420 4445 4c45 5445 2072 6571 7565  and DELETE reque
-00001930: 7374 7320 616e 6420 7265 7475 726e 7320  sts and returns 
-00001940: 6120 626f 6f6c 6561 6e20 696e 6469 6361  a boolean indica
-00001950: 7469 6e67 2077 6865 7468 6572 206f 7220  ting whether or 
-00001960: 6e6f 7420 7468 6572 6520 7765 7265 2061  not there were a
-00001970: 6e79 2065 7272 6f72 732e 2041 6674 6572  ny errors. After
-00001980: 2076 616c 6964 6174 696f 6e2c 2065 7272   validation, err
-00001990: 6f72 7320 6172 6520 6176 6169 6c61 626c  ors are availabl
-000019a0: 6520 7669 6120 7468 6520 602e 6572 726f  e via the `.erro
-000019b0: 7273 6020 6174 7472 6962 7574 6520 6174  rs` attribute at
-000019c0: 7461 6368 6564 2074 6f20 6561 6368 2069  tached to each i
-000019d0: 6e70 7574 2066 6965 6c64 2069 6e73 7461  nput field insta
-000019e0: 6e63 652e 204e 6f74 6520 7468 6174 2076  nce. Note that v
-000019f0: 616c 6964 6174 696f 6e20 6973 2061 7379  alidation is asy
-00001a00: 6e63 6872 6f6e 6f75 7320 746f 2068 616e  nchronous to han
-00001a10: 646c 6520 6173 796e 6320 6669 656c 6420  dle async field 
-00001a20: 7661 6c69 6461 746f 7273 2028 7365 6520  validators (see 
-00001a30: 6265 6c6f 7729 3a0a 2020 2020 2020 2020  below):.        
-00001a40: 0a20 2020 2020 2020 2060 6060 7079 7468  .        ```pyth
-00001a50: 6f6e 0a20 2020 2020 2020 2066 726f 6d20  on.        from 
-00001a60: 6a69 6e6a 6132 2069 6d70 6f72 7420 5465  jinja2 import Te
-00001a70: 6d70 6c61 7465 0a20 2020 2020 2020 2066  mplate.        f
-00001a80: 726f 6d20 7374 6172 6c65 7474 652e 6170  rom starlette.ap
-00001a90: 706c 6963 6174 696f 6e73 2069 6d70 6f72  plications impor
-00001aa0: 7420 5374 6172 6c65 7474 650a 2020 2020  t Starlette.    
-00001ab0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-00001ac0: 7465 2e72 6573 706f 6e73 6573 2069 6d70  te.responses imp
-00001ad0: 6f72 7420 2850 6c61 696e 5465 7874 5265  ort (PlainTextRe
-00001ae0: 7370 6f6e 7365 2c20 5265 6469 7265 6374  sponse, Redirect
-00001af0: 5265 7370 6f6e 7365 2c0a 2020 2020 2020  Response,.      
-00001b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b20: 2020 2048 544d 4c52 6573 706f 6e73 6529     HTMLResponse)
-00001b30: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00001b40: 2020 0a20 2020 2020 2020 2074 656d 706c    .        templ
-00001b50: 6174 6520 3d20 5465 6d70 6c61 7465 2827  ate = Template('
-00001b60: 2727 0a20 2020 2020 2020 203c 6874 6d6c  ''.        <html
-00001b70: 3e0a 2020 2020 2020 2020 2020 3c62 6f64  >.          <bod
-00001b80: 793e 0a20 2020 2020 2020 2020 2020 203c  y>.            <
-00001b90: 6831 3e43 7265 6174 6520 4163 636f 756e  h1>Create Accoun
-00001ba0: 743c 2f68 313e 0a20 2020 2020 2020 2020  t</h1>.         
-00001bb0: 2020 203c 666f 726d 206d 6574 686f 643d     <form method=
-00001bc0: 2270 6f73 7422 206e 6f76 616c 6964 6174  "post" novalidat
-00001bd0: 653e 0a20 2020 2020 2020 2020 2020 2020  e>.             
-00001be0: 203c 6469 763e 0a20 2020 2020 2020 2020   <div>.         
-00001bf0: 2020 2020 2020 207b 7b20 666f 726d 2e65         {{ form.e
-00001c00: 6d61 696c 2870 6c61 6365 686f 6c64 6572  mail(placeholder
-00001c10: 3d27 456d 6169 6c20 6164 6472 6573 7327  ='Email address'
-00001c20: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c40: 6175 746f 666f 6375 733d 2774 7275 6527  autofocus='true'
-00001c50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c70: 7479 7065 3d27 656d 6169 6c27 2c0a 2020  type='email',.  
-00001c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c90: 2020 2020 2020 2020 2020 2020 7370 656c              spel
-00001ca0: 6c63 6865 636b 3d27 6661 6c73 6527 2920  lcheck='false') 
-00001cb0: 7d7d 0a20 2020 2020 2020 2020 2020 2020  }}.             
-00001cc0: 2020 207b 2520 6966 2066 6f72 6d2e 656d     {% if form.em
-00001cd0: 6169 6c2e 6572 726f 7273 202d 257d 0a20  ail.errors -%}. 
-00001ce0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00001cf0: 7370 616e 3e7b 7b20 666f 726d 2e65 6d61  span>{{ form.ema
-00001d00: 696c 2e65 7272 6f72 735b 305d 207d 7d3c  il.errors[0] }}<
-00001d10: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
-00001d20: 2020 2020 2020 207b 252d 2065 6e64 6966         {%- endif
-00001d30: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
-00001d40: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00001d50: 2020 2020 2020 203c 6469 763e 0a20 2020         <div>.   
-00001d60: 2020 2020 2020 2020 2020 2020 207b 7b20               {{ 
-00001d70: 666f 726d 2e70 6173 7377 6f72 6428 706c  form.password(pl
-00001d80: 6163 6568 6f6c 6465 723d 2250 6173 7377  aceholder="Passw
-00001d90: 6f72 6422 2920 7d7d 0a20 2020 2020 2020  ord") }}.       
-00001da0: 2020 2020 2020 2020 207b 2520 6966 2066           {% if f
-00001db0: 6f72 6d2e 7061 7373 776f 7264 2e65 7272  orm.password.err
-00001dc0: 6f72 7320 2d25 7d0a 2020 2020 2020 2020  ors -%}.        
-00001dd0: 2020 2020 2020 2020 3c73 7061 6e3e 7b7b          <span>{{
-00001de0: 2066 6f72 6d2e 7061 7373 776f 7264 2e65   form.password.e
-00001df0: 7272 6f72 735b 305d 207d 7d3c 2f73 7061  rrors[0] }}</spa
-00001e00: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
-00001e10: 2020 207b 252d 2065 6e64 6966 2025 7d0a     {%- endif %}.
-00001e20: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-00001e30: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00001e40: 2020 203c 6469 763e 0a20 2020 2020 2020     <div>.       
-00001e50: 2020 2020 2020 2020 207b 7b20 666f 726d           {{ form
-00001e60: 2e70 6173 7377 6f72 645f 636f 6e66 6972  .password_confir
-00001e70: 6d28 706c 6163 6568 6f6c 6465 723d 2243  m(placeholder="C
-00001e80: 6f6e 6669 726d 2070 6173 7377 6f72 6422  onfirm password"
-00001e90: 2920 7d7d 0a20 2020 2020 2020 2020 2020  ) }}.           
-00001ea0: 2020 2020 207b 2520 6966 2066 6f72 6d2e       {% if form.
-00001eb0: 7061 7373 776f 7264 5f63 6f6e 6669 726d  password_confirm
-00001ec0: 2e65 7272 6f72 7320 2d25 7d0a 2020 2020  .errors -%}.    
-00001ed0: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00001ee0: 6e3e 7b7b 2066 6f72 6d2e 7061 7373 776f  n>{{ form.passwo
-00001ef0: 7264 5f63 6f6e 6669 726d 2e65 7272 6f72  rd_confirm.error
-00001f00: 735b 305d 207d 7d3c 2f73 7061 6e3e 0a20  s[0] }}</span>. 
-00001f10: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-00001f20: 252d 2065 6e64 6966 2025 7d0a 2020 2020  %- endif %}.    
-00001f30: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-00001f40: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
-00001f50: 6275 7474 6f6e 2074 7970 653d 2273 7562  button type="sub
-00001f60: 6d69 7422 3e43 7265 6174 6520 6163 636f  mit">Create acco
-00001f70: 756e 743c 2f62 7574 746f 6e3e 0a20 2020  unt</button>.   
-00001f80: 2020 2020 2020 2020 203c 2f66 6f72 6d3e           </form>
-00001f90: 0a20 2020 2020 2020 2020 203c 2f62 6f64  .          </bod
-00001fa0: 793e 0a20 2020 2020 2020 203c 2f68 746d  y>.        </htm
-00001fb0: 6c3e 0a20 2020 2020 2020 2027 2727 290a  l>.        ''').
-00001fc0: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00001fd0: 200a 2020 2020 2020 2020 6170 7020 3d20   .        app = 
-00001fe0: 5374 6172 6c65 7474 6528 290a 2020 2020  Starlette().    
-00001ff0: 2020 2020 0a20 2020 2020 2020 200a 2020      .        .  
-00002000: 2020 2020 2020 4061 7070 2e72 6f75 7465        @app.route
-00002010: 2827 2f27 2c20 6d65 7468 6f64 733d 5b27  ('/', methods=['
-00002020: 4745 5427 5d29 0a20 2020 2020 2020 2061  GET']).        a
-00002030: 7379 6e63 2064 6566 2069 6e64 6578 2872  sync def index(r
-00002040: 6571 7565 7374 293a 0a20 2020 2020 2020  equest):.       
-00002050: 2020 2020 2022 2222 4745 5420 2f3a 2052       """GET /: R
-00002060: 6574 7572 6e20 686f 6d65 2070 6167 650a  eturn home page.
-00002070: 2020 2020 2020 2020 2020 2020 2222 220a              """.
-00002080: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00002090: 726e 2050 6c61 696e 5465 7874 5265 7370  rn PlainTextResp
-000020a0: 6f6e 7365 2829 0a20 2020 2020 2020 200a  onse().        .
-000020b0: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-000020c0: 2040 6170 702e 726f 7574 6528 272f 6372   @app.route('/cr
-000020d0: 6561 7465 2d61 6363 6f75 6e74 272c 206d  eate-account', m
-000020e0: 6574 686f 6473 3d5b 2747 4554 272c 2027  ethods=['GET', '
-000020f0: 504f 5354 275d 290a 2020 2020 2020 2020  POST']).        
-00002100: 6173 796e 6320 6465 6620 6372 6561 7465  async def create
-00002110: 5f61 6363 6f75 6e74 2872 6571 7565 7374  _account(request
-00002120: 293a 0a20 2020 2020 2020 2020 2020 2022  ):.            "
-00002130: 2222 4745 547c 504f 5354 202f 6372 6561  ""GET|POST /crea
-00002140: 7465 2d61 6363 6f75 6e74 3a20 4372 6561  te-account: Crea
-00002150: 7465 2061 6363 6f75 6e74 2066 6f72 6d20  te account form 
-00002160: 6861 6e64 6c65 720a 2020 2020 2020 2020  handler.        
-00002170: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00002180: 2020 2020 2320 696e 6974 6961 6c69 7a65      # initialize
-00002190: 2066 6f72 6d0a 2020 2020 2020 2020 2020   form.          
-000021a0: 2020 666f 726d 203d 2061 7761 6974 2043    form = await C
-000021b0: 7265 6174 6541 6363 6f75 6e74 466f 726d  reateAccountForm
-000021c0: 2e66 726f 6d5f 666f 726d 6461 7461 2872  .from_formdata(r
-000021d0: 6571 7565 7374 290a 2020 2020 2020 2020  equest).        
-000021e0: 0a20 2020 2020 2020 2020 2020 2023 2076  .            # v
-000021f0: 616c 6964 6174 6520 666f 726d 0a20 2020  alidate form.   
-00002200: 2020 2020 2020 2020 2069 6620 6177 6169           if awai
-00002210: 7420 666f 726d 2e76 616c 6964 6174 655f  t form.validate_
-00002220: 6f6e 5f73 7562 6d69 7428 293a 0a20 2020  on_submit():.   
-00002230: 2020 2020 2020 2020 2020 2020 2023 2054               # T
-00002240: 4f44 4f3a 2053 6176 6520 6163 636f 756e  ODO: Save accoun
-00002250: 7420 6372 6564 656e 7469 616c 7320 6265  t credentials be
-00002260: 666f 7265 2072 6574 7572 6e69 6e67 2072  fore returning r
-00002270: 6564 6972 6563 7420 7265 7370 6f6e 7365  edirect response
-00002280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002290: 2072 6574 7572 6e20 5265 6469 7265 6374   return Redirect
-000022a0: 5265 7370 6f6e 7365 2875 726c 3d27 2f27  Response(url='/'
-000022b0: 2c20 7374 6174 7573 5f63 6f64 653d 3330  , status_code=30
-000022c0: 3329 0a20 2020 2020 2020 200a 2020 2020  3).        .    
-000022d0: 2020 2020 2020 2020 2320 6765 6e65 7261          # genera
-000022e0: 7465 2068 746d 6c0a 2020 2020 2020 2020  te html.        
-000022f0: 2020 2020 6874 6d6c 203d 2074 656d 706c      html = templ
-00002300: 6174 652e 7265 6e64 6572 2866 6f72 6d3d  ate.render(form=
-00002310: 666f 726d 290a 2020 2020 2020 2020 0a20  form).        . 
-00002320: 2020 2020 2020 2020 2020 2023 2072 6574             # ret
-00002330: 7572 6e20 7265 7370 6f6e 7365 0a20 2020  urn response.   
-00002340: 2020 2020 2020 2020 2073 7461 7475 735f           status_
-00002350: 636f 6465 203d 2034 3232 2069 6620 666f  code = 422 if fo
-00002360: 726d 2e65 7272 6f72 7320 656c 7365 2032  rm.errors else 2
-00002370: 3030 0a20 2020 2020 2020 2020 2020 2072  00.            r
-00002380: 6574 7572 6e20 4854 4d4c 5265 7370 6f6e  eturn HTMLRespon
-00002390: 7365 2868 746d 6c2c 2073 7461 7475 735f  se(html, status_
-000023a0: 636f 6465 3d73 7461 7475 735f 636f 6465  code=status_code
-000023b0: 290a 2020 2020 2020 2020 6060 600a 2020  ).        ```.  
-000023c0: 2020 2020 2020 0a20 2020 2020 2020 2023        .        #
-000023d0: 2323 2041 7379 6e63 2043 7573 746f 6d20  ## Async Custom 
-000023e0: 5661 6c69 6461 746f 7273 0a20 2020 2020  Validators.     
-000023f0: 2020 200a 2020 2020 2020 2020 5468 6520     .        The 
-00002400: 6053 7461 726c 6574 7465 466f 726d 6020  `StarletteForm` 
-00002410: 636c 6173 7320 616c 6c6f 7773 2079 6f75  class allows you
-00002420: 2074 6f20 696d 706c 656d 656e 7420 6173   to implement as
-00002430: 796e 6368 726f 6e6f 7573 205b 5754 466f  ynchronous [WTFo
-00002440: 726d 732d 6c69 6b65 2063 7573 746f 6d20  rms-like custom 
-00002450: 7661 6c69 6461 746f 7273 5d28 6874 7470  validators](http
-00002460: 733a 2f2f 7774 666f 726d 732e 7265 6164  s://wtforms.read
-00002470: 7468 6564 6f63 732e 696f 2f65 6e2f 7374  thedocs.io/en/st
-00002480: 6162 6c65 2f76 616c 6964 6174 6f72 732f  able/validators/
-00002490: 2363 7573 746f 6d2d 7661 6c69 6461 746f  #custom-validato
-000024a0: 7273 2920 6279 2061 6464 696e 6720 6061  rs) by adding `a
-000024b0: 7379 6e63 5f76 616c 6964 6174 655f 7b66  sync_validate_{f
-000024c0: 6965 6c64 6e61 6d65 7d60 206d 6574 686f  ieldname}` metho
-000024d0: 6473 2074 6f20 796f 7572 2066 6f72 6d20  ds to your form 
-000024e0: 636c 6173 7365 733a 0a20 2020 2020 2020  classes:.       
-000024f0: 200a 2020 2020 2020 2020 6060 6070 7974   .        ```pyt
-00002500: 686f 6e0a 2020 2020 2020 2020 6672 6f6d  hon.        from
-00002510: 2073 7461 726c 6574 7465 5f77 7466 2069   starlette_wtf i
-00002520: 6d70 6f72 7420 5374 6172 6c65 7474 6546  mport StarletteF
-00002530: 6f72 6d0a 2020 2020 2020 2020 6672 6f6d  orm.        from
-00002540: 2077 7466 6f72 6d73 2069 6d70 6f72 7420   wtforms import 
-00002550: 5465 7874 4669 656c 642c 2050 6173 7377  TextField, Passw
-00002560: 6f72 6446 6965 6c64 2c20 5661 6c69 6461  ordField, Valida
-00002570: 7469 6f6e 4572 726f 720a 2020 2020 2020  tionError.      
-00002580: 2020 6672 6f6d 2077 7466 6f72 6d73 2e76    from wtforms.v
-00002590: 616c 6964 6174 6f72 7320 696d 706f 7274  alidators import
-000025a0: 2044 6174 6152 6571 7569 7265 642c 2045   DataRequired, E
-000025b0: 6d61 696c 2c20 4571 7561 6c54 6f0a 2020  mail, EqualTo.  
-000025c0: 2020 2020 2020 0a20 2020 2020 2020 200a        .        .
-000025d0: 2020 2020 2020 2020 636c 6173 7320 4372          class Cr
-000025e0: 6561 7465 4163 636f 756e 7446 6f72 6d28  eateAccountForm(
-000025f0: 5374 6172 6c65 7474 6546 6f72 6d29 3a0a  StarletteForm):.
-00002600: 2020 2020 2020 2020 2020 2020 656d 6169              emai
-00002610: 6c20 3d20 5465 7874 4669 656c 6428 0a20  l = TextField(. 
-00002620: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00002630: 456d 6169 6c20 6164 6472 6573 7327 2c0a  Email address',.
-00002640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002650: 7661 6c69 6461 746f 7273 3d5b 0a20 2020  validators=[.   
-00002660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002670: 2044 6174 6152 6571 7569 7265 6428 2750   DataRequired('P
-00002680: 6c65 6173 6520 656e 7465 7220 796f 7572  lease enter your
-00002690: 2065 6d61 696c 2061 6464 7265 7373 2729   email address')
-000026a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000026b0: 2020 2020 2020 456d 6169 6c28 290a 2020        Email().  
-000026c0: 2020 2020 2020 2020 2020 2020 2020 5d0a                ].
-000026d0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000026e0: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-000026f0: 2020 2070 6173 7377 6f72 6420 3d20 5061     password = Pa
-00002700: 7373 776f 7264 4669 656c 6428 0a20 2020  sswordField(.   
-00002710: 2020 2020 2020 2020 2020 2020 2027 5061               'Pa
-00002720: 7373 776f 7264 272c 0a20 2020 2020 2020  ssword',.       
-00002730: 2020 2020 2020 2020 2077 6964 6765 743d           widget=
-00002740: 5061 7373 776f 7264 496e 7075 7428 6869  PasswordInput(hi
-00002750: 6465 5f76 616c 7565 3d46 616c 7365 292c  de_value=False),
-00002760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002770: 2076 616c 6964 6174 6f72 733d 5b0a 2020   validators=[.  
-00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002790: 2020 4461 7461 5265 7175 6972 6564 2827    DataRequired('
-000027a0: 506c 6561 7365 2065 6e74 6572 2079 6f75  Please enter you
-000027b0: 7220 7061 7373 776f 7264 2729 2c0a 2020  r password'),.  
-000027c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027d0: 2020 4571 7561 6c54 6f28 2770 6173 7377    EqualTo('passw
-000027e0: 6f72 645f 636f 6e66 6972 6d27 2c20 6d65  ord_confirm', me
-000027f0: 7373 6167 653d 2750 6173 7377 6f72 6473  ssage='Passwords
-00002800: 206d 7573 7420 6d61 7463 6827 290a 2020   must match').  
-00002810: 2020 2020 2020 2020 2020 2020 2020 5d0a                ].
-00002820: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00002830: 2020 2020 2020 0a20 2020 2020 2020 2020        .         
-00002840: 2020 2070 6173 7377 6f72 645f 636f 6e66     password_conf
-00002850: 6972 6d20 3d20 5061 7373 776f 7264 4669  irm = PasswordFi
-00002860: 656c 6428 0a20 2020 2020 2020 2020 2020  eld(.           
-00002870: 2020 2020 2027 436f 6e66 6972 6d20 5061       'Confirm Pa
-00002880: 7373 776f 7264 272c 0a20 2020 2020 2020  ssword',.       
-00002890: 2020 2020 2020 2020 2077 6964 6765 743d           widget=
-000028a0: 5061 7373 776f 7264 496e 7075 7428 6869  PasswordInput(hi
-000028b0: 6465 5f76 616c 7565 3d46 616c 7365 292c  de_value=False),
-000028c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000028d0: 2076 616c 6964 6174 6f72 733d 5b0a 2020   validators=[.  
-000028e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028f0: 2020 4461 7461 5265 7175 6972 6564 2827    DataRequired('
-00002900: 506c 6561 7365 2063 6f6e 6669 726d 2079  Please confirm y
-00002910: 6f75 7220 7061 7373 776f 7264 2729 0a20  our password'). 
-00002920: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-00002930: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00002940: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00002950: 2020 2020 6173 796e 6320 6465 6620 6173      async def as
-00002960: 796e 635f 7661 6c69 6461 7465 5f65 6d61  ync_validate_ema
-00002970: 696c 2873 656c 662c 2066 6965 6c64 293a  il(self, field):
-00002980: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002990: 2022 2222 4173 796e 6368 726f 6e6f 7573   """Asynchronous
-000029a0: 2076 616c 6964 6174 6f72 2074 6f20 6368   validator to ch
-000029b0: 6563 6b20 6966 2065 6d61 696c 2069 7320  eck if email is 
-000029c0: 616c 7265 6164 7920 696e 2d75 7365 0a20  already in-use. 
-000029d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000029e0: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-000029f0: 2020 2023 2072 6570 6c61 6365 2074 6869     # replace thi
-00002a00: 7320 7769 7468 2079 6f75 7220 6f77 6e20  s with your own 
-00002a10: 636f 6465 0a20 2020 2020 2020 2020 2020  code.           
-00002a20: 2020 2020 2069 6620 6177 6169 7420 6d61       if await ma
-00002a30: 6b65 5f64 6174 6162 6173 655f 7265 7175  ke_database_requ
-00002a40: 6573 745f 6865 7265 2829 3a0a 2020 2020  est_here():.    
-00002a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a60: 7261 6973 6520 5661 6c69 6461 7469 6f6e  raise Validation
-00002a70: 4572 726f 7228 2745 6d61 696c 2069 7320  Error('Email is 
-00002a80: 616c 7265 6164 7920 696e 2075 7365 2729  already in use')
-00002a90: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00002aa0: 2020 2020 200a 2020 2020 2020 2020 2323       .        ##
-00002ab0: 2043 5352 4620 5072 6f74 6563 7469 6f6e   CSRF Protection
-00002ac0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00002ad0: 2020 496e 206f 7264 6572 2074 6f20 6164    In order to ad
-00002ae0: 6420 4353 5246 2070 726f 7465 6374 696f  d CSRF protectio
-00002af0: 6e20 746f 2079 6f75 7220 6170 702c 2066  n to your app, f
-00002b00: 6972 7374 2079 6f75 206d 7573 7420 656e  irst you must en
-00002b10: 7375 7265 2074 6861 7420 5374 6172 6c65  sure that Starle
-00002b20: 7474 6527 7320 6053 6573 7369 6f6e 4d69  tte's `SessionMi
-00002b30: 6464 6c65 7761 7265 6020 6973 2065 6e61  ddleware` is ena
-00002b40: 626c 6564 2c20 7365 636f 6e64 2079 6f75  bled, second you
-00002b50: 206d 7573 7420 636f 6e66 6967 7572 6520   must configure 
-00002b60: 5374 6172 6c65 7474 652d 5754 4620 7573  Starlette-WTF us
-00002b70: 696e 6720 6043 5352 4650 726f 7465 6374  ing `CSRFProtect
-00002b80: 4d69 6464 6c65 7761 7265 602c 2074 6869  Middleware`, thi
-00002b90: 7264 2079 6f75 206d 7573 7420 7573 6520  rd you must use 
-00002ba0: 7468 6520 6040 6373 7266 5f70 726f 7465  the `@csrf_prote
-00002bb0: 6374 6020 6465 636f 7261 746f 7220 746f  ct` decorator to
-00002bc0: 2070 726f 7465 6374 2069 6e64 6976 6964   protect individ
-00002bd0: 7561 6c20 656e 6470 6f69 6e74 732c 2061  ual endpoints, a
-00002be0: 6e64 2066 6f75 7274 6820 796f 7520 6d75  nd fourth you mu
-00002bf0: 7374 2061 6464 2074 6865 2043 5352 4620  st add the CSRF 
-00002c00: 746f 6b65 6e20 746f 2079 6f75 7220 4854  token to your HT
-00002c10: 4d4c 2066 6f72 6d73 206f 7220 4a61 7661  ML forms or Java
-00002c20: 5363 7269 7074 2072 6571 7565 7374 732e  Script requests.
-00002c30: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00002c40: 2020 2323 2320 5365 7475 700a 2020 2020    ### Setup.    
-00002c50: 2020 2020 0a20 2020 2020 2020 2054 6f20      .        To 
-00002c60: 656e 6162 6c65 2043 5352 4620 7072 6f74  enable CSRF prot
-00002c70: 6563 7469 6f6e 2066 6f72 2079 6f75 7220  ection for your 
-00002c80: 6170 702c 2066 6972 7374 2079 6f75 206d  app, first you m
-00002c90: 7573 7420 656e 7375 7265 2074 6861 7420  ust ensure that 
-00002ca0: 5374 6172 6c65 7474 6527 7320 6053 6573  Starlette's `Ses
-00002cb0: 7369 6f6e 4d69 6464 6c65 7761 7265 6020  sionMiddleware` 
-00002cc0: 6973 2065 6e61 626c 6564 2c20 616e 6420  is enabled, and 
-00002cd0: 7365 636f 6e64 2079 6f75 206d 7573 7420  second you must 
-00002ce0: 636f 6e66 6967 7572 6520 5374 6172 6c65  configure Starle
-00002cf0: 7474 652d 5754 4620 7573 696e 6720 6043  tte-WTF using `C
-00002d00: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002d10: 7761 7265 602e 0a20 2020 2020 2020 200a  ware`..        .
-00002d20: 2020 2020 2020 2020 6060 6070 7974 686f          ```pytho
-00002d30: 6e0a 2020 2020 2020 2020 6672 6f6d 2073  n.        from s
-00002d40: 7461 726c 6574 7465 2e61 7070 6c69 6361  tarlette.applica
-00002d50: 7469 6f6e 7320 696d 706f 7274 2053 7461  tions import Sta
-00002d60: 726c 6574 7465 0a20 2020 2020 2020 2066  rlette.        f
-00002d70: 726f 6d20 7374 6172 6c65 7474 652e 6d69  rom starlette.mi
-00002d80: 6464 6c65 7761 7265 2069 6d70 6f72 7420  ddleware import 
-00002d90: 4d69 6464 6c65 7761 7265 0a20 2020 2020  Middleware.     
-00002da0: 2020 2066 726f 6d20 7374 6172 6c65 7474     from starlett
-00002db0: 652e 6d69 6464 6c65 7761 7265 2e73 6573  e.middleware.ses
-00002dc0: 7369 6f6e 7320 696d 706f 7274 2053 6573  sions import Ses
-00002dd0: 7369 6f6e 4d69 6464 6c65 7761 7265 0a20  sionMiddleware. 
-00002de0: 2020 2020 2020 2066 726f 6d20 7374 6172         from star
-00002df0: 6c65 7474 655f 7774 6620 696d 706f 7274  lette_wtf import
-00002e00: 2043 5352 4650 726f 7465 6374 4d69 6464   CSRFProtectMidd
-00002e10: 6c65 7761 7265 0a20 2020 2020 2020 200a  leware.        .
-00002e20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00002e30: 2061 7070 203d 2053 7461 726c 6574 7465   app = Starlette
-00002e40: 286d 6964 646c 6577 6172 653d 5b0a 2020  (middleware=[.  
-00002e50: 2020 2020 2020 2020 2020 4d69 6464 6c65            Middle
-00002e60: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
-00002e70: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
-00002e80: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
-00002e90: 312a 2a2a 2729 2c0a 2020 2020 2020 2020  1***'),.        
-00002ea0: 2020 2020 4d69 6464 6c65 7761 7265 2843      Middleware(C
-00002eb0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002ec0: 7761 7265 2c20 6373 7266 5f73 6563 7265  ware, csrf_secre
-00002ed0: 743d 272a 2a2a 5245 504c 4143 454d 4532  t='***REPLACEME2
-00002ee0: 2a2a 2a27 290a 2020 2020 2020 2020 5d29  ***').        ])
-00002ef0: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00002f00: 2020 2020 200a 2020 2020 2020 2020 2323       .        ##
-00002f10: 2320 5072 6f74 6563 7420 5669 6577 730a  # Protect Views.
-00002f20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00002f30: 204f 6e63 6520 5374 6172 6c65 7474 652d   Once Starlette-
-00002f40: 5754 4620 6861 7320 6265 656e 2063 6f6e  WTF has been con
-00002f50: 6669 6775 7265 6420 7573 696e 6720 6043  figured using `C
-00002f60: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00002f70: 7761 7265 6020 796f 7520 6361 6e20 656e  ware` you can en
-00002f80: 6162 6c65 2043 5352 4620 7072 6f74 6563  able CSRF protec
-00002f90: 7469 6f6e 2066 6f72 2069 6e64 6976 6964  tion for individ
-00002fa0: 7561 6c20 656e 6470 6f69 6e74 7320 7573  ual endpoints us
-00002fb0: 696e 6720 7468 6520 6040 6373 7266 5f70  ing the `@csrf_p
-00002fc0: 726f 7465 6374 6020 6465 636f 7261 746f  rotect` decorato
-00002fd0: 722e 2054 6865 2060 4063 7372 665f 7072  r. The `@csrf_pr
-00002fe0: 6f74 6563 7460 2064 6563 6f72 6174 6f72  otect` decorator
-00002ff0: 2077 696c 6c20 6175 746f 6d61 7469 6361   will automatica
-00003000: 6c6c 7920 6c6f 6f6b 2066 6f72 2060 6373  lly look for `cs
-00003010: 7266 5f74 6f6b 656e 6020 696e 2074 6865  rf_token` in the
-00003020: 2066 6f72 6d20 6461 7461 206f 7220 696e   form data or in
-00003030: 2074 6865 2072 6571 7565 7374 2068 6561   the request hea
-00003040: 6465 7273 2028 6058 2d43 5352 4654 6f6b  ders (`X-CSRFTok
-00003050: 656e 6029 2061 6e64 2069 7420 7769 6c6c  en`) and it will
-00003060: 2072 6169 7365 2061 6e20 6048 5454 5045   raise an `HTTPE
-00003070: 7863 6570 7469 6f6e 6020 6966 2074 6865  xception` if the
-00003080: 2074 6f6b 656e 2069 7320 6d69 7373 696e   token is missin
-00003090: 6720 6f72 2069 6e76 616c 6964 2e20 4353  g or invalid. CS
-000030a0: 5246 2074 6f6b 656e 2076 616c 6964 6174  RF token validat
-000030b0: 696f 6e20 7769 6c6c 206f 6e6c 7920 6265  ion will only be
-000030c0: 2070 6572 666f 726d 6564 206f 6e20 7375   performed on su
-000030d0: 626d 6973 7369 6f6e 2072 6571 7565 7374  bmission request
-000030e0: 7320 2850 4f53 542c 2050 5554 2c20 5041  s (POST, PUT, PA
-000030f0: 5443 482c 2044 454c 4554 4529 2e20 4e6f  TCH, DELETE). No
-00003100: 7465 2074 6861 7420 7468 6520 6040 6373  te that the `@cs
-00003110: 7266 5f70 726f 7465 6374 6020 6d75 7374  rf_protect` must
-00003120: 2072 756e 2061 6674 6572 2060 4061 7070   run after `@app
-00003130: 2e72 6f75 7465 2829 603a 0a20 2020 2020  .route()`:.     
-00003140: 2020 200a 2020 2020 2020 2020 6060 6070     .        ```p
-00003150: 7974 686f 6e0a 2020 2020 2020 2020 6672  ython.        fr
-00003160: 6f6d 2073 7461 726c 6574 7465 2e72 6573  om starlette.res
-00003170: 706f 6e73 6573 2069 6d70 6f72 7420 506c  ponses import Pl
-00003180: 6169 6e54 6578 7452 6573 706f 6e73 650a  ainTextResponse.
-00003190: 2020 2020 2020 2020 6672 6f6d 2073 7461          from sta
-000031a0: 726c 6574 7465 5f77 7466 2069 6d70 6f72  rlette_wtf impor
-000031b0: 7420 6373 7266 5f70 726f 7465 6374 0a20  t csrf_protect. 
-000031c0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-000031d0: 0a20 2020 2020 2020 2040 6170 702e 726f  .        @app.ro
-000031e0: 7574 6528 272f 666f 726d 2d68 616e 646c  ute('/form-handl
-000031f0: 6572 272c 206d 6574 686f 6473 3d5b 2747  er', methods=['G
-00003200: 4554 272c 2027 504f 5354 275d 290a 2020  ET', 'POST']).  
-00003210: 2020 2020 2020 4063 7372 665f 7072 6f74        @csrf_prot
-00003220: 6563 740a 2020 2020 2020 2020 6173 796e  ect.        asyn
-00003230: 6320 6465 6620 666f 726d 5f68 616e 646c  c def form_handl
-00003240: 6572 2872 6571 7565 7374 293a 0a20 2020  er(request):.   
-00003250: 2020 2020 2020 2020 2022 2222 4745 547c           """GET|
-00003260: 504f 5354 202f 666f 726d 2d68 616e 646c  POST /form-handl
-00003270: 6572 3a20 466f 726d 2068 616e 646c 6572  er: Form handler
-00003280: 0a20 2020 2020 2020 2020 2020 2022 2222  .            """
-00003290: 0a20 2020 2020 2020 2020 2020 2023 2074  .            # t
-000032a0: 6869 7320 636f 6465 2077 6f6e 2774 2072  his code won't r
-000032b0: 756e 2075 6e6c 6573 7320 7468 6520 4353  un unless the CS
-000032c0: 5246 2074 6f6b 656e 2068 6173 2062 6565  RF token has bee
-000032d0: 6e20 7661 6c69 6461 7465 640a 2020 2020  n validated.    
-000032e0: 2020 2020 2020 2020 7265 7475 726e 2050          return P
-000032f0: 6c61 696e 5465 7874 5265 7370 6f6e 7365  lainTextResponse
-00003300: 2829 0a20 2020 2020 2020 2060 6060 0a20  ().        ```. 
-00003310: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003320: 5468 6520 6040 6373 7266 5f70 726f 7465  The `@csrf_prote
-00003330: 6374 6020 6465 636f 7261 746f 7220 6361  ct` decorator ca
-00003340: 6e20 616c 736f 2062 6520 7573 6564 2077  n also be used w
-00003350: 6974 6820 636c 6173 732d 6261 7365 6420  ith class-based 
-00003360: 7669 6577 7320 2865 2e67 2e20 5b48 5454  views (e.g. [HTT
-00003370: 5045 6e64 706f 696e 745d 2868 7474 7073  PEndpoint](https
-00003380: 3a2f 2f77 7777 2e73 7461 726c 6574 7465  ://www.starlette
-00003390: 2e69 6f2f 656e 6470 6f69 6e74 732f 2929  .io/endpoints/))
-000033a0: 3a0a 2020 2020 2020 2020 6060 6070 7974  :.        ```pyt
-000033b0: 686f 6e0a 2020 2020 2020 2020 6672 6f6d  hon.        from
-000033c0: 2073 7461 726c 6574 7465 2e65 6e64 706f   starlette.endpo
-000033d0: 696e 7473 2069 6d70 6f72 7420 4854 5450  ints import HTTP
-000033e0: 456e 6470 6f69 6e74 0a20 2020 2020 2020  Endpoint.       
-000033f0: 2066 726f 6d20 7374 6172 6c65 7474 652e   from starlette.
-00003400: 7265 7370 6f6e 7365 7320 696d 706f 7274  responses import
-00003410: 2050 6c61 696e 5465 7874 5265 7370 6f6e   PlainTextRespon
-00003420: 7365 0a20 2020 2020 2020 2066 726f 6d20  se.        from 
-00003430: 7374 6172 6c65 7474 655f 7774 6620 696d  starlette_wtf im
-00003440: 706f 7274 2063 7372 665f 7072 6f74 6563  port csrf_protec
-00003450: 740a 2020 2020 2020 2020 0a20 2020 2020  t.        .     
-00003460: 2020 200a 2020 2020 2020 2020 4063 7372     .        @csr
-00003470: 665f 7072 6f74 6563 740a 2020 2020 2020  f_protect.      
-00003480: 2020 636c 6173 7320 456e 6470 6f69 6e74    class Endpoint
-00003490: 2848 5454 5045 6e64 706f 696e 7429 3a0a  (HTTPEndpoint):.
-000034a0: 2020 2020 2020 2020 2020 2020 6173 796e              asyn
-000034b0: 6320 6465 6620 6765 7428 7365 6c66 2c20  c def get(self, 
-000034c0: 7265 7175 6573 7429 3a0a 2020 2020 2020  request):.      
-000034d0: 2020 2020 2020 2020 2020 2320 7468 6973            # this
-000034e0: 2063 6f64 6520 7769 6c6c 2072 756e 2077   code will run w
-000034f0: 6974 686f 7574 2061 2043 5352 4620 6368  ithout a CSRF ch
-00003500: 6563 6b0a 2020 2020 2020 2020 2020 2020  eck.            
-00003510: 2020 2020 7265 7475 726e 2050 6c61 696e      return Plain
-00003520: 5465 7874 5265 7370 6f6e 7365 2829 0a20  TextResponse(). 
-00003530: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003540: 2020 2020 6173 796e 6320 6465 6620 706f      async def po
-00003550: 7374 2873 656c 662c 2072 6571 7565 7374  st(self, request
-00003560: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00003570: 2020 2023 2074 6869 7320 636f 6465 2077     # this code w
-00003580: 6f6e 2774 2072 756e 2075 6e6c 6573 7320  on't run unless 
-00003590: 7468 6520 4353 5246 2074 6f6b 656e 2068  the CSRF token h
-000035a0: 6173 2062 6565 6e20 7661 6c69 6461 7465  as been validate
-000035b0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-000035c0: 2020 7265 7475 726e 2050 6c61 696e 5465    return PlainTe
-000035d0: 7874 5265 7370 6f6e 7365 2829 0a20 2020  xtResponse().   
-000035e0: 2020 2020 2060 6060 0a20 2020 2020 2020       ```.       
-000035f0: 200a 2020 2020 2020 2020 5468 6520 6040   .        The `@
-00003600: 6373 7266 5f70 726f 7465 6374 6020 6465  csrf_protect` de
-00003610: 636f 7261 746f 7220 6361 6e20 616c 736f  corator can also
-00003620: 2062 6520 7573 6564 2077 6974 6820 626f   be used with bo
-00003630: 756e 6420 6d65 7468 6f64 7320 6174 7461  und methods atta
-00003640: 6368 6564 2074 6f20 636c 6173 732d 6261  ched to class-ba
-00003650: 7365 6420 7669 6577 733a 0a20 2020 2020  sed views:.     
-00003660: 2020 2060 6060 7079 7468 6f6e 0a20 2020     ```python.   
-00003670: 2020 2020 2066 726f 6d20 7374 6172 6c65       from starle
-00003680: 7474 652e 656e 6470 6f69 6e74 7320 696d  tte.endpoints im
-00003690: 706f 7274 2048 5454 5045 6e64 706f 696e  port HTTPEndpoin
-000036a0: 740a 2020 2020 2020 2020 6672 6f6d 2073  t.        from s
-000036b0: 7461 726c 6574 7465 2e72 6573 706f 6e73  tarlette.respons
-000036c0: 6573 2069 6d70 6f72 7420 506c 6169 6e54  es import PlainT
-000036d0: 6578 7452 6573 706f 6e73 650a 2020 2020  extResponse.    
-000036e0: 2020 2020 6672 6f6d 2073 7461 726c 6574      from starlet
-000036f0: 7465 5f77 7466 2069 6d70 6f72 7420 6373  te_wtf import cs
-00003700: 7266 5f70 726f 7465 6374 0a20 2020 2020  rf_protect.     
-00003710: 2020 200a 2020 2020 2020 2020 0a20 2020     .        .   
-00003720: 2020 2020 2063 6c61 7373 2045 6e64 706f       class Endpo
-00003730: 696e 7428 4854 5450 456e 6470 6f69 6e74  int(HTTPEndpoint
-00003740: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
-00003750: 7379 6e63 2064 6566 2067 6574 2873 656c  sync def get(sel
-00003760: 662c 2072 6571 7565 7374 293a 0a20 2020  f, request):.   
-00003770: 2020 2020 2020 2020 2020 2020 2023 2074               # t
-00003780: 6869 7320 636f 6465 2077 696c 6c20 7275  his code will ru
-00003790: 6e20 7769 7468 6f75 7420 6120 4353 5246  n without a CSRF
-000037a0: 2063 6865 636b 0a20 2020 2020 2020 2020   check.         
-000037b0: 2020 2020 2020 2072 6574 7572 6e20 506c         return Pl
-000037c0: 6169 6e54 6578 7452 6573 706f 6e73 6528  ainTextResponse(
-000037d0: 290a 2020 2020 2020 2020 0a20 2020 2020  ).        .     
-000037e0: 2020 2020 2020 2040 6373 7266 5f70 726f         @csrf_pro
-000037f0: 7465 6374 0a20 2020 2020 2020 2020 2020  tect.           
-00003800: 2061 7379 6e63 2064 6566 2070 6f73 7428   async def post(
-00003810: 7365 6c66 2c20 7265 7175 6573 7429 3a0a  self, request):.
-00003820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003830: 2320 7468 6973 2063 6f64 6520 776f 6e27  # this code won'
-00003840: 7420 7275 6e20 756e 6c65 7373 2074 6865  t run unless the
-00003850: 2043 5352 4620 746f 6b65 6e20 6861 7320   CSRF token has 
-00003860: 6265 656e 2076 616c 6964 6174 6564 0a20  been validated. 
-00003870: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00003880: 6574 7572 6e20 506c 6169 6e54 6578 7452  eturn PlainTextR
-00003890: 6573 706f 6e73 6528 290a 2020 2020 2020  esponse().      
-000038a0: 2020 6060 600a 2020 2020 2020 2020 0a20    ```.        . 
-000038b0: 2020 2020 2020 2023 2323 2048 544d 4c20         ### HTML 
-000038c0: 466f 726d 730a 2020 2020 2020 2020 0a20  Forms.        . 
-000038d0: 2020 2020 2020 2057 6865 6e20 7573 696e         When usin
-000038e0: 6720 6053 7461 726c 6574 7465 466f 726d  g `StarletteForm
-000038f0: 6020 796f 7520 6361 6e20 7265 6e64 6572  ` you can render
-00003900: 2074 6865 2066 6f72 6d27 7320 4353 5246   the form's CSRF
-00003910: 2074 6f6b 656e 2066 6965 6c64 206c 696b   token field lik
-00003920: 6520 7468 6973 3a0a 2020 2020 2020 2020  e this:.        
-00003930: 0a20 2020 2020 2020 2060 6060 6874 6d6c  .        ```html
-00003940: 0a20 2020 2020 2020 203c 666f 726d 206d  .        <form m
-00003950: 6574 686f 643d 2270 6f73 7422 3e0a 2020  ethod="post">.  
-00003960: 2020 2020 2020 2020 7b7b 2066 6f72 6d2e          {{ form.
-00003970: 6373 7266 5f74 6f6b 656e 207d 7d0a 2020  csrf_token }}.  
-00003980: 2020 2020 2020 3c2f 666f 726d 3e0a 2020        </form>.  
-00003990: 2020 2020 2020 6060 600a 2020 2020 2020        ```.      
-000039a0: 2020 0a20 2020 2020 2020 2023 2323 204a    .        ### J
-000039b0: 6176 6153 6372 6970 7420 5265 7175 6573  avaScript Reques
-000039c0: 7473 0a20 2020 2020 2020 200a 2020 2020  ts.        .    
-000039d0: 2020 2020 5768 656e 2073 656e 6469 6e67      When sending
-000039e0: 2061 6e20 414a 4158 2072 6571 7565 7374   an AJAX request
-000039f0: 2c20 6164 6420 7468 6520 6058 2d43 5352  , add the `X-CSR
-00003a00: 4654 6f6b 656e 6020 6865 6164 6572 2074  FToken` header t
-00003a10: 6f20 616c 6c6f 7720 5374 6172 6c65 7474  o allow Starlett
-00003a20: 652d 5754 4620 746f 2070 6572 666f 726d  e-WTF to perform
-00003a30: 2043 5352 4620 7661 6c69 6461 7469 6f6e   CSRF validation
-00003a40: 2e20 466f 7220 6578 616d 706c 652c 2069  . For example, i
-00003a50: 6e20 6a51 7565 7279 2079 6f75 2063 616e  n jQuery you can
-00003a60: 2063 6f6e 6669 6775 7265 2061 6c6c 2072   configure all r
-00003a70: 6571 7565 7374 7320 746f 2073 656e 6420  equests to send 
-00003a80: 7468 6520 746f 6b65 6e3a 0a20 2020 2020  the token:.     
-00003a90: 2020 200a 2020 2020 2020 2020 6060 6068     .        ```h
-00003aa0: 746d 6c0a 2020 2020 2020 2020 3c73 6372  tml.        <scr
-00003ab0: 6970 7420 7479 7065 3d22 7465 7874 2f6a  ipt type="text/j
-00003ac0: 6176 6173 6372 6970 7422 3e0a 2020 2020  avascript">.    
-00003ad0: 2020 2020 2020 7661 7220 6373 7266 5f74        var csrf_t
-00003ae0: 6f6b 656e 203d 2022 7b7b 2063 7372 665f  oken = "{{ csrf_
-00003af0: 746f 6b65 6e28 7265 7175 6573 7429 207d  token(request) }
-00003b00: 7d22 3b0a 2020 2020 2020 2020 0a20 2020  }";.        .   
-00003b10: 2020 2020 2020 2024 2e61 6a61 7853 6574         $.ajaxSet
-00003b20: 7570 287b 0a20 2020 2020 2020 2020 2020  up({.           
-00003b30: 2062 6566 6f72 6553 656e 643a 2066 756e   beforeSend: fun
-00003b40: 6374 696f 6e28 7868 722c 2073 6574 7469  ction(xhr, setti
-00003b50: 6e67 7329 207b 0a20 2020 2020 2020 2020  ngs) {.         
-00003b60: 2020 2020 2069 6620 2821 2f5e 2847 4554       if (!/^(GET
-00003b70: 7c48 4541 447c 4f50 5449 4f4e 537c 5452  |HEAD|OPTIONS|TR
-00003b80: 4143 4529 242f 692e 7465 7374 2873 6574  ACE)$/i.test(set
-00003b90: 7469 6e67 732e 7479 7065 2920 2626 2021  tings.type) && !
-00003ba0: 7468 6973 2e63 726f 7373 446f 6d61 696e  this.crossDomain
-00003bb0: 2920 7b0a 2020 2020 2020 2020 2020 2020  ) {.            
-00003bc0: 2020 2020 7868 722e 7365 7452 6571 7565      xhr.setReque
-00003bd0: 7374 4865 6164 6572 2822 582d 4353 5246  stHeader("X-CSRF
-00003be0: 546f 6b65 6e22 2c20 6373 7266 5f74 6f6b  Token", csrf_tok
-00003bf0: 656e 293b 0a20 2020 2020 2020 2020 2020  en);.           
-00003c00: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
-00003c10: 207d 0a20 2020 2020 2020 2020 207d 293b   }.          });
-00003c20: 0a20 2020 2020 2020 203c 2f73 6372 6970  .        </scrip
-00003c30: 743e 0a20 2020 2020 2020 2060 6060 0a20  t>.        ```. 
-00003c40: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003c50: 2323 2320 4469 7361 626c 6520 696e 2055  ### Disable in U
-00003c60: 6e69 7420 5465 7374 730a 2020 2020 2020  nit Tests.      
-00003c70: 2020 0a20 2020 2020 2020 2054 6f20 6469    .        To di
-00003c80: 7361 626c 6520 4353 5246 2070 726f 7465  sable CSRF prote
-00003c90: 6374 696f 6e20 696e 2075 6e69 7420 7465  ction in unit te
-00003ca0: 7374 7320 796f 7520 6361 6e20 746f 6767  sts you can togg
-00003cb0: 6c65 2074 6865 2060 656e 6162 6c65 6460  le the `enabled`
-00003cc0: 2061 7474 7269 6275 7465 2069 6e20 6043   attribute in `C
-00003cd0: 5352 4650 726f 7465 6374 696f 6e4d 6964  SRFProtectionMid
-00003ce0: 646c 6577 6172 6560 3a0a 2020 2020 2020  dleware`:.      
-00003cf0: 2020 0a20 2020 2020 2020 2060 6060 7079    .        ```py
-00003d00: 7468 6f6e 0a20 2020 2020 2020 2066 726f  thon.        fro
-00003d10: 6d20 7374 6172 6c65 7474 652e 6170 706c  m starlette.appl
-00003d20: 6963 6174 696f 6e73 2069 6d70 6f72 7420  ications import 
-00003d30: 5374 6172 6c65 7474 650a 2020 2020 2020  Starlette.      
-00003d40: 2020 6672 6f6d 2073 7461 726c 6574 7465    from starlette
-00003d50: 2e63 6f6e 6669 6720 696d 706f 7274 2065  .config import e
-00003d60: 6e76 6972 6f6e 0a20 2020 2020 2020 2066  nviron.        f
-00003d70: 726f 6d20 7374 6172 6c65 7474 652e 6d69  rom starlette.mi
-00003d80: 6464 6c65 7761 7265 2069 6d70 6f72 7420  ddleware import 
-00003d90: 4d69 6464 6c65 7761 7265 0a20 2020 2020  Middleware.     
-00003da0: 2020 2066 726f 6d20 7374 6172 6c65 7474     from starlett
-00003db0: 652e 6d69 6464 6c65 7761 7265 2e73 6573  e.middleware.ses
-00003dc0: 7369 6f6e 7320 696d 706f 7274 2053 6573  sions import Ses
-00003dd0: 7369 6f6e 4d69 6464 6c65 7761 7265 0a20  sionMiddleware. 
-00003de0: 2020 2020 2020 2066 726f 6d20 7374 6172         from star
-00003df0: 6c65 7474 655f 7774 6620 696d 706f 7274  lette_wtf import
-00003e00: 2043 5352 4650 726f 7465 6374 4d69 6464   CSRFProtectMidd
-00003e10: 6c65 7761 7265 0a20 2020 2020 2020 200a  leware.        .
-00003e20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00003e30: 2061 7070 203d 2053 7461 726c 6574 7465   app = Starlette
-00003e40: 286d 6964 646c 6577 6172 653d 5b0a 2020  (middleware=[.  
-00003e50: 2020 2020 2020 2020 2020 4d69 6464 6c65            Middle
-00003e60: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
-00003e70: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
-00003e80: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
-00003e90: 312a 2a2a 2729 2c0a 2020 2020 2020 2020  1***'),.        
-00003ea0: 2020 2020 4d69 6464 6c65 7761 7265 2843      Middleware(C
-00003eb0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
-00003ec0: 7761 7265 2c0a 2020 2020 2020 2020 2020  ware,.          
-00003ed0: 2020 2020 2020 2020 2020 2020 2065 6e61               ena
-00003ee0: 626c 653d 2165 6e76 6972 6f6e 2e67 6574  ble=!environ.get
-00003ef0: 2827 5445 5354 494e 4727 2c20 4661 6c73  ('TESTING', Fals
-00003f00: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
-00003f10: 2020 2020 2020 2020 2020 2063 7372 665f             csrf_
-00003f20: 7365 6372 6574 3d27 2a2a 2a52 4550 4c41  secret='***REPLA
-00003f30: 4345 4d45 322a 2a2a 2729 0a20 2020 2020  CEME2***').     
-00003f40: 2020 205d 290a 2020 2020 2020 2020 6060     ]).        ``
-00003f50: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00003f60: 2020 2023 2323 2043 6f6e 6669 6775 7261     ### Configura
-00003f70: 7469 6f6e 0a20 2020 2020 2020 200a 2020  tion.        .  
-00003f80: 2020 2020 2020 6043 5352 4650 726f 7465        `CSRFProte
-00003f90: 6374 4d69 6464 6c65 7761 7265 6020 6163  ctMiddleware` ac
-00003fa0: 6365 7074 7320 7468 6520 666f 6c6c 6f77  cepts the follow
-00003fb0: 696e 6720 6f70 7469 6f6e 733a 0a20 2020  ing options:.   
-00003fc0: 2020 2020 200a 2020 2020 2020 2020 7c20       .        | 
-00003fd0: 4172 6775 6d65 6e74 2020 2020 2020 2020  Argument        
-00003fe0: 2020 7c20 4465 7363 7269 7074 696f 6e0a    | Description.
-00003ff0: 2020 2020 2020 2020 7c20 2d2d 2d2d 2d2d          | ------
-00004000: 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 7c20 2d2d  ----------- | --
-00004010: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
-00004020: 2020 7c20 656e 6162 6c65 6420 2020 2020    | enabled     
-00004030: 2020 2020 7c20 4966 2074 7275 652c 2065      | If true, e
-00004040: 6e61 626c 6573 2043 5352 4620 7072 6f74  nables CSRF prot
-00004050: 6563 7469 6f6e 2e20 4465 6661 756c 7420  ection. Default 
-00004060: 746f 2054 7275 652e 0a20 2020 2020 2020  to True..       
-00004070: 207c 2063 7372 665f 7365 6372 6574 2020   | csrf_secret  
-00004080: 2020 207c 2054 6865 2043 5352 4620 746f     | The CSRF to
-00004090: 6b65 6e20 7369 676e 696e 6720 6b65 792e  ken signing key.
-000040a0: 0a20 2020 2020 2020 207c 2063 7372 665f  .        | csrf_
-000040b0: 6669 656c 645f 6e61 6d65 207c 2054 6865  field_name | The
-000040c0: 2043 5352 4620 746f 6b65 6e27 7320 6669   CSRF token's fi
-000040d0: 656c 6420 6e61 6d65 2069 6e20 7468 6520  eld name in the 
-000040e0: 7365 7373 696f 6e2e 2044 6566 6175 6c74  session. Default
-000040f0: 7320 746f 2022 6373 7266 5f74 6f6b 656e  s to "csrf_token
-00004100: 220a 2020 2020 2020 2020 7c20 6373 7266  ".        | csrf
-00004110: 5f74 696d 655f 6c69 6d69 7420 7c20 5468  _time_limit | Th
-00004120: 6520 7469 6d65 206c 696d 6974 2066 6f72  e time limit for
-00004130: 2065 6163 6820 7369 676e 6564 2074 6f6b   each signed tok
-00004140: 656e 2069 6e20 7365 636f 6e64 732e 2044  en in seconds. D
-00004150: 6566 6175 6c74 7320 746f 2033 3630 302e  efaults to 3600.
-00004160: 0a20 2020 2020 2020 207c 2063 7372 665f  .        | csrf_
-00004170: 6865 6164 6572 7320 2020 207c 204c 6973  headers    | Lis
-00004180: 7420 6f66 2043 5352 4620 4854 5450 2068  t of CSRF HTTP h
-00004190: 6561 6465 7220 6669 656c 6420 6e61 6d65  eader field name
-000041a0: 732e 2044 6566 6175 6c74 7320 746f 205b  s. Defaults to [
-000041b0: 2258 2d43 5352 4654 6f6b 656e 222c 2022  "X-CSRFToken", "
-000041c0: 582d 4353 5246 2d54 6f6b 656e 225d 0a20  X-CSRF-Token"]. 
-000041d0: 2020 2020 2020 207c 2063 7372 665f 7373         | csrf_ss
-000041e0: 6c5f 7374 7269 6374 207c 2049 6620 656e  l_strict | If en
-000041f0: 6162 6c65 642c 2065 6e73 7572 6573 2073  abled, ensures s
-00004200: 616d 6520 6f72 6967 696e 2070 6f6c 6963  ame origin polic
-00004210: 7920 6f6e 2068 7474 7073 2072 6571 7565  y on https reque
-00004220: 7374 732e 2044 6566 6175 6c74 7320 746f  sts. Defaults to
-00004230: 2054 7275 652e 0a20 2020 2020 2020 200a   True..        .
-00004240: 2020 2020 2020 2020 2323 2044 6576 656c          ## Devel
-00004250: 6f70 6d65 6e74 0a20 2020 2020 2020 200a  opment.        .
-00004260: 2020 2020 2020 2020 2323 2320 4765 7420          ### Get 
-00004270: 7468 6520 636f 6465 0a20 2020 2020 2020  the code.       
-00004280: 200a 2020 2020 2020 2020 5374 6172 6c65   .        Starle
-00004290: 7474 652d 5754 4620 6973 2061 6374 6976  tte-WTF is activ
-000042a0: 656c 7920 6465 7665 6c6f 7065 6420 6f6e  ely developed on
-000042b0: 2047 6974 4875 622e 2059 6f75 2063 616e   GitHub. You can
-000042c0: 2063 6c6f 6e65 2074 6865 2072 6570 6f73   clone the repos
-000042d0: 6974 6f72 7920 7573 696e 6720 6769 743a  itory using git:
-000042e0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-000042f0: 2020 6060 6062 6173 680a 2020 2020 2020    ```bash.      
-00004300: 2020 2420 6769 7420 636c 6f6e 6520 6769    $ git clone gi
-00004310: 7440 6769 7468 7562 2e63 6f6d 3a6d 7569  t@github.com:mui
-00004320: 6373 732f 7374 6172 6c65 7474 652d 7774  css/starlette-wt
-00004330: 662e 6769 740a 2020 2020 2020 2020 6060  f.git.        ``
-00004340: 600a 2020 2020 2020 2020 0a20 2020 2020  `.        .     
-00004350: 2020 204f 6e63 6520 796f 7520 6861 7665     Once you have
-00004360: 2061 2063 6f70 7920 6f66 2074 6865 2073   a copy of the s
-00004370: 6f75 7263 652c 2079 6f75 2063 616e 2069  ource, you can i
-00004380: 6e73 7461 6c6c 2069 7420 696e 746f 2079  nstall it into y
-00004390: 6f75 7220 7369 7465 2d70 6163 6b61 6765  our site-package
-000043a0: 7320 696e 2064 6576 656c 6f70 6d65 6e74  s in development
-000043b0: 206d 6f64 6520 736f 2079 6f75 2063 616e   mode so you can
-000043c0: 206d 6f64 6966 7920 616e 6420 6578 6563   modify and exec
-000043d0: 7574 6520 7468 6520 636f 6465 3a0a 2020  ute the code:.  
-000043e0: 2020 2020 2020 0a20 2020 2020 2020 2060        .        `
-000043f0: 6060 6261 7368 0a20 2020 2020 2020 2024  ``bash.        $
-00004400: 2070 7974 686f 6e20 7365 7475 702e 7079   python setup.py
-00004410: 2064 6576 656c 6f70 0a20 2020 2020 2020   develop.       
-00004420: 2060 6060 0a20 2020 2020 2020 200a 2020   ```.        .  
-00004430: 2020 2020 2020 2323 2320 5275 6e20 756e        ### Run un
-00004440: 6974 2074 6573 7473 0a20 2020 2020 2020  it tests.       
-00004450: 200a 2020 2020 2020 2020 546f 2069 6e73   .        To ins
-00004460: 7461 6c6c 2075 6e69 7420 7465 7374 2064  tall unit test d
-00004470: 6570 656e 6465 6e63 6965 733a 0a20 2020  ependencies:.   
-00004480: 2020 2020 200a 2020 2020 2020 2020 6060       .        ``
-00004490: 6062 6173 680a 2020 2020 2020 2020 2420  `bash.        $ 
-000044a0: 7069 7020 696e 7374 616c 6c20 2d65 202e  pip install -e .
-000044b0: 5b74 6573 745d 0a20 2020 2020 2020 2060  [test].        `
-000044c0: 6060 0a20 2020 2020 2020 200a 2020 2020  ``.        .    
-000044d0: 2020 2020 546f 2072 756e 2075 6e69 7420      To run unit 
-000044e0: 7465 7374 733a 0a20 2020 2020 2020 200a  tests:.        .
-000044f0: 2020 2020 2020 2020 6060 6062 6173 680a          ```bash.
-00004500: 2020 2020 2020 2020 2420 7079 7465 7374          $ pytest
-00004510: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
-00004520: 2020 2020 200a 506c 6174 666f 726d 3a20       .Platform: 
-00004530: 616e 790a 436c 6173 7369 6669 6572 3a20  any.Classifier: 
-00004540: 4465 7665 6c6f 706d 656e 7420 5374 6174  Development Stat
-00004550: 7573 203a 3a20 3320 2d20 416c 7068 610a  us :: 3 - Alpha.
-00004560: 436c 6173 7369 6669 6572 3a20 456e 7669  Classifier: Envi
-00004570: 726f 6e6d 656e 7420 3a3a 2057 6562 2045  ronment :: Web E
-00004580: 6e76 6972 6f6e 6d65 6e74 0a43 6c61 7373  nvironment.Class
-00004590: 6966 6965 723a 2049 6e74 656e 6465 6420  ifier: Intended 
-000045a0: 4175 6469 656e 6365 203a 3a20 4465 7665  Audience :: Deve
-000045b0: 6c6f 7065 7273 0a43 6c61 7373 6966 6965  lopers.Classifie
-000045c0: 723a 204c 6963 656e 7365 203a 3a20 4f53  r: License :: OS
-000045d0: 4920 4170 7072 6f76 6564 203a 3a20 4253  I Approved :: BS
-000045e0: 4420 4c69 6365 6e73 650a 436c 6173 7369  D License.Classi
-000045f0: 6669 6572 3a20 4f70 6572 6174 696e 6720  fier: Operating 
-00004600: 5379 7374 656d 203a 3a20 4f53 2049 6e64  System :: OS Ind
-00004610: 6570 656e 6465 6e74 0a43 6c61 7373 6966  ependent.Classif
-00004620: 6965 723a 2054 6f70 6963 203a 3a20 496e  ier: Topic :: In
-00004630: 7465 726e 6574 203a 3a20 5757 572f 4854  ternet :: WWW/HT
-00004640: 5450 0a43 6c61 7373 6966 6965 723a 2050  TP.Classifier: P
-00004650: 726f 6772 616d 6d69 6e67 204c 616e 6775  rogramming Langu
-00004660: 6167 6520 3a3a 2050 7974 686f 6e20 3a3a  age :: Python ::
-00004670: 2033 0a43 6c61 7373 6966 6965 723a 2050   3.Classifier: P
-00004680: 726f 6772 616d 6d69 6e67 204c 616e 6775  rogramming Langu
-00004690: 6167 6520 3a3a 2050 7974 686f 6e20 3a3a  age :: Python ::
-000046a0: 2033 2e36 0a43 6c61 7373 6966 6965 723a   3.6.Classifier:
-000046b0: 2050 726f 6772 616d 6d69 6e67 204c 616e   Programming Lan
-000046c0: 6775 6167 6520 3a3a 2050 7974 686f 6e20  guage :: Python 
-000046d0: 3a3a 2033 2e37 0a52 6571 7569 7265 732d  :: 3.7.Requires-
-000046e0: 5079 7468 6f6e 3a20 3e3d 332e 360a 4465  Python: >=3.6.De
-000046f0: 7363 7269 7074 696f 6e2d 436f 6e74 656e  scription-Conten
-00004700: 742d 5479 7065 3a20 7465 7874 2f6d 6172  t-Type: text/mar
-00004710: 6b64 6f77 6e0a 5072 6f76 6964 6573 2d45  kdown.Provides-E
-00004720: 7874 7261 3a20 7465 7374 0a              xtra: test.
+000000c0: 653a 204d 4954 0a50 6c61 7466 6f72 6d3a  e: MIT.Platform:
+000000d0: 2061 6e79 0a43 6c61 7373 6966 6965 723a   any.Classifier:
+000000e0: 2044 6576 656c 6f70 6d65 6e74 2053 7461   Development Sta
+000000f0: 7475 7320 3a3a 2033 202d 2041 6c70 6861  tus :: 3 - Alpha
+00000100: 0a43 6c61 7373 6966 6965 723a 2045 6e76  .Classifier: Env
+00000110: 6972 6f6e 6d65 6e74 203a 3a20 5765 6220  ironment :: Web 
+00000120: 456e 7669 726f 6e6d 656e 740a 436c 6173  Environment.Clas
+00000130: 7369 6669 6572 3a20 496e 7465 6e64 6564  sifier: Intended
+00000140: 2041 7564 6965 6e63 6520 3a3a 2044 6576   Audience :: Dev
+00000150: 656c 6f70 6572 730a 436c 6173 7369 6669  elopers.Classifi
+00000160: 6572 3a20 4c69 6365 6e73 6520 3a3a 204f  er: License :: O
+00000170: 5349 2041 7070 726f 7665 6420 3a3a 2042  SI Approved :: B
+00000180: 5344 204c 6963 656e 7365 0a43 6c61 7373  SD License.Class
+00000190: 6966 6965 723a 204f 7065 7261 7469 6e67  ifier: Operating
+000001a0: 2053 7973 7465 6d20 3a3a 204f 5320 496e   System :: OS In
+000001b0: 6465 7065 6e64 656e 740a 436c 6173 7369  dependent.Classi
+000001c0: 6669 6572 3a20 546f 7069 6320 3a3a 2049  fier: Topic :: I
+000001d0: 6e74 6572 6e65 7420 3a3a 2057 5757 2f48  nternet :: WWW/H
+000001e0: 5454 500a 436c 6173 7369 6669 6572 3a20  TTP.Classifier: 
+000001f0: 5072 6f67 7261 6d6d 696e 6720 4c61 6e67  Programming Lang
+00000200: 7561 6765 203a 3a20 5079 7468 6f6e 203a  uage :: Python :
+00000210: 3a20 330a 436c 6173 7369 6669 6572 3a20  : 3.Classifier: 
+00000220: 5072 6f67 7261 6d6d 696e 6720 4c61 6e67  Programming Lang
+00000230: 7561 6765 203a 3a20 5079 7468 6f6e 203a  uage :: Python :
+00000240: 3a20 332e 360a 436c 6173 7369 6669 6572  : 3.6.Classifier
+00000250: 3a20 5072 6f67 7261 6d6d 696e 6720 4c61  : Programming La
+00000260: 6e67 7561 6765 203a 3a20 5079 7468 6f6e  nguage :: Python
+00000270: 203a 3a20 332e 370a 5265 7175 6972 6573   :: 3.7.Requires
+00000280: 2d50 7974 686f 6e3a 203e 3d33 2e36 0a44  -Python: >=3.6.D
+00000290: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
+000002a0: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
+000002b0: 726b 646f 776e 0a4c 6963 656e 7365 2d46  rkdown.License-F
+000002c0: 696c 653a 204c 4943 454e 5345 2e74 7874  ile: LICENSE.txt
+000002d0: 0a52 6571 7569 7265 732d 4469 7374 3a20  .Requires-Dist: 
+000002e0: 6974 7364 616e 6765 726f 7573 0a52 6571  itsdangerous.Req
+000002f0: 7569 7265 732d 4469 7374 3a20 7079 7468  uires-Dist: pyth
+00000300: 6f6e 2d6d 756c 7469 7061 7274 0a52 6571  on-multipart.Req
+00000310: 7569 7265 732d 4469 7374 3a20 7374 6172  uires-Dist: star
+00000320: 6c65 7474 650a 5265 7175 6972 6573 2d44  lette.Requires-D
+00000330: 6973 743a 2057 5446 6f72 6d73 0a50 726f  ist: WTForms.Pro
+00000340: 7669 6465 732d 4578 7472 613a 2074 6573  vides-Extra: tes
+00000350: 740a 5265 7175 6972 6573 2d44 6973 743a  t.Requires-Dist:
+00000360: 2068 7474 7078 3b20 6578 7472 6120 3d3d   httpx; extra ==
+00000370: 2022 7465 7374 220a 5265 7175 6972 6573   "test".Requires
+00000380: 2d44 6973 743a 206a 696e 6a61 323b 2065  -Dist: jinja2; e
+00000390: 7874 7261 203d 3d20 2274 6573 7422 0a52  xtra == "test".R
+000003a0: 6571 7569 7265 732d 4469 7374 3a20 7079  equires-Dist: py
+000003b0: 7465 7374 3b20 6578 7472 6120 3d3d 2022  test; extra == "
+000003c0: 7465 7374 220a 5265 7175 6972 6573 2d44  test".Requires-D
+000003d0: 6973 743a 2072 6571 7565 7374 733b 2065  ist: requests; e
+000003e0: 7874 7261 203d 3d20 2274 6573 7422 0a0a  xtra == "test"..
+000003f0: 2320 5374 6172 6c65 7474 652d 5754 460a  # Starlette-WTF.
+00000400: 0a53 7461 726c 6574 7465 2d57 5446 2069  .Starlette-WTF i
+00000410: 7320 6120 7369 6d70 6c65 2074 6f6f 6c20  s a simple tool 
+00000420: 666f 7220 696e 7465 6772 6174 696e 6720  for integrating 
+00000430: 5b53 7461 726c 6574 7465 5d28 6874 7470  [Starlette](http
+00000440: 733a 2f2f 7777 772e 7374 6172 6c65 7474  s://www.starlett
+00000450: 652e 696f 2f29 2061 6e64 205b 5754 466f  e.io/) and [WTFo
+00000460: 726d 735d 2868 7474 7073 3a2f 2f77 7466  rms](https://wtf
+00000470: 6f72 6d73 2e72 6561 6474 6865 646f 6373  orms.readthedocs
+00000480: 2e69 6f2f 656e 2f73 7461 626c 652f 292e  .io/en/stable/).
+00000490: 2049 7420 6973 206d 6f64 656c 6564 206f   It is modeled o
+000004a0: 6e20 7468 6520 6578 6365 6c6c 656e 7420  n the excellent 
+000004b0: 5b46 6c61 736b 2d57 5446 5d28 6874 7470  [Flask-WTF](http
+000004c0: 733a 2f2f 666c 6173 6b2d 7774 662e 7265  s://flask-wtf.re
+000004d0: 6164 7468 6564 6f63 732e 696f 2920 6c69  adthedocs.io) li
+000004e0: 6272 6172 792e 0a0a 2323 2054 6162 6c65  brary...## Table
+000004f0: 206f 6620 436f 6e74 656e 7473 0a0a 2d20   of Contents..- 
+00000500: 5b49 6e73 7461 6c6c 6174 696f 6e5d 2823  [Installation](#
+00000510: 696e 7374 616c 6c61 7469 6f6e 290a 2d20  installation).- 
+00000520: 5b51 7569 636b 7374 6172 745d 2823 7175  [Quickstart](#qu
+00000530: 6963 6b73 7461 7274 290a 2d20 5b43 7265  ickstart).- [Cre
+00000540: 6174 696e 6720 466f 726d 735d 2823 6372  ating Forms](#cr
+00000550: 6561 7469 6e67 2d66 6f72 6d73 290a 2020  eating-forms).  
+00000560: 2a20 5b54 6865 2053 7461 726c 6574 7465  * [The Starlette
+00000570: 466f 726d 2043 6c61 7373 5d28 2374 6865  Form Class](#the
+00000580: 2d73 7461 726c 6574 7465 666f 726d 2d63  -starletteform-c
+00000590: 6c61 7373 290a 2020 2a20 5b56 616c 6964  lass).  * [Valid
+000005a0: 6174 696f 6e5d 2823 7661 6c69 6461 7469  ation](#validati
+000005b0: 6f6e 290a 2020 2a20 5b41 7379 6e63 2043  on).  * [Async C
+000005c0: 7573 746f 6d20 5661 6c69 6461 746f 7273  ustom Validators
+000005d0: 5d28 2361 7379 6e63 2d63 7573 746f 6d2d  ](#async-custom-
+000005e0: 7661 6c69 6461 746f 7273 290a 2d20 5b43  validators).- [C
+000005f0: 5352 4620 5072 6f74 6563 7469 6f6e 5d28  SRF Protection](
+00000600: 2363 7372 662d 7072 6f74 6563 7469 6f6e  #csrf-protection
+00000610: 290a 2020 2a20 5b53 6574 7570 5d28 2373  ).  * [Setup](#s
+00000620: 6574 7570 290a 2020 2a20 5b50 726f 7465  etup).  * [Prote
+00000630: 6374 2056 6965 7773 5d28 2370 726f 7465  ct Views](#prote
+00000640: 6374 2d76 6965 7773 290a 2020 2a20 5b48  ct-views).  * [H
+00000650: 544d 4c20 466f 726d 735d 2823 6874 6d6c  TML Forms](#html
+00000660: 2d66 6f72 6d73 290a 2020 2a20 5b4a 6176  -forms).  * [Jav
+00000670: 6153 6372 6970 7420 5265 7175 6573 7473  aScript Requests
+00000680: 5d28 236a 6176 6173 6372 6970 742d 7265  ](#javascript-re
+00000690: 7175 6573 7473 290a 2020 2a20 5b44 6973  quests).  * [Dis
+000006a0: 6162 6c65 2069 6e20 556e 6974 2054 6573  able in Unit Tes
+000006b0: 7473 5d28 2364 6973 6162 6c65 2d69 6e2d  ts](#disable-in-
+000006c0: 756e 6974 2d74 6573 7473 290a 2020 2a20  unit-tests).  * 
+000006d0: 5b43 6f6e 6669 6775 7261 7469 6f6e 5d28  [Configuration](
+000006e0: 2363 6f6e 6669 6775 7261 7469 6f6e 290a  #configuration).
+000006f0: 2d20 5b44 6576 656c 6f70 6d65 6e74 5d28  - [Development](
+00000700: 2364 6576 656c 6f70 6d65 6e74 290a 2020  #development).  
+00000710: 2a20 5b47 6574 2074 6865 2063 6f64 655d  * [Get the code]
+00000720: 2823 6765 742d 7468 652d 636f 6465 290a  (#get-the-code).
+00000730: 2020 2a20 5b52 756e 2075 6e69 7420 7465    * [Run unit te
+00000740: 7374 735d 2823 7275 6e2d 756e 6974 2d74  sts](#run-unit-t
+00000750: 6573 7473 290a 0a23 2320 496e 7374 616c  ests)..## Instal
+00000760: 6c61 7469 6f6e 0a0a 496e 7374 616c 6c69  lation..Installi
+00000770: 6e67 2053 7461 726c 6574 7465 2d57 5446  ng Starlette-WTF
+00000780: 2069 7320 7369 6d70 6c65 2077 6974 6820   is simple with 
+00000790: 5b70 6970 5d28 6874 7470 733a 2f2f 7069  [pip](https://pi
+000007a0: 702e 7079 7061 2e69 6f2f 656e 2f73 7461  p.pypa.io/en/sta
+000007b0: 626c 652f 293a 0a0a 6060 6062 6173 680a  ble/):..```bash.
+000007c0: 7069 7020 696e 7374 616c 6c20 7374 6172  pip install star
+000007d0: 6c65 7474 652d 7774 660a 6060 600a 0a23  lette-wtf.```..#
+000007e0: 2320 5175 6963 6b73 7461 7274 0a0a 5468  # Quickstart..Th
+000007f0: 6520 666f 6c6c 6f77 696e 6720 636f 6465  e following code
+00000800: 2069 6d70 6c65 6d65 6e74 7320 6120 7369   implements a si
+00000810: 6d70 6c65 2066 6f72 6d20 6861 6e64 6c65  mple form handle
+00000820: 7220 7769 7468 2043 5352 4620 7072 6f74  r with CSRF prot
+00000830: 6563 7469 6f6e 2e20 5468 6520 666f 726d  ection. The form
+00000840: 2068 6173 2061 2072 6571 7569 7265 6420   has a required 
+00000850: 7374 7269 6e67 2066 6965 6c64 2061 6e64  string field and
+00000860: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+00000870: 7273 2061 7265 2068 616e 646c 6564 2062  rs are handled b
+00000880: 7920 7468 6520 6874 6d6c 2074 656d 706c  y the html templ
+00000890: 6174 652e 204e 6f74 6520 7468 6174 2043  ate. Note that C
+000008a0: 5352 4620 7072 6f74 6563 7469 6f6e 2072  SRF protection r
+000008b0: 6571 7569 7265 7320 6053 6573 7369 6f6e  equires `Session
+000008c0: 4d69 6464 6c65 7761 7265 602c 2060 4353  Middleware`, `CS
+000008d0: 5246 5072 6f74 6563 744d 6964 646c 6577  RFProtectMiddlew
+000008e0: 6172 6560 2c20 6040 6373 7266 5f70 726f  are`, `@csrf_pro
+000008f0: 7465 6374 6020 616e 6420 7468 6520 6063  tect` and the `c
+00000900: 7372 665f 746f 6b65 6e60 2066 6965 6c64  srf_token` field
+00000910: 2074 6f20 6265 2061 6464 6564 2074 6f20   to be added to 
+00000920: 7468 6520 4854 4d4c 2066 6f72 6d2e 0a0a  the HTML form...
+00000930: 4669 7273 742c 2069 6e73 7461 6c6c 2074  First, install t
+00000940: 6865 2064 6570 656e 6465 6e63 6965 7320  he dependencies 
+00000950: 666f 7220 7468 6973 2071 7569 636b 7374  for this quickst
+00000960: 6172 743a 0a0a 6060 6062 6173 680a 7069  art:..```bash.pi
+00000970: 7020 696e 7374 616c 6c20 7374 6172 6c65  p install starle
+00000980: 7474 6520 7374 6172 6c65 7474 652d 7774  tte starlette-wt
+00000990: 6620 6a69 6e6a 6132 2075 7669 636f 726e  f jinja2 uvicorn
+000009a0: 200a 6060 600a 0a4e 6578 742c 2063 7265   .```..Next, cre
+000009b0: 6174 6520 6120 5079 7468 6f6e 2066 696c  ate a Python fil
+000009c0: 6520 2861 7070 2e70 7929 2077 6974 6820  e (app.py) with 
+000009d0: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
+000009e0: 6465 3a0a 0a60 6060 7079 7468 6f6e 0a66  de:..```python.f
+000009f0: 726f 6d20 6a69 6e6a 6132 2069 6d70 6f72  rom jinja2 impor
+00000a00: 7420 5465 6d70 6c61 7465 0a66 726f 6d20  t Template.from 
+00000a10: 7374 6172 6c65 7474 652e 6170 706c 6963  starlette.applic
+00000a20: 6174 696f 6e73 2069 6d70 6f72 7420 5374  ations import St
+00000a30: 6172 6c65 7474 650a 6672 6f6d 2073 7461  arlette.from sta
+00000a40: 726c 6574 7465 2e6d 6964 646c 6577 6172  rlette.middlewar
+00000a50: 6520 696d 706f 7274 204d 6964 646c 6577  e import Middlew
+00000a60: 6172 650a 6672 6f6d 2073 7461 726c 6574  are.from starlet
+00000a70: 7465 2e6d 6964 646c 6577 6172 652e 7365  te.middleware.se
+00000a80: 7373 696f 6e73 2069 6d70 6f72 7420 5365  ssions import Se
+00000a90: 7373 696f 6e4d 6964 646c 6577 6172 650a  ssionMiddleware.
+00000aa0: 6672 6f6d 2073 7461 726c 6574 7465 2e72  from starlette.r
+00000ab0: 6f75 7469 6e67 2069 6d70 6f72 7420 526f  outing import Ro
+00000ac0: 7574 650a 6672 6f6d 2073 7461 726c 6574  ute.from starlet
+00000ad0: 7465 2e72 6573 706f 6e73 6573 2069 6d70  te.responses imp
+00000ae0: 6f72 7420 506c 6169 6e54 6578 7452 6573  ort PlainTextRes
+00000af0: 706f 6e73 652c 2048 544d 4c52 6573 706f  ponse, HTMLRespo
+00000b00: 6e73 650a 6672 6f6d 2073 7461 726c 6574  nse.from starlet
+00000b10: 7465 5f77 7466 2069 6d70 6f72 7420 5374  te_wtf import St
+00000b20: 6172 6c65 7474 6546 6f72 6d2c 2043 5352  arletteForm, CSR
+00000b30: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00000b40: 7265 2c20 6373 7266 5f70 726f 7465 6374  re, csrf_protect
+00000b50: 0a66 726f 6d20 7774 666f 726d 7320 696d  .from wtforms im
+00000b60: 706f 7274 2053 7472 696e 6746 6965 6c64  port StringField
+00000b70: 0a66 726f 6d20 7774 666f 726d 732e 7661  .from wtforms.va
+00000b80: 6c69 6461 746f 7273 0969 6d70 6f72 7420  lidators.import 
+00000b90: 4461 7461 5265 7175 6972 6564 0a0a 0a63  DataRequired...c
+00000ba0: 6c61 7373 204d 7946 6f72 6d28 5374 6172  lass MyForm(Star
+00000bb0: 6c65 7474 6546 6f72 6d29 3a0a 2020 2020  letteForm):.    
+00000bc0: 6e61 6d65 203d 2053 7472 696e 6746 6965  name = StringFie
+00000bd0: 6c64 2827 6e61 6d65 272c 2076 616c 6964  ld('name', valid
+00000be0: 6174 6f72 733d 5b44 6174 6152 6571 7569  ators=[DataRequi
+00000bf0: 7265 6428 295d 290a 0a0a 7465 6d70 6c61  red()])...templa
+00000c00: 7465 203d 2054 656d 706c 6174 6528 2727  te = Template(''
+00000c10: 270a 3c21 646f 6374 7970 6520 6874 6d6c  '.<!doctype html
+00000c20: 3e0a 3c68 746d 6c3e 0a20 203c 626f 6479  >.<html>.  <body
+00000c30: 3e0a 2020 2020 3c66 6f72 6d20 6d65 7468  >.    <form meth
+00000c40: 6f64 3d22 706f 7374 2220 6e6f 7661 6c69  od="post" novali
+00000c50: 6461 7465 3e0a 2020 2020 2020 7b7b 2066  date>.      {{ f
+00000c60: 6f72 6d2e 6373 7266 5f74 6f6b 656e 207d  orm.csrf_token }
+00000c70: 7d0a 2020 2020 2020 3c64 6976 3e0a 2020  }.      <div>.  
+00000c80: 2020 2020 2020 7b7b 2066 6f72 6d2e 6e61        {{ form.na
+00000c90: 6d65 2870 6c61 6365 686f 6c64 6572 3d27  me(placeholder='
+00000ca0: 4e61 6d65 2729 207d 7d0a 2020 2020 2020  Name') }}.      
+00000cb0: 2020 7b25 2069 6620 666f 726d 2e6e 616d    {% if form.nam
+00000cc0: 652e 6572 726f 7273 202d 257d 0a20 2020  e.errors -%}.   
+00000cd0: 2020 2020 203c 7370 616e 3e7b 7b20 666f       <span>{{ fo
+00000ce0: 726d 2e6e 616d 652e 6572 726f 7273 5b30  rm.name.errors[0
+00000cf0: 5d20 7d7d 3c2f 7370 616e 3e0a 2020 2020  ] }}</span>.    
+00000d00: 2020 2020 7b25 2d20 656e 6469 6620 257d      {%- endif %}
+00000d10: 0a20 2020 2020 203c 2f64 6976 3e0a 2020  .      </div>.  
+00000d20: 2020 2020 3c62 7574 746f 6e20 7479 7065      <button type
+00000d30: 3d22 7375 626d 6974 223e 5375 626d 6974  ="submit">Submit
+00000d40: 3c2f 6275 7474 6f6e 3e0a 2020 2020 3c2f  </button>.    </
+00000d50: 666f 726d 3e0a 2020 3c2f 626f 6479 3e0a  form>.  </body>.
+00000d60: 3c2f 6874 6d6c 3e0a 2727 2729 0a0a 0a40  </html>.''')...@
+00000d70: 6373 7266 5f70 726f 7465 6374 0a61 7379  csrf_protect.asy
+00000d80: 6e63 2064 6566 2069 6e64 6578 2872 6571  nc def index(req
+00000d90: 7565 7374 293a 0a20 2020 2022 2222 4745  uest):.    """GE
+00000da0: 547c 504f 5354 202f 3a20 666f 726d 2068  T|POST /: form h
+00000db0: 616e 646c 6572 0a20 2020 2022 2222 0a20  andler.    """. 
+00000dc0: 2020 2066 6f72 6d20 3d20 6177 6169 7420     form = await 
+00000dd0: 4d79 466f 726d 2e66 726f 6d5f 666f 726d  MyForm.from_form
+00000de0: 6461 7461 2872 6571 7565 7374 290a 2020  data(request).  
+00000df0: 2020 0a20 2020 2069 6620 6177 6169 7420    .    if await 
+00000e00: 666f 726d 2e76 616c 6964 6174 655f 6f6e  form.validate_on
+00000e10: 5f73 7562 6d69 7428 293a 0a20 2020 2020  _submit():.     
+00000e20: 2020 2072 6574 7572 6e20 506c 6169 6e54     return PlainT
+00000e30: 6578 7452 6573 706f 6e73 6528 2753 5543  extResponse('SUC
+00000e40: 4345 5353 2729 0a0a 2020 2020 6874 6d6c  CESS')..    html
+00000e50: 203d 2074 656d 706c 6174 652e 7265 6e64   = template.rend
+00000e60: 6572 2866 6f72 6d3d 666f 726d 290a 2020  er(form=form).  
+00000e70: 2020 7265 7475 726e 2048 544d 4c52 6573    return HTMLRes
+00000e80: 706f 6e73 6528 6874 6d6c 290a 0a61 7070  ponse(html)..app
+00000e90: 203d 2053 7461 726c 6574 7465 280a 2020   = Starlette(.  
+00000ea0: 726f 7574 6573 3d5b 0a20 2020 2052 6f75  routes=[.    Rou
+00000eb0: 7465 2827 2f27 2c20 6d65 7468 6f64 733d  te('/', methods=
+00000ec0: 5b27 4745 5427 2c20 2750 4f53 5427 5d2c  ['GET', 'POST'],
+00000ed0: 2065 6e64 706f 696e 743d 696e 6465 7829   endpoint=index)
+00000ee0: 2c0a 2020 5d2c 0a20 206d 6964 646c 6577  ,.  ],.  middlew
+00000ef0: 6172 653d 5b0a 2020 2020 4d69 6464 6c65  are=[.    Middle
+00000f00: 7761 7265 2853 6573 7369 6f6e 4d69 6464  ware(SessionMidd
+00000f10: 6c65 7761 7265 2c20 7365 6372 6574 5f6b  leware, secret_k
+00000f20: 6579 3d27 2a2a 2a52 4550 4c41 4345 4d45  ey='***REPLACEME
+00000f30: 312a 2a2a 2729 2c0a 2020 2020 4d69 6464  1***'),.    Midd
+00000f40: 6c65 7761 7265 2843 5352 4650 726f 7465  leware(CSRFProte
+00000f50: 6374 4d69 6464 6c65 7761 7265 2c20 6373  ctMiddleware, cs
+00000f60: 7266 5f73 6563 7265 743d 272a 2a2a 5245  rf_secret='***RE
+00000f70: 504c 4143 454d 4532 2a2a 2a27 292c 0a20  PLACEME2***'),. 
+00000f80: 205d 2c0a 290a 0a60 6060 0a20 2020 200a   ],.)..```.    .
+00000f90: 4669 6e61 6c6c 792c 2072 756e 2074 6865  Finally, run the
+00000fa0: 2061 7070 2075 7369 6e67 2074 6865 2066   app using the f
+00000fb0: 6f6c 6c6f 7769 6e67 2063 6f6d 6d61 6e64  ollowing command
+00000fc0: 3a0a 2020 2020 0a60 6060 6261 7368 0a75  :.    .```bash.u
+00000fd0: 7669 636f 726e 2061 7070 3a61 7070 0a60  vicorn app:app.`
+00000fe0: 6060 0a0a 2323 2043 7265 6174 696e 6720  ``..## Creating 
+00000ff0: 466f 726d 730a 0a23 2323 2054 6865 2053  Forms..### The S
+00001000: 7461 726c 6574 7465 466f 726d 2043 6c61  tarletteForm Cla
+00001010: 7373 0a0a 5374 6172 6c65 7474 652d 5754  ss..Starlette-WT
+00001020: 4620 7072 6f76 6964 6573 2061 2066 6f72  F provides a for
+00001030: 6d20 636c 6173 7320 7468 6174 206d 616b  m class that mak
+00001040: 6573 2069 7420 6561 7379 2074 6f20 6164  es it easy to ad
+00001050: 6420 666f 726d 2076 616c 6964 6174 696f  d form validatio
+00001060: 6e20 616e 6420 4353 5246 2070 726f 7465  n and CSRF prote
+00001070: 6374 696f 6e20 746f 2053 7461 726c 6574  ction to Starlet
+00001080: 7465 2061 7070 732e 2054 6f20 6d61 6b65  te apps. To make
+00001090: 2061 2066 6f72 6d2c 2073 7562 636c 6173   a form, subclas
+000010a0: 7320 7468 6520 6053 7461 726c 6574 7465  s the `Starlette
+000010b0: 466f 726d 6020 636c 6173 7320 616e 6420  Form` class and 
+000010c0: 7573 6520 5b57 5446 6f72 6d73 5d28 6874  use [WTForms](ht
+000010d0: 7470 733a 2f2f 7774 666f 726d 732e 7265  tps://wtforms.re
+000010e0: 6164 7468 6564 6f63 732e 696f 2f29 2066  adthedocs.io/) f
+000010f0: 6965 6c64 732c 2076 616c 6964 6174 6f72  ields, validator
+00001100: 7320 616e 6420 7769 6467 6574 7320 746f  s and widgets to
+00001110: 2064 6566 696e 6520 7468 6520 696e 7075   define the inpu
+00001120: 7473 2e20 5468 6520 6053 7461 726c 6574  ts. The `Starlet
+00001130: 7465 466f 726d 6020 636c 6173 7320 696e  teForm` class in
+00001140: 6865 7269 7473 2066 726f 6d20 7468 6520  herits from the 
+00001150: 5754 466f 726d 7320 6046 6f72 6d60 2063  WTForms `Form` c
+00001160: 6c61 7373 2073 6f20 796f 7520 6361 6e20  lass so you can 
+00001170: 7573 6520 5754 466f 726d 7320 6665 6174  use WTForms feat
+00001180: 7572 6573 2061 6e64 206d 6574 686f 6473  ures and methods
+00001190: 2074 6f20 6164 6420 6d6f 7265 2061 6476   to add more adv
+000011a0: 616e 6365 6420 6675 6e63 7469 6f6e 616c  anced functional
+000011b0: 6974 7920 746f 2079 6f75 7220 6170 703a  ity to your app:
+000011c0: 0a0a 6060 6070 7974 686f 6e0a 6672 6f6d  ..```python.from
+000011d0: 2073 7461 726c 6574 7465 5f77 7466 2069   starlette_wtf i
+000011e0: 6d70 6f72 7420 5374 6172 6c65 7474 6546  mport StarletteF
+000011f0: 6f72 6d0a 6672 6f6d 2077 7466 6f72 6d73  orm.from wtforms
+00001200: 2069 6d70 6f72 7420 5374 7269 6e67 4669   import StringFi
+00001210: 656c 642c 2050 6173 7377 6f72 6446 6965  eld, PasswordFie
+00001220: 6c64 0a66 726f 6d20 7774 666f 726d 732e  ld.from wtforms.
+00001230: 7661 6c69 6461 746f 7273 2069 6d70 6f72  validators impor
+00001240: 7420 4461 7461 5265 7175 6972 6564 2c20  t DataRequired, 
+00001250: 456d 6169 6c2c 2045 7175 616c 546f 0a66  Email, EqualTo.f
+00001260: 726f 6d20 7774 666f 726d 732e 7769 6467  rom wtforms.widg
+00001270: 6574 7320 696d 706f 7274 2050 6173 7377  ets import Passw
+00001280: 6f72 6449 6e70 7574 0a0a 0a63 6c61 7373  ordInput...class
+00001290: 2043 7265 6174 6541 6363 6f75 6e74 466f   CreateAccountFo
+000012a0: 726d 2853 7461 726c 6574 7465 466f 726d  rm(StarletteForm
+000012b0: 293a 0a20 2020 2065 6d61 696c 203d 2053  ):.    email = S
+000012c0: 7472 696e 6746 6965 6c64 280a 2020 2020  tringField(.    
+000012d0: 2020 2020 2745 6d61 696c 2061 6464 7265      'Email addre
+000012e0: 7373 272c 0a20 2020 2020 2020 2076 616c  ss',.        val
+000012f0: 6964 6174 6f72 733d 5b0a 2020 2020 2020  idators=[.      
+00001300: 2020 2020 2020 4461 7461 5265 7175 6972        DataRequir
+00001310: 6564 2827 506c 6561 7365 2065 6e74 6572  ed('Please enter
+00001320: 2079 6f75 7220 656d 6169 6c20 6164 6472   your email addr
+00001330: 6573 7327 292c 0a20 2020 2020 2020 2020  ess'),.         
+00001340: 2020 2045 6d61 696c 2829 0a20 2020 2020     Email().     
+00001350: 2020 205d 0a20 2020 2029 0a0a 2020 2020     ].    )..    
+00001360: 7061 7373 776f 7264 203d 2050 6173 7377  password = Passw
+00001370: 6f72 6446 6965 6c64 280a 2020 2020 2020  ordField(.      
+00001380: 2020 2750 6173 7377 6f72 6427 2c0a 2020    'Password',.  
+00001390: 2020 2020 2020 7769 6467 6574 3d50 6173        widget=Pas
+000013a0: 7377 6f72 6449 6e70 7574 2868 6964 655f  swordInput(hide_
+000013b0: 7661 6c75 653d 4661 6c73 6529 2c0a 2020  value=False),.  
+000013c0: 2020 2020 2020 7661 6c69 6461 746f 7273        validators
+000013d0: 3d5b 0a20 2020 2020 2020 2020 2020 2044  =[.            D
+000013e0: 6174 6152 6571 7569 7265 6428 2750 6c65  ataRequired('Ple
+000013f0: 6173 6520 656e 7465 7220 796f 7572 2070  ase enter your p
+00001400: 6173 7377 6f72 6427 292c 0a20 2020 2020  assword'),.     
+00001410: 2020 2020 2020 2045 7175 616c 546f 2827         EqualTo('
+00001420: 7061 7373 776f 7264 5f63 6f6e 6669 726d  password_confirm
+00001430: 272c 206d 6573 7361 6765 3d27 5061 7373  ', message='Pass
+00001440: 776f 7264 7320 6d75 7374 206d 6174 6368  words must match
+00001450: 2729 0a20 2020 2020 2020 205d 0a20 2020  ').        ].   
+00001460: 2029 0a0a 2020 2020 7061 7373 776f 7264   )..    password
+00001470: 5f63 6f6e 6669 726d 203d 2050 6173 7377  _confirm = Passw
+00001480: 6f72 6446 6965 6c64 280a 2020 2020 2020  ordField(.      
+00001490: 2020 2743 6f6e 6669 726d 2050 6173 7377    'Confirm Passw
+000014a0: 6f72 6427 2c0a 2020 2020 2020 2020 7769  ord',.        wi
+000014b0: 6467 6574 3d50 6173 7377 6f72 6449 6e70  dget=PasswordInp
+000014c0: 7574 2868 6964 655f 7661 6c75 653d 4661  ut(hide_value=Fa
+000014d0: 6c73 6529 2c0a 2020 2020 2020 2020 7661  lse),.        va
+000014e0: 6c69 6461 746f 7273 3d5b 0a20 2020 2020  lidators=[.     
+000014f0: 2020 2020 2020 2044 6174 6152 6571 7569         DataRequi
+00001500: 7265 6428 2750 6c65 6173 6520 636f 6e66  red('Please conf
+00001510: 6972 6d20 796f 7572 2070 6173 7377 6f72  irm your passwor
+00001520: 6427 290a 2020 2020 2020 2020 5d0a 2020  d').        ].  
+00001530: 2020 290a 6060 600a 0a4f 6674 656e 2079    ).```..Often y
+00001540: 6f75 2077 696c 6c20 7761 6e74 2074 6f20  ou will want to 
+00001550: 696e 6974 6961 6c69 7a65 2066 6f72 6d20  initialize form 
+00001560: 6f62 6a65 6374 7320 7573 696e 6720 6465  objects using de
+00001570: 6661 756c 7420 7661 6c75 6573 206f 6e20  fault values on 
+00001580: 4745 5420 7265 7175 6573 7473 2061 6e64  GET requests and
+00001590: 2066 726f 6d20 7375 626d 6974 7465 6420   from submitted 
+000015a0: 666f 726d 6461 7461 206f 6e20 504f 5354  formdata on POST
+000015b0: 2072 6571 7565 7374 732e 2054 6f20 6d61   requests. To ma
+000015c0: 6b65 2074 6869 7320 6561 7369 6572 2079  ke this easier y
+000015d0: 6f75 2063 616e 2075 7365 2074 6865 2060  ou can use the `
+000015e0: 2e66 726f 6d5f 666f 726d 6461 7461 2829  .from_formdata()
+000015f0: 6020 6173 796e 6320 636c 6173 7320 6d65  ` async class me
+00001600: 7468 6f64 2077 6869 6368 2064 6f65 7320  thod which does 
+00001610: 7468 6973 2066 6f72 2079 6f75 2061 7574  this for you aut
+00001620: 6f6d 6174 6963 616c 6c79 3a0a 0a60 6060  omatically:..```
+00001630: 7079 7468 6f6e 0a61 7379 6e63 2064 6566  python.async def
+00001640: 2063 7265 6174 655f 6163 636f 756e 7428   create_account(
+00001650: 7265 7175 6573 7429 3a0a 2020 2020 2222  request):.    ""
+00001660: 2247 4554 7c50 4f53 5420 2f63 7265 6174  "GET|POST /creat
+00001670: 652d 6163 636f 756e 743a 2043 7265 6174  e-account: Creat
+00001680: 6520 6163 636f 756e 7420 666f 726d 2068  e account form h
+00001690: 616e 646c 6572 0a20 2020 2022 2222 0a20  andler.    """. 
+000016a0: 2020 2066 6f72 6d20 3d20 6177 6169 7420     form = await 
+000016b0: 4372 6561 7465 4163 636f 756e 7446 6f72  CreateAccountFor
+000016c0: 6d2e 6672 6f6d 5f66 6f72 6d64 6174 6128  m.from_formdata(
+000016d0: 7265 7175 6573 7429 0a20 2020 2072 6574  request).    ret
+000016e0: 7572 6e20 506c 6169 6e54 6578 7452 6573  urn PlainTextRes
+000016f0: 706f 6e73 6528 290a 6060 600a 0a23 2323  ponse().```..###
+00001700: 2056 616c 6964 6174 696f 6e0a 0a54 6865   Validation..The
+00001710: 2060 5374 6172 6c65 7474 6546 6f72 6d60   `StarletteForm`
+00001720: 2063 6c61 7373 2068 6173 2061 2075 7365   class has a use
+00001730: 6675 6c20 602e 7661 6c69 6461 7465 5f6f  ful `.validate_o
+00001740: 6e5f 7375 626d 6974 2829 6020 6d65 7468  n_submit()` meth
+00001750: 6f64 2074 6861 7420 7065 7266 6f72 6d73  od that performs
+00001760: 2069 6e70 7574 2076 616c 6964 6174 696f   input validatio
+00001770: 6e20 666f 7220 504f 5354 2c20 5055 542c  n for POST, PUT,
+00001780: 2050 4154 4348 2061 6e64 2044 454c 4554   PATCH and DELET
+00001790: 4520 7265 7175 6573 7473 2061 6e64 2072  E requests and r
+000017a0: 6574 7572 6e73 2061 2062 6f6f 6c65 616e  eturns a boolean
+000017b0: 2069 6e64 6963 6174 696e 6720 7768 6574   indicating whet
+000017c0: 6865 7220 6f72 206e 6f74 2074 6865 7265  her or not there
+000017d0: 2077 6572 6520 616e 7920 6572 726f 7273   were any errors
+000017e0: 2e20 4166 7465 7220 7661 6c69 6461 7469  . After validati
+000017f0: 6f6e 2c20 6572 726f 7273 2061 7265 2061  on, errors are a
+00001800: 7661 696c 6162 6c65 2076 6961 2074 6865  vailable via the
+00001810: 2060 2e65 7272 6f72 7360 2061 7474 7269   `.errors` attri
+00001820: 6275 7465 2061 7474 6163 6865 6420 746f  bute attached to
+00001830: 2065 6163 6820 696e 7075 7420 6669 656c   each input fiel
+00001840: 6420 696e 7374 616e 6365 2e20 4e6f 7465  d instance. Note
+00001850: 2074 6861 7420 7661 6c69 6461 7469 6f6e   that validation
+00001860: 2069 7320 6173 796e 6368 726f 6e6f 7573   is asynchronous
+00001870: 2074 6f20 6861 6e64 6c65 2061 7379 6e63   to handle async
+00001880: 2066 6965 6c64 2076 616c 6964 6174 6f72   field validator
+00001890: 7320 2873 6565 2062 656c 6f77 293a 0a0a  s (see below):..
+000018a0: 6060 6070 7974 686f 6e0a 6672 6f6d 206a  ```python.from j
+000018b0: 696e 6a61 3220 696d 706f 7274 2054 656d  inja2 import Tem
+000018c0: 706c 6174 650a 6672 6f6d 2073 7461 726c  plate.from starl
+000018d0: 6574 7465 2e61 7070 6c69 6361 7469 6f6e  ette.application
+000018e0: 7320 696d 706f 7274 2053 7461 726c 6574  s import Starlet
+000018f0: 7465 0a66 726f 6d20 7374 6172 6c65 7474  te.from starlett
+00001900: 652e 7265 7370 6f6e 7365 7320 696d 706f  e.responses impo
+00001910: 7274 2028 506c 6169 6e54 6578 7452 6573  rt (PlainTextRes
+00001920: 706f 6e73 652c 2052 6564 6972 6563 7452  ponse, RedirectR
+00001930: 6573 706f 6e73 652c 0a20 2020 2020 2020  esponse,.       
+00001940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001950: 2020 2020 2020 2020 2020 4854 4d4c 5265            HTMLRe
+00001960: 7370 6f6e 7365 290a 6672 6f6d 2073 7461  sponse).from sta
+00001970: 726c 6574 7465 2e72 6f75 7469 6e67 2069  rlette.routing i
+00001980: 6d70 6f72 7420 526f 7574 650a 0a74 656d  mport Route..tem
+00001990: 706c 6174 6520 3d20 5465 6d70 6c61 7465  plate = Template
+000019a0: 2827 2727 0a3c 2164 6f63 7479 7065 2068  ('''.<!doctype h
+000019b0: 746d 6c3e 0a3c 6874 6d6c 3e0a 2020 3c62  tml>.<html>.  <b
+000019c0: 6f64 793e 0a20 2020 203c 6831 3e43 7265  ody>.    <h1>Cre
+000019d0: 6174 6520 4163 636f 756e 743c 2f68 313e  ate Account</h1>
+000019e0: 0a20 2020 203c 666f 726d 206d 6574 686f  .    <form metho
+000019f0: 643d 2270 6f73 7422 206e 6f76 616c 6964  d="post" novalid
+00001a00: 6174 653e 0a20 2020 2020 203c 6469 763e  ate>.      <div>
+00001a10: 0a20 2020 2020 2020 207b 7b20 666f 726d  .        {{ form
+00001a20: 2e65 6d61 696c 2870 6c61 6365 686f 6c64  .email(placehold
+00001a30: 6572 3d27 456d 6169 6c20 6164 6472 6573  er='Email addres
+00001a40: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
+00001a50: 2020 2020 2020 2020 2020 6175 746f 666f            autofo
+00001a60: 6375 733d 2774 7275 6527 2c0a 2020 2020  cus='true',.    
+00001a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a80: 2020 7479 7065 3d27 656d 6169 6c27 2c0a    type='email',.
+00001a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001aa0: 2020 2020 2020 7370 656c 6c63 6865 636b        spellcheck
+00001ab0: 3d27 6661 6c73 6527 2920 7d7d 0a20 2020  ='false') }}.   
+00001ac0: 2020 2020 207b 2520 6966 2066 6f72 6d2e       {% if form.
+00001ad0: 656d 6169 6c2e 6572 726f 7273 202d 257d  email.errors -%}
+00001ae0: 0a20 2020 2020 2020 203c 7370 616e 3e7b  .        <span>{
+00001af0: 7b20 666f 726d 2e65 6d61 696c 2e65 7272  { form.email.err
+00001b00: 6f72 735b 305d 207d 7d3c 2f73 7061 6e3e  ors[0] }}</span>
+00001b10: 0a20 2020 2020 2020 207b 252d 2065 6e64  .        {%- end
+00001b20: 6966 2025 7d0a 2020 2020 2020 3c2f 6469  if %}.      </di
+00001b30: 763e 0a20 2020 2020 203c 6469 763e 0a20  v>.      <div>. 
+00001b40: 2020 2020 2020 207b 7b20 666f 726d 2e70         {{ form.p
+00001b50: 6173 7377 6f72 6428 706c 6163 6568 6f6c  assword(placehol
+00001b60: 6465 723d 2250 6173 7377 6f72 6422 2920  der="Password") 
+00001b70: 7d7d 0a20 2020 2020 2020 207b 2520 6966  }}.        {% if
+00001b80: 2066 6f72 6d2e 7061 7373 776f 7264 2e65   form.password.e
+00001b90: 7272 6f72 7320 2d25 7d0a 2020 2020 2020  rrors -%}.      
+00001ba0: 2020 3c73 7061 6e3e 7b7b 2066 6f72 6d2e    <span>{{ form.
+00001bb0: 7061 7373 776f 7264 2e65 7272 6f72 735b  password.errors[
+00001bc0: 305d 207d 7d3c 2f73 7061 6e3e 0a20 2020  0] }}</span>.   
+00001bd0: 2020 2020 207b 252d 2065 6e64 6966 2025       {%- endif %
+00001be0: 7d0a 2020 2020 2020 3c2f 6469 763e 0a20  }.      </div>. 
+00001bf0: 2020 2020 203c 6469 763e 0a20 2020 2020       <div>.     
+00001c00: 2020 207b 7b20 666f 726d 2e70 6173 7377     {{ form.passw
+00001c10: 6f72 645f 636f 6e66 6972 6d28 706c 6163  ord_confirm(plac
+00001c20: 6568 6f6c 6465 723d 2243 6f6e 6669 726d  eholder="Confirm
+00001c30: 2070 6173 7377 6f72 6422 2920 7d7d 0a20   password") }}. 
+00001c40: 2020 2020 2020 207b 2520 6966 2066 6f72         {% if for
+00001c50: 6d2e 7061 7373 776f 7264 5f63 6f6e 6669  m.password_confi
+00001c60: 726d 2e65 7272 6f72 7320 2d25 7d0a 2020  rm.errors -%}.  
+00001c70: 2020 2020 2020 3c73 7061 6e3e 7b7b 2066        <span>{{ f
+00001c80: 6f72 6d2e 7061 7373 776f 7264 5f63 6f6e  orm.password_con
+00001c90: 6669 726d 2e65 7272 6f72 735b 305d 207d  firm.errors[0] }
+00001ca0: 7d3c 2f73 7061 6e3e 0a20 2020 2020 2020  }</span>.       
+00001cb0: 207b 252d 2065 6e64 6966 2025 7d0a 2020   {%- endif %}.  
+00001cc0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00001cd0: 203c 6275 7474 6f6e 2074 7970 653d 2273   <button type="s
+00001ce0: 7562 6d69 7422 3e43 7265 6174 6520 6163  ubmit">Create ac
+00001cf0: 636f 756e 743c 2f62 7574 746f 6e3e 0a20  count</button>. 
+00001d00: 2020 203c 2f66 6f72 6d3e 0a20 203c 2f62     </form>.  </b
+00001d10: 6f64 793e 0a3c 2f68 746d 6c3e 0a27 2727  ody>.</html>.'''
+00001d20: 290a 0a0a 6173 796e 6320 6465 6620 696e  )...async def in
+00001d30: 6465 7828 7265 7175 6573 7429 3a0a 2020  dex(request):.  
+00001d40: 2020 2222 2247 4554 202f 3a20 5265 7475    """GET /: Retu
+00001d50: 726e 2068 6f6d 6520 7061 6765 0a20 2020  rn home page.   
+00001d60: 2022 2222 0a20 2020 2072 6574 7572 6e20   """.    return 
+00001d70: 506c 6169 6e54 6578 7452 6573 706f 6e73  PlainTextRespons
+00001d80: 6528 290a 0a0a 6173 796e 6320 6465 6620  e()...async def 
+00001d90: 6372 6561 7465 5f61 6363 6f75 6e74 2872  create_account(r
+00001da0: 6571 7565 7374 293a 0a20 2020 2022 2222  equest):.    """
+00001db0: 4745 547c 504f 5354 202f 6372 6561 7465  GET|POST /create
+00001dc0: 2d61 6363 6f75 6e74 3a20 4372 6561 7465  -account: Create
+00001dd0: 2061 6363 6f75 6e74 2066 6f72 6d20 6861   account form ha
+00001de0: 6e64 6c65 720a 2020 2020 2222 220a 2020  ndler.    """.  
+00001df0: 2020 2320 696e 6974 6961 6c69 7a65 2066    # initialize f
+00001e00: 6f72 6d0a 2020 2020 666f 726d 203d 2061  orm.    form = a
+00001e10: 7761 6974 2043 7265 6174 6541 6363 6f75  wait CreateAccou
+00001e20: 6e74 466f 726d 2e66 726f 6d5f 666f 726d  ntForm.from_form
+00001e30: 6461 7461 2872 6571 7565 7374 290a 0a20  data(request).. 
+00001e40: 2020 2023 2076 616c 6964 6174 6520 666f     # validate fo
+00001e50: 726d 0a20 2020 2069 6620 6177 6169 7420  rm.    if await 
+00001e60: 666f 726d 2e76 616c 6964 6174 655f 6f6e  form.validate_on
+00001e70: 5f73 7562 6d69 7428 293a 0a20 2020 2020  _submit():.     
+00001e80: 2020 2023 2054 4f44 4f3a 2053 6176 6520     # TODO: Save 
+00001e90: 6163 636f 756e 7420 6372 6564 656e 7469  account credenti
+00001ea0: 616c 7320 6265 666f 7265 2072 6574 7572  als before retur
+00001eb0: 6e69 6e67 2072 6564 6972 6563 7420 7265  ning redirect re
+00001ec0: 7370 6f6e 7365 0a20 2020 2020 2020 2072  sponse.        r
+00001ed0: 6574 7572 6e20 5265 6469 7265 6374 5265  eturn RedirectRe
+00001ee0: 7370 6f6e 7365 2875 726c 3d27 2f27 2c20  sponse(url='/', 
+00001ef0: 7374 6174 7573 5f63 6f64 653d 3330 3329  status_code=303)
+00001f00: 0a0a 2020 2020 2320 6765 6e65 7261 7465  ..    # generate
+00001f10: 2068 746d 6c0a 2020 2020 6874 6d6c 203d   html.    html =
+00001f20: 2074 656d 706c 6174 652e 7265 6e64 6572   template.render
+00001f30: 2866 6f72 6d3d 666f 726d 290a 0a20 2020  (form=form)..   
+00001f40: 2023 2072 6574 7572 6e20 7265 7370 6f6e   # return respon
+00001f50: 7365 0a20 2020 2073 7461 7475 735f 636f  se.    status_co
+00001f60: 6465 203d 2034 3232 2069 6620 666f 726d  de = 422 if form
+00001f70: 2e65 7272 6f72 7320 656c 7365 2032 3030  .errors else 200
+00001f80: 0a20 2020 2072 6574 7572 6e20 4854 4d4c  .    return HTML
+00001f90: 5265 7370 6f6e 7365 2868 746d 6c2c 2073  Response(html, s
+00001fa0: 7461 7475 735f 636f 6465 3d73 7461 7475  tatus_code=statu
+00001fb0: 735f 636f 6465 290a 0a0a 6170 7020 3d20  s_code)...app = 
+00001fc0: 5374 6172 6c65 7474 6528 726f 7574 6573  Starlette(routes
+00001fd0: 3d5b 0a20 2020 2052 6f75 7465 2827 2f27  =[.    Route('/'
+00001fe0: 2c20 6d65 7468 6f64 733d 5b27 4745 5427  , methods=['GET'
+00001ff0: 5d2c 2065 6e64 706f 696e 743d 696e 6465  ], endpoint=inde
+00002000: 7829 2c0a 2020 2020 526f 7574 6528 272f  x),.    Route('/
+00002010: 6372 6561 7465 2d61 6363 6f75 6e74 272c  create-account',
+00002020: 206d 6574 686f 6473 3d5b 2747 4554 272c   methods=['GET',
+00002030: 2027 504f 5354 275d 2c20 656e 6470 6f69   'POST'], endpoi
+00002040: 6e74 3d63 7265 6174 655f 6163 636f 756e  nt=create_accoun
+00002050: 7429 2c0a 5d29 0a0a 6060 600a 0a23 2323  t),.])..```..###
+00002060: 2041 7379 6e63 2043 7573 746f 6d20 5661   Async Custom Va
+00002070: 6c69 6461 746f 7273 0a0a 5468 6520 6053  lidators..The `S
+00002080: 7461 726c 6574 7465 466f 726d 6020 636c  tarletteForm` cl
+00002090: 6173 7320 616c 6c6f 7773 2079 6f75 2074  ass allows you t
+000020a0: 6f20 696d 706c 656d 656e 7420 6173 796e  o implement asyn
+000020b0: 6368 726f 6e6f 7573 205b 5754 466f 726d  chronous [WTForm
+000020c0: 732d 6c69 6b65 2063 7573 746f 6d20 7661  s-like custom va
+000020d0: 6c69 6461 746f 7273 5d28 6874 7470 733a  lidators](https:
+000020e0: 2f2f 7774 666f 726d 732e 7265 6164 7468  //wtforms.readth
+000020f0: 6564 6f63 732e 696f 2f65 6e2f 7374 6162  edocs.io/en/stab
+00002100: 6c65 2f76 616c 6964 6174 6f72 732f 2363  le/validators/#c
+00002110: 7573 746f 6d2d 7661 6c69 6461 746f 7273  ustom-validators
+00002120: 2920 6279 2061 6464 696e 6720 6061 7379  ) by adding `asy
+00002130: 6e63 5f76 616c 6964 6174 655f 7b66 6965  nc_validate_{fie
+00002140: 6c64 6e61 6d65 7d60 206d 6574 686f 6473  ldname}` methods
+00002150: 2074 6f20 796f 7572 2066 6f72 6d20 636c   to your form cl
+00002160: 6173 7365 733a 0a0a 6060 6070 7974 686f  asses:..```pytho
+00002170: 6e0a 6672 6f6d 2073 7461 726c 6574 7465  n.from starlette
+00002180: 5f77 7466 2069 6d70 6f72 7420 5374 6172  _wtf import Star
+00002190: 6c65 7474 6546 6f72 6d0a 6672 6f6d 2077  letteForm.from w
+000021a0: 7466 6f72 6d73 2069 6d70 6f72 7420 5465  tforms import Te
+000021b0: 7874 4669 656c 642c 2050 6173 7377 6f72  xtField, Passwor
+000021c0: 6446 6965 6c64 2c20 5661 6c69 6461 7469  dField, Validati
+000021d0: 6f6e 4572 726f 720a 6672 6f6d 2077 7466  onError.from wtf
+000021e0: 6f72 6d73 2e76 616c 6964 6174 6f72 7320  orms.validators 
+000021f0: 696d 706f 7274 2044 6174 6152 6571 7569  import DataRequi
+00002200: 7265 642c 2045 6d61 696c 2c20 4571 7561  red, Email, Equa
+00002210: 6c54 6f0a 0a0a 636c 6173 7320 4372 6561  lTo...class Crea
+00002220: 7465 4163 636f 756e 7446 6f72 6d28 5374  teAccountForm(St
+00002230: 6172 6c65 7474 6546 6f72 6d29 3a0a 2020  arletteForm):.  
+00002240: 2020 656d 6169 6c20 3d20 5465 7874 4669    email = TextFi
+00002250: 656c 6428 0a20 2020 2020 2020 2027 456d  eld(.        'Em
+00002260: 6169 6c20 6164 6472 6573 7327 2c0a 2020  ail address',.  
+00002270: 2020 2020 2020 7661 6c69 6461 746f 7273        validators
+00002280: 3d5b 0a20 2020 2020 2020 2020 2020 2044  =[.            D
+00002290: 6174 6152 6571 7569 7265 6428 2750 6c65  ataRequired('Ple
+000022a0: 6173 6520 656e 7465 7220 796f 7572 2065  ase enter your e
+000022b0: 6d61 696c 2061 6464 7265 7373 2729 2c0a  mail address'),.
+000022c0: 2020 2020 2020 2020 2020 2020 456d 6169              Emai
+000022d0: 6c28 290a 2020 2020 2020 2020 5d0a 2020  l().        ].  
+000022e0: 2020 290a 0a20 2020 2070 6173 7377 6f72    )..    passwor
+000022f0: 6420 3d20 5061 7373 776f 7264 4669 656c  d = PasswordFiel
+00002300: 6428 0a20 2020 2020 2020 2027 5061 7373  d(.        'Pass
+00002310: 776f 7264 272c 0a20 2020 2020 2020 2077  word',.        w
+00002320: 6964 6765 743d 5061 7373 776f 7264 496e  idget=PasswordIn
+00002330: 7075 7428 6869 6465 5f76 616c 7565 3d46  put(hide_value=F
+00002340: 616c 7365 292c 0a20 2020 2020 2020 2076  alse),.        v
+00002350: 616c 6964 6174 6f72 733d 5b0a 2020 2020  alidators=[.    
+00002360: 2020 2020 2020 2020 4461 7461 5265 7175          DataRequ
+00002370: 6972 6564 2827 506c 6561 7365 2065 6e74  ired('Please ent
+00002380: 6572 2079 6f75 7220 7061 7373 776f 7264  er your password
+00002390: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
+000023a0: 4571 7561 6c54 6f28 2770 6173 7377 6f72  EqualTo('passwor
+000023b0: 645f 636f 6e66 6972 6d27 2c20 6d65 7373  d_confirm', mess
+000023c0: 6167 653d 2750 6173 7377 6f72 6473 206d  age='Passwords m
+000023d0: 7573 7420 6d61 7463 6827 290a 2020 2020  ust match').    
+000023e0: 2020 2020 5d0a 2020 2020 290a 0a20 2020      ].    )..   
+000023f0: 2070 6173 7377 6f72 645f 636f 6e66 6972   password_confir
+00002400: 6d20 3d20 5061 7373 776f 7264 4669 656c  m = PasswordFiel
+00002410: 6428 0a20 2020 2020 2020 2027 436f 6e66  d(.        'Conf
+00002420: 6972 6d20 5061 7373 776f 7264 272c 0a20  irm Password',. 
+00002430: 2020 2020 2020 2077 6964 6765 743d 5061         widget=Pa
+00002440: 7373 776f 7264 496e 7075 7428 6869 6465  sswordInput(hide
+00002450: 5f76 616c 7565 3d46 616c 7365 292c 0a20  _value=False),. 
+00002460: 2020 2020 2020 2076 616c 6964 6174 6f72         validator
+00002470: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+00002480: 4461 7461 5265 7175 6972 6564 2827 506c  DataRequired('Pl
+00002490: 6561 7365 2063 6f6e 6669 726d 2079 6f75  ease confirm you
+000024a0: 7220 7061 7373 776f 7264 2729 0a20 2020  r password').   
+000024b0: 2020 2020 205d 0a20 2020 2029 0a0a 2020       ].    )..  
+000024c0: 2020 6173 796e 6320 6465 6620 6173 796e    async def asyn
+000024d0: 635f 7661 6c69 6461 7465 5f65 6d61 696c  c_validate_email
+000024e0: 2873 656c 662c 2066 6965 6c64 293a 0a20  (self, field):. 
+000024f0: 2020 2020 2020 2022 2222 4173 796e 6368         """Asynch
+00002500: 726f 6e6f 7573 2076 616c 6964 6174 6f72  ronous validator
+00002510: 2074 6f20 6368 6563 6b20 6966 2065 6d61   to check if ema
+00002520: 696c 2069 7320 616c 7265 6164 7920 696e  il is already in
+00002530: 2d75 7365 0a20 2020 2020 2020 2022 2222  -use.        """
+00002540: 0a20 2020 2020 2020 2023 2072 6570 6c61  .        # repla
+00002550: 6365 2074 6869 7320 7769 7468 2079 6f75  ce this with you
+00002560: 7220 6f77 6e20 636f 6465 0a20 2020 2020  r own code.     
+00002570: 2020 2069 6620 6177 6169 7420 6d61 6b65     if await make
+00002580: 5f64 6174 6162 6173 655f 7265 7175 6573  _database_reques
+00002590: 745f 6865 7265 2829 3a0a 2020 2020 2020  t_here():.      
+000025a0: 2020 2020 2020 7261 6973 6520 5661 6c69        raise Vali
+000025b0: 6461 7469 6f6e 4572 726f 7228 2745 6d61  dationError('Ema
+000025c0: 696c 2069 7320 616c 7265 6164 7920 696e  il is already in
+000025d0: 2075 7365 2729 0a60 6060 0a0a 2323 2043   use').```..## C
+000025e0: 5352 4620 5072 6f74 6563 7469 6f6e 0a0a  SRF Protection..
+000025f0: 496e 206f 7264 6572 2074 6f20 6164 6420  In order to add 
+00002600: 4353 5246 2070 726f 7465 6374 696f 6e20  CSRF protection 
+00002610: 746f 2079 6f75 7220 6170 702c 2066 6972  to your app, fir
+00002620: 7374 2079 6f75 206d 7573 7420 656e 7375  st you must ensu
+00002630: 7265 2074 6861 7420 5374 6172 6c65 7474  re that Starlett
+00002640: 6527 7320 6053 6573 7369 6f6e 4d69 6464  e's `SessionMidd
+00002650: 6c65 7761 7265 6020 6973 2065 6e61 626c  leware` is enabl
+00002660: 6564 2c20 7365 636f 6e64 2079 6f75 206d  ed, second you m
+00002670: 7573 7420 636f 6e66 6967 7572 6520 5374  ust configure St
+00002680: 6172 6c65 7474 652d 5754 4620 7573 696e  arlette-WTF usin
+00002690: 6720 6043 5352 4650 726f 7465 6374 4d69  g `CSRFProtectMi
+000026a0: 6464 6c65 7761 7265 602c 2074 6869 7264  ddleware`, third
+000026b0: 2079 6f75 206d 7573 7420 7573 6520 7468   you must use th
+000026c0: 6520 6040 6373 7266 5f70 726f 7465 6374  e `@csrf_protect
+000026d0: 6020 6465 636f 7261 746f 7220 746f 2070  ` decorator to p
+000026e0: 726f 7465 6374 2069 6e64 6976 6964 7561  rotect individua
+000026f0: 6c20 656e 6470 6f69 6e74 732c 2061 6e64  l endpoints, and
+00002700: 2066 6f75 7274 6820 796f 7520 6d75 7374   fourth you must
+00002710: 2061 6464 2074 6865 2043 5352 4620 746f   add the CSRF to
+00002720: 6b65 6e20 746f 2079 6f75 7220 4854 4d4c  ken to your HTML
+00002730: 2066 6f72 6d73 206f 7220 4a61 7661 5363   forms or JavaSc
+00002740: 7269 7074 2072 6571 7565 7374 732e 0a0a  ript requests...
+00002750: 2323 2320 5365 7475 700a 0a54 6f20 656e  ### Setup..To en
+00002760: 6162 6c65 2043 5352 4620 7072 6f74 6563  able CSRF protec
+00002770: 7469 6f6e 2066 6f72 2079 6f75 7220 6170  tion for your ap
+00002780: 702c 2066 6972 7374 2079 6f75 206d 7573  p, first you mus
+00002790: 7420 656e 7375 7265 2074 6861 7420 5374  t ensure that St
+000027a0: 6172 6c65 7474 6527 7320 6053 6573 7369  arlette's `Sessi
+000027b0: 6f6e 4d69 6464 6c65 7761 7265 6020 6973  onMiddleware` is
+000027c0: 2065 6e61 626c 6564 2c20 616e 6420 7365   enabled, and se
+000027d0: 636f 6e64 2079 6f75 206d 7573 7420 636f  cond you must co
+000027e0: 6e66 6967 7572 6520 5374 6172 6c65 7474  nfigure Starlett
+000027f0: 652d 5754 4620 7573 696e 6720 6043 5352  e-WTF using `CSR
+00002800: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00002810: 7265 602e 0a0a 6060 6070 7974 686f 6e0a  re`...```python.
+00002820: 6672 6f6d 2073 7461 726c 6574 7465 2e61  from starlette.a
+00002830: 7070 6c69 6361 7469 6f6e 7320 696d 706f  pplications impo
+00002840: 7274 2053 7461 726c 6574 7465 0a66 726f  rt Starlette.fro
+00002850: 6d20 7374 6172 6c65 7474 652e 6d69 6464  m starlette.midd
+00002860: 6c65 7761 7265 2069 6d70 6f72 7420 4d69  leware import Mi
+00002870: 6464 6c65 7761 7265 0a66 726f 6d20 7374  ddleware.from st
+00002880: 6172 6c65 7474 652e 6d69 6464 6c65 7761  arlette.middlewa
+00002890: 7265 2e73 6573 7369 6f6e 7320 696d 706f  re.sessions impo
+000028a0: 7274 2053 6573 7369 6f6e 4d69 6464 6c65  rt SessionMiddle
+000028b0: 7761 7265 0a66 726f 6d20 7374 6172 6c65  ware.from starle
+000028c0: 7474 655f 7774 6620 696d 706f 7274 2043  tte_wtf import C
+000028d0: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
+000028e0: 7761 7265 0a0a 0a61 7070 203d 2053 7461  ware...app = Sta
+000028f0: 726c 6574 7465 286d 6964 646c 6577 6172  rlette(middlewar
+00002900: 653d 5b0a 2020 2020 4d69 6464 6c65 7761  e=[.    Middlewa
+00002910: 7265 2853 6573 7369 6f6e 4d69 6464 6c65  re(SessionMiddle
+00002920: 7761 7265 2c20 7365 6372 6574 5f6b 6579  ware, secret_key
+00002930: 3d27 2a2a 2a52 4550 4c41 4345 4d45 312a  ='***REPLACEME1*
+00002940: 2a2a 2729 2c0a 2020 2020 4d69 6464 6c65  **'),.    Middle
+00002950: 7761 7265 2843 5352 4650 726f 7465 6374  ware(CSRFProtect
+00002960: 4d69 6464 6c65 7761 7265 2c20 6373 7266  Middleware, csrf
+00002970: 5f73 6563 7265 743d 272a 2a2a 5245 504c  _secret='***REPL
+00002980: 4143 454d 4532 2a2a 2a27 290a 5d29 0a60  ACEME2***').]).`
+00002990: 6060 0a0a 2323 2320 5072 6f74 6563 7420  ``..### Protect 
+000029a0: 5669 6577 730a 0a4f 6e63 6520 5374 6172  Views..Once Star
+000029b0: 6c65 7474 652d 5754 4620 6861 7320 6265  lette-WTF has be
+000029c0: 656e 2063 6f6e 6669 6775 7265 6420 7573  en configured us
+000029d0: 696e 6720 6043 5352 4650 726f 7465 6374  ing `CSRFProtect
+000029e0: 4d69 6464 6c65 7761 7265 6020 796f 7520  Middleware` you 
+000029f0: 6361 6e20 656e 6162 6c65 2043 5352 4620  can enable CSRF 
+00002a00: 7072 6f74 6563 7469 6f6e 2066 6f72 2069  protection for i
+00002a10: 6e64 6976 6964 7561 6c20 656e 6470 6f69  ndividual endpoi
+00002a20: 6e74 7320 7573 696e 6720 7468 6520 6040  nts using the `@
+00002a30: 6373 7266 5f70 726f 7465 6374 6020 6465  csrf_protect` de
+00002a40: 636f 7261 746f 722e 2054 6865 2060 4063  corator. The `@c
+00002a50: 7372 665f 7072 6f74 6563 7460 2064 6563  srf_protect` dec
+00002a60: 6f72 6174 6f72 2077 696c 6c20 6175 746f  orator will auto
+00002a70: 6d61 7469 6361 6c6c 7920 6c6f 6f6b 2066  matically look f
+00002a80: 6f72 2060 6373 7266 5f74 6f6b 656e 6020  or `csrf_token` 
+00002a90: 696e 2074 6865 2066 6f72 6d20 6461 7461  in the form data
+00002aa0: 206f 7220 696e 2074 6865 2072 6571 7565   or in the reque
+00002ab0: 7374 2068 6561 6465 7273 2028 6058 2d43  st headers (`X-C
+00002ac0: 5352 4654 6f6b 656e 6029 2061 6e64 2069  SRFToken`) and i
+00002ad0: 7420 7769 6c6c 2072 6169 7365 2061 6e20  t will raise an 
+00002ae0: 6048 5454 5045 7863 6570 7469 6f6e 6020  `HTTPException` 
+00002af0: 6966 2074 6865 2074 6f6b 656e 2069 7320  if the token is 
+00002b00: 6d69 7373 696e 6720 6f72 2069 6e76 616c  missing or inval
+00002b10: 6964 2e20 4353 5246 2074 6f6b 656e 2076  id. CSRF token v
+00002b20: 616c 6964 6174 696f 6e20 7769 6c6c 206f  alidation will o
+00002b30: 6e6c 7920 6265 2070 6572 666f 726d 6564  nly be performed
+00002b40: 206f 6e20 7375 626d 6973 7369 6f6e 2072   on submission r
+00002b50: 6571 7565 7374 7320 2850 4f53 542c 2050  equests (POST, P
+00002b60: 5554 2c20 5041 5443 482c 2044 454c 4554  UT, PATCH, DELET
+00002b70: 4529 3a0a 0a60 6060 7079 7468 6f6e 0a66  E):..```python.f
+00002b80: 726f 6d20 7374 6172 6c65 7474 652e 7265  rom starlette.re
+00002b90: 7370 6f6e 7365 7320 696d 706f 7274 2050  sponses import P
+00002ba0: 6c61 696e 5465 7874 5265 7370 6f6e 7365  lainTextResponse
+00002bb0: 0a66 726f 6d20 7374 6172 6c65 7474 655f  .from starlette_
+00002bc0: 7774 6620 696d 706f 7274 2063 7372 665f  wtf import csrf_
+00002bd0: 7072 6f74 6563 740a 0a0a 4063 7372 665f  protect...@csrf_
+00002be0: 7072 6f74 6563 740a 6173 796e 6320 6465  protect.async de
+00002bf0: 6620 666f 726d 5f68 616e 646c 6572 2872  f form_handler(r
+00002c00: 6571 7565 7374 293a 0a20 2020 2022 2222  equest):.    """
+00002c10: 4745 547c 504f 5354 202f 666f 726d 2d68  GET|POST /form-h
+00002c20: 616e 646c 6572 3a20 466f 726d 2068 616e  andler: Form han
+00002c30: 646c 6572 0a20 2020 2022 2222 0a20 2020  dler.    """.   
+00002c40: 2023 2074 6869 7320 636f 6465 2077 6f6e   # this code won
+00002c50: 2774 2072 756e 2075 6e6c 6573 7320 7468  't run unless th
+00002c60: 6520 4353 5246 2074 6f6b 656e 2068 6173  e CSRF token has
+00002c70: 2062 6565 6e20 7661 6c69 6461 7465 640a   been validated.
+00002c80: 2020 2020 7265 7475 726e 2050 6c61 696e      return Plain
+00002c90: 5465 7874 5265 7370 6f6e 7365 2829 0a60  TextResponse().`
+00002ca0: 6060 0a0a 5468 6520 6040 6373 7266 5f70  ``..The `@csrf_p
+00002cb0: 726f 7465 6374 6020 6465 636f 7261 746f  rotect` decorato
+00002cc0: 7220 6361 6e20 616c 736f 2062 6520 7573  r can also be us
+00002cd0: 6564 2077 6974 6820 636c 6173 732d 6261  ed with class-ba
+00002ce0: 7365 6420 7669 6577 7320 2865 2e67 2e20  sed views (e.g. 
+00002cf0: 5b48 5454 5045 6e64 706f 696e 745d 2868  [HTTPEndpoint](h
+00002d00: 7474 7073 3a2f 2f77 7777 2e73 7461 726c  ttps://www.starl
+00002d10: 6574 7465 2e69 6f2f 656e 6470 6f69 6e74  ette.io/endpoint
+00002d20: 732f 2929 3a0a 6060 6070 7974 686f 6e0a  s/)):.```python.
+00002d30: 6672 6f6d 2073 7461 726c 6574 7465 2e65  from starlette.e
+00002d40: 6e64 706f 696e 7473 2069 6d70 6f72 7420  ndpoints import 
+00002d50: 4854 5450 456e 6470 6f69 6e74 0a66 726f  HTTPEndpoint.fro
+00002d60: 6d20 7374 6172 6c65 7474 652e 7265 7370  m starlette.resp
+00002d70: 6f6e 7365 7320 696d 706f 7274 2050 6c61  onses import Pla
+00002d80: 696e 5465 7874 5265 7370 6f6e 7365 0a66  inTextResponse.f
+00002d90: 726f 6d20 7374 6172 6c65 7474 655f 7774  rom starlette_wt
+00002da0: 6620 696d 706f 7274 2063 7372 665f 7072  f import csrf_pr
+00002db0: 6f74 6563 740a 0a0a 4063 7372 665f 7072  otect...@csrf_pr
+00002dc0: 6f74 6563 740a 636c 6173 7320 456e 6470  otect.class Endp
+00002dd0: 6f69 6e74 2848 5454 5045 6e64 706f 696e  oint(HTTPEndpoin
+00002de0: 7429 3a0a 2020 2020 6173 796e 6320 6465  t):.    async de
+00002df0: 6620 6765 7428 7365 6c66 2c20 7265 7175  f get(self, requ
+00002e00: 6573 7429 3a0a 2020 2020 2020 2020 2320  est):.        # 
+00002e10: 7468 6973 2063 6f64 6520 7769 6c6c 2072  this code will r
+00002e20: 756e 2077 6974 686f 7574 2061 2043 5352  un without a CSR
+00002e30: 4620 6368 6563 6b0a 2020 2020 2020 2020  F check.        
+00002e40: 7265 7475 726e 2050 6c61 696e 5465 7874  return PlainText
+00002e50: 5265 7370 6f6e 7365 2829 0a0a 2020 2020  Response()..    
+00002e60: 6173 796e 6320 6465 6620 706f 7374 2873  async def post(s
+00002e70: 656c 662c 2072 6571 7565 7374 293a 0a20  elf, request):. 
+00002e80: 2020 2020 2020 2023 2074 6869 7320 636f         # this co
+00002e90: 6465 2077 6f6e 2774 2072 756e 2075 6e6c  de won't run unl
+00002ea0: 6573 7320 7468 6520 4353 5246 2074 6f6b  ess the CSRF tok
+00002eb0: 656e 2068 6173 2062 6565 6e20 7661 6c69  en has been vali
+00002ec0: 6461 7465 640a 2020 2020 2020 2020 7265  dated.        re
+00002ed0: 7475 726e 2050 6c61 696e 5465 7874 5265  turn PlainTextRe
+00002ee0: 7370 6f6e 7365 2829 0a60 6060 0a0a 5468  sponse().```..Th
+00002ef0: 6520 6040 6373 7266 5f70 726f 7465 6374  e `@csrf_protect
+00002f00: 6020 6465 636f 7261 746f 7220 6361 6e20  ` decorator can 
+00002f10: 616c 736f 2062 6520 7573 6564 2077 6974  also be used wit
+00002f20: 6820 626f 756e 6420 6d65 7468 6f64 7320  h bound methods 
+00002f30: 6174 7461 6368 6564 2074 6f20 636c 6173  attached to clas
+00002f40: 732d 6261 7365 6420 7669 6577 733a 0a60  s-based views:.`
+00002f50: 6060 7079 7468 6f6e 0a66 726f 6d20 7374  ``python.from st
+00002f60: 6172 6c65 7474 652e 656e 6470 6f69 6e74  arlette.endpoint
+00002f70: 7320 696d 706f 7274 2048 5454 5045 6e64  s import HTTPEnd
+00002f80: 706f 696e 740a 6672 6f6d 2073 7461 726c  point.from starl
+00002f90: 6574 7465 2e72 6573 706f 6e73 6573 2069  ette.responses i
+00002fa0: 6d70 6f72 7420 506c 6169 6e54 6578 7452  mport PlainTextR
+00002fb0: 6573 706f 6e73 650a 6672 6f6d 2073 7461  esponse.from sta
+00002fc0: 726c 6574 7465 5f77 7466 2069 6d70 6f72  rlette_wtf impor
+00002fd0: 7420 6373 7266 5f70 726f 7465 6374 0a0a  t csrf_protect..
+00002fe0: 0a63 6c61 7373 2045 6e64 706f 696e 7428  .class Endpoint(
+00002ff0: 4854 5450 456e 6470 6f69 6e74 293a 0a20  HTTPEndpoint):. 
+00003000: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00003010: 2873 656c 662c 2072 6571 7565 7374 293a  (self, request):
+00003020: 0a20 2020 2020 2020 2023 2074 6869 7320  .        # this 
+00003030: 636f 6465 2077 696c 6c20 7275 6e20 7769  code will run wi
+00003040: 7468 6f75 7420 6120 4353 5246 2063 6865  thout a CSRF che
+00003050: 636b 0a20 2020 2020 2020 2072 6574 7572  ck.        retur
+00003060: 6e20 506c 6169 6e54 6578 7452 6573 706f  n PlainTextRespo
+00003070: 6e73 6528 290a 0a20 2020 2040 6373 7266  nse()..    @csrf
+00003080: 5f70 726f 7465 6374 0a20 2020 2061 7379  _protect.    asy
+00003090: 6e63 2064 6566 2070 6f73 7428 7365 6c66  nc def post(self
+000030a0: 2c20 7265 7175 6573 7429 3a0a 2020 2020  , request):.    
+000030b0: 2020 2020 2320 7468 6973 2063 6f64 6520      # this code 
+000030c0: 776f 6e27 7420 7275 6e20 756e 6c65 7373  won't run unless
+000030d0: 2074 6865 2043 5352 4620 746f 6b65 6e20   the CSRF token 
+000030e0: 6861 7320 6265 656e 2076 616c 6964 6174  has been validat
+000030f0: 6564 0a20 2020 2020 2020 2072 6574 7572  ed.        retur
+00003100: 6e20 506c 6169 6e54 6578 7452 6573 706f  n PlainTextRespo
+00003110: 6e73 6528 290a 6060 600a 0a23 2323 2048  nse().```..### H
+00003120: 544d 4c20 466f 726d 730a 0a57 6865 6e20  TML Forms..When 
+00003130: 7573 696e 6720 6053 7461 726c 6574 7465  using `Starlette
+00003140: 466f 726d 6020 796f 7520 6361 6e20 7265  Form` you can re
+00003150: 6e64 6572 2074 6865 2066 6f72 6d27 7320  nder the form's 
+00003160: 4353 5246 2074 6f6b 656e 2066 6965 6c64  CSRF token field
+00003170: 206c 696b 6520 7468 6973 3a0a 0a60 6060   like this:..```
+00003180: 6874 6d6c 0a3c 666f 726d 206d 6574 686f  html.<form metho
+00003190: 643d 2270 6f73 7422 3e0a 2020 7b7b 2066  d="post">.  {{ f
+000031a0: 6f72 6d2e 6373 7266 5f74 6f6b 656e 207d  orm.csrf_token }
+000031b0: 7d0a 3c2f 666f 726d 3e0a 6060 600a 0a23  }.</form>.```..#
+000031c0: 2323 204a 6176 6153 6372 6970 7420 5265  ## JavaScript Re
+000031d0: 7175 6573 7473 0a0a 5768 656e 2073 656e  quests..When sen
+000031e0: 6469 6e67 2061 6e20 414a 4158 2072 6571  ding an AJAX req
+000031f0: 7565 7374 2c20 6164 6420 7468 6520 6058  uest, add the `X
+00003200: 2d43 5352 4654 6f6b 656e 6020 6865 6164  -CSRFToken` head
+00003210: 6572 2074 6f20 616c 6c6f 7720 5374 6172  er to allow Star
+00003220: 6c65 7474 652d 5754 4620 746f 2070 6572  lette-WTF to per
+00003230: 666f 726d 2043 5352 4620 7661 6c69 6461  form CSRF valida
+00003240: 7469 6f6e 2e20 466f 7220 6578 616d 706c  tion. For exampl
+00003250: 652c 2069 6e20 6a51 7565 7279 2079 6f75  e, in jQuery you
+00003260: 2063 616e 2063 6f6e 6669 6775 7265 2061   can configure a
+00003270: 6c6c 2072 6571 7565 7374 7320 746f 2073  ll requests to s
+00003280: 656e 6420 7468 6520 746f 6b65 6e3a 0a0a  end the token:..
+00003290: 6060 6068 746d 6c0a 3c73 6372 6970 7420  ```html.<script 
+000032a0: 7479 7065 3d22 7465 7874 2f6a 6176 6173  type="text/javas
+000032b0: 6372 6970 7422 3e0a 2020 7661 7220 6373  cript">.  var cs
+000032c0: 7266 5f74 6f6b 656e 203d 2022 7b7b 2063  rf_token = "{{ c
+000032d0: 7372 665f 746f 6b65 6e28 7265 7175 6573  srf_token(reques
+000032e0: 7429 207d 7d22 3b0a 0a20 2024 2e61 6a61  t) }}";..  $.aja
+000032f0: 7853 6574 7570 287b 0a20 2020 2062 6566  xSetup({.    bef
+00003300: 6f72 6553 656e 643a 2066 756e 6374 696f  oreSend: functio
+00003310: 6e28 7868 722c 2073 6574 7469 6e67 7329  n(xhr, settings)
+00003320: 207b 0a20 2020 2020 2069 6620 2821 2f5e   {.      if (!/^
+00003330: 2847 4554 7c48 4541 447c 4f50 5449 4f4e  (GET|HEAD|OPTION
+00003340: 537c 5452 4143 4529 242f 692e 7465 7374  S|TRACE)$/i.test
+00003350: 2873 6574 7469 6e67 732e 7479 7065 2920  (settings.type) 
+00003360: 2626 2021 7468 6973 2e63 726f 7373 446f  && !this.crossDo
+00003370: 6d61 696e 2920 7b0a 2020 2020 2020 2020  main) {.        
+00003380: 7868 722e 7365 7452 6571 7565 7374 4865  xhr.setRequestHe
+00003390: 6164 6572 2822 582d 4353 5246 546f 6b65  ader("X-CSRFToke
+000033a0: 6e22 2c20 6373 7266 5f74 6f6b 656e 293b  n", csrf_token);
+000033b0: 0a20 2020 2020 207d 0a20 2020 207d 0a20  .      }.    }. 
+000033c0: 207d 293b 0a3c 2f73 6372 6970 743e 0a60   });.</script>.`
+000033d0: 6060 0a0a 2323 2320 4469 7361 626c 6520  ``..### Disable 
+000033e0: 696e 2055 6e69 7420 5465 7374 730a 0a54  in Unit Tests..T
+000033f0: 6f20 6469 7361 626c 6520 4353 5246 2070  o disable CSRF p
+00003400: 726f 7465 6374 696f 6e20 696e 2075 6e69  rotection in uni
+00003410: 7420 7465 7374 7320 796f 7520 6361 6e20  t tests you can 
+00003420: 746f 6767 6c65 2074 6865 2060 656e 6162  toggle the `enab
+00003430: 6c65 6460 2061 7474 7269 6275 7465 2069  led` attribute i
+00003440: 6e20 6043 5352 4650 726f 7465 6374 696f  n `CSRFProtectio
+00003450: 6e4d 6964 646c 6577 6172 6560 3a0a 0a60  nMiddleware`:..`
+00003460: 6060 7079 7468 6f6e 0a66 726f 6d20 7374  ``python.from st
+00003470: 6172 6c65 7474 652e 6170 706c 6963 6174  arlette.applicat
+00003480: 696f 6e73 2069 6d70 6f72 7420 5374 6172  ions import Star
+00003490: 6c65 7474 650a 6672 6f6d 2073 7461 726c  lette.from starl
+000034a0: 6574 7465 2e63 6f6e 6669 6720 696d 706f  ette.config impo
+000034b0: 7274 2065 6e76 6972 6f6e 0a66 726f 6d20  rt environ.from 
+000034c0: 7374 6172 6c65 7474 652e 6d69 6464 6c65  starlette.middle
+000034d0: 7761 7265 2069 6d70 6f72 7420 4d69 6464  ware import Midd
+000034e0: 6c65 7761 7265 0a66 726f 6d20 7374 6172  leware.from star
+000034f0: 6c65 7474 652e 6d69 6464 6c65 7761 7265  lette.middleware
+00003500: 2e73 6573 7369 6f6e 7320 696d 706f 7274  .sessions import
+00003510: 2053 6573 7369 6f6e 4d69 6464 6c65 7761   SessionMiddlewa
+00003520: 7265 0a66 726f 6d20 7374 6172 6c65 7474  re.from starlett
+00003530: 655f 7774 6620 696d 706f 7274 2043 5352  e_wtf import CSR
+00003540: 4650 726f 7465 6374 4d69 6464 6c65 7761  FProtectMiddlewa
+00003550: 7265 0a0a 0a61 7070 203d 2053 7461 726c  re...app = Starl
+00003560: 6574 7465 286d 6964 646c 6577 6172 653d  ette(middleware=
+00003570: 5b0a 2020 2020 4d69 6464 6c65 7761 7265  [.    Middleware
+00003580: 2853 6573 7369 6f6e 4d69 6464 6c65 7761  (SessionMiddlewa
+00003590: 7265 2c20 7365 6372 6574 5f6b 6579 3d27  re, secret_key='
+000035a0: 2a2a 2a52 4550 4c41 4345 4d45 312a 2a2a  ***REPLACEME1***
+000035b0: 2729 2c0a 2020 2020 4d69 6464 6c65 7761  '),.    Middlewa
+000035c0: 7265 2843 5352 4650 726f 7465 6374 4d69  re(CSRFProtectMi
+000035d0: 6464 6c65 7761 7265 2c0a 2020 2020 2020  ddleware,.      
+000035e0: 2020 2020 2020 2020 2065 6e61 626c 6564           enabled
+000035f0: 3d6e 6f74 2065 6e76 6972 6f6e 2e67 6574  =not environ.get
+00003600: 2827 5445 5354 494e 4727 2c20 4661 6c73  ('TESTING', Fals
+00003610: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
+00003620: 2020 2063 7372 665f 7365 6372 6574 3d27     csrf_secret='
+00003630: 2a2a 2a52 4550 4c41 4345 4d45 322a 2a2a  ***REPLACEME2***
+00003640: 2729 0a5d 290a 6060 600a 0a23 2323 2043  ').]).```..### C
+00003650: 6f6e 6669 6775 7261 7469 6f6e 0a0a 6043  onfiguration..`C
+00003660: 5352 4650 726f 7465 6374 4d69 6464 6c65  SRFProtectMiddle
+00003670: 7761 7265 6020 6163 6365 7074 7320 7468  ware` accepts th
+00003680: 6520 666f 6c6c 6f77 696e 6720 6f70 7469  e following opti
+00003690: 6f6e 733a 0a0a 7c20 4172 6775 6d65 6e74  ons:..| Argument
+000036a0: 2020 2020 2020 2020 2020 7c20 4465 7363            | Desc
+000036b0: 7269 7074 696f 6e0a 7c20 2d2d 2d2d 2d2d  ription.| ------
+000036c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 7c20 2d2d  ----------- | --
+000036d0: 2d2d 2d2d 2d2d 2d2d 2d0a 7c20 656e 6162  ---------.| enab
+000036e0: 6c65 6420 2020 2020 2020 2020 7c20 4966  led         | If
+000036f0: 2074 7275 652c 2065 6e61 626c 6573 2043   true, enables C
+00003700: 5352 4620 7072 6f74 6563 7469 6f6e 2e20  SRF protection. 
+00003710: 4465 6661 756c 7420 746f 2054 7275 652e  Default to True.
+00003720: 0a7c 2063 7372 665f 7365 6372 6574 2020  .| csrf_secret  
+00003730: 2020 207c 2054 6865 2043 5352 4620 746f     | The CSRF to
+00003740: 6b65 6e20 7369 676e 696e 6720 6b65 792e  ken signing key.
+00003750: 0a7c 2063 7372 665f 6669 656c 645f 6e61  .| csrf_field_na
+00003760: 6d65 207c 2054 6865 2043 5352 4620 746f  me | The CSRF to
+00003770: 6b65 6e27 7320 6669 656c 6420 6e61 6d65  ken's field name
+00003780: 2069 6e20 7468 6520 7365 7373 696f 6e2e   in the session.
+00003790: 2044 6566 6175 6c74 7320 746f 2022 6373   Defaults to "cs
+000037a0: 7266 5f74 6f6b 656e 220a 7c20 6373 7266  rf_token".| csrf
+000037b0: 5f74 696d 655f 6c69 6d69 7420 7c20 5468  _time_limit | Th
+000037c0: 6520 7469 6d65 206c 696d 6974 2066 6f72  e time limit for
+000037d0: 2065 6163 6820 7369 676e 6564 2074 6f6b   each signed tok
+000037e0: 656e 2069 6e20 7365 636f 6e64 732e 2044  en in seconds. D
+000037f0: 6566 6175 6c74 7320 746f 2033 3630 302e  efaults to 3600.
+00003800: 0a7c 2063 7372 665f 6865 6164 6572 7320  .| csrf_headers 
+00003810: 2020 207c 204c 6973 7420 6f66 2043 5352     | List of CSR
+00003820: 4620 4854 5450 2068 6561 6465 7220 6669  F HTTP header fi
+00003830: 656c 6420 6e61 6d65 732e 2044 6566 6175  eld names. Defau
+00003840: 6c74 7320 746f 205b 2258 2d43 5352 4654  lts to ["X-CSRFT
+00003850: 6f6b 656e 222c 2022 582d 4353 5246 2d54  oken", "X-CSRF-T
+00003860: 6f6b 656e 225d 0a7c 2063 7372 665f 7373  oken"].| csrf_ss
+00003870: 6c5f 7374 7269 6374 207c 2049 6620 656e  l_strict | If en
+00003880: 6162 6c65 642c 2065 6e73 7572 6573 2073  abled, ensures s
+00003890: 616d 6520 6f72 6967 696e 2070 6f6c 6963  ame origin polic
+000038a0: 7920 6f6e 2068 7474 7073 2072 6571 7565  y on https reque
+000038b0: 7374 732e 2044 6566 6175 6c74 7320 746f  sts. Defaults to
+000038c0: 2054 7275 652e 0a0a 2323 2044 6576 656c   True...## Devel
+000038d0: 6f70 6d65 6e74 0a0a 2323 2320 4765 7420  opment..### Get 
+000038e0: 7468 6520 636f 6465 0a0a 5374 6172 6c65  the code..Starle
+000038f0: 7474 652d 5754 4620 6973 2061 6374 6976  tte-WTF is activ
+00003900: 656c 7920 6465 7665 6c6f 7065 6420 6f6e  ely developed on
+00003910: 2047 6974 4875 622e 2059 6f75 2063 616e   GitHub. You can
+00003920: 2063 6c6f 6e65 2074 6865 2072 6570 6f73   clone the repos
+00003930: 6974 6f72 7920 7573 696e 6720 6769 743a  itory using git:
+00003940: 0a0a 6060 6062 6173 680a 6769 7420 636c  ..```bash.git cl
+00003950: 6f6e 6520 6769 7440 6769 7468 7562 2e63  one git@github.c
+00003960: 6f6d 3a6d 7569 6373 732f 7374 6172 6c65  om:muicss/starle
+00003970: 7474 652d 7774 662e 6769 740a 6060 600a  tte-wtf.git.```.
+00003980: 0a4f 6e63 6520 796f 7520 6861 7665 2061  .Once you have a
+00003990: 2063 6f70 7920 6f66 2074 6865 2073 6f75   copy of the sou
+000039a0: 7263 652c 2079 6f75 2063 616e 2069 6e73  rce, you can ins
+000039b0: 7461 6c6c 2069 7420 696e 746f 2079 6f75  tall it into you
+000039c0: 7220 7369 7465 2d70 6163 6b61 6765 7320  r site-packages 
+000039d0: 696e 2064 6576 656c 6f70 6d65 6e74 206d  in development m
+000039e0: 6f64 6520 736f 2079 6f75 2063 616e 206d  ode so you can m
+000039f0: 6f64 6966 7920 616e 6420 6578 6563 7574  odify and execut
+00003a00: 6520 7468 6520 636f 6465 3a0a 0a60 6060  e the code:..```
+00003a10: 6261 7368 0a70 6970 2069 6e73 7461 6c6c  bash.pip install
+00003a20: 202d 6520 2e0a 6060 600a 0a23 2323 2052   -e ..```..### R
+00003a30: 756e 2075 6e69 7420 7465 7374 730a 0a54  un unit tests..T
+00003a40: 6f20 696e 7374 616c 6c20 756e 6974 2074  o install unit t
+00003a50: 6573 7420 6465 7065 6e64 656e 6369 6573  est dependencies
+00003a60: 3a0a 0a60 6060 6261 7368 0a70 6970 2069  :..```bash.pip i
+00003a70: 6e73 7461 6c6c 202d 6520 2e5c 5b74 6573  nstall -e .\[tes
+00003a80: 745c 5d0a 6060 600a 0a54 6f20 7275 6e20  t\].```..To run 
+00003a90: 756e 6974 2074 6573 7473 3a0a 0a60 6060  unit tests:..```
+00003aa0: 6261 7368 0a70 7974 6573 740a 6060 600a  bash.pytest.```.
```

### Comparing `Starlette-WTF-0.4.3rc1/setup.py` & `Starlette-WTF-0.4.4rc1/setup.py`

 * *Files 10% similar despite different names*

```diff
@@ -7,15 +7,15 @@
     with open('README.md') as f:
         return f.read()
     
 
 setup(
     name="Starlette-WTF",
     python_requires=">=3.6",
-    version="0.4.3-rc1",
+    version="0.4.4-rc1",
     url="https://github.com/muicss/starlette-wtf",
     license="MIT",
     author="Andres Morey",
     description="Simple integration of Starlette and WTForms.",
     long_description=get_long_description(),
     long_description_content_type='text/markdown',
     packages=['starlette_wtf'],
@@ -23,15 +23,20 @@
     install_requires=[
         'itsdangerous',
         'python-multipart',
         'starlette',
         'WTForms'
     ],
     extras_require={
-        'test': ['pytest', 'requests', 'jinja2']
+        'test': [
+            'httpx',
+            'jinja2',
+            'pytest',
+            'requests',
+        ]
     },
     classifiers=[
         "Development Status :: 3 - Alpha",
         "Environment :: Web Environment",
         "Intended Audience :: Developers",
         "License :: OSI Approved :: BSD License",
         "Operating System :: OS Independent",
```

### Comparing `Starlette-WTF-0.4.3rc1/starlette_wtf/csrf.py` & `Starlette-WTF-0.4.4rc1/starlette_wtf/csrf.py`

 * *Files identical despite different names*

### Comparing `Starlette-WTF-0.4.3rc1/starlette_wtf/form.py` & `Starlette-WTF-0.4.4rc1/starlette_wtf/form.py`

 * *Files identical despite different names*

### Comparing `Starlette-WTF-0.4.3rc1/starlette_wtf/util.py` & `Starlette-WTF-0.4.4rc1/starlette_wtf/util.py`

 * *Files identical despite different names*

